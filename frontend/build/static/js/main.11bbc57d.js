/*! For license information please see main.11bbc57d.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,a)=>{var s=a(853),r=a(43),n=a(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(l(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case f:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case j:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(a){}}return null}var D=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},M=[],O=-1;function B(e){return{current:e}}function F(e){0>O||(e.current=M[O],M[O]=null,O--)}function U(e,t){O++,M[O]=e.current,e.current=t}var q=B(null),W=B(null),V=B(null),H=B(null);function J(e,t){switch(U(V,t),U(W,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ru(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=nu(t=ru(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(q),U(q,e)}function G(){F(q),F(W),F(V)}function $(e){null!==e.memoizedState&&U(H,e);var t=q.current,a=nu(t,e.type);t!==a&&(U(W,e),U(q,a))}function K(e){W.current===e&&(F(q),F(W)),H.current===e&&(F(H),$u._currentValue=R)}var Q=Object.prototype.hasOwnProperty,Y=s.unstable_scheduleCallback,X=s.unstable_cancelCallback,Z=s.unstable_shouldYield,ee=s.unstable_requestPaint,te=s.unstable_now,ae=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,re=s.unstable_UserBlockingPriority,ne=s.unstable_NormalPriority,le=s.unstable_LowPriority,ie=s.unstable_IdlePriority,oe=s.log,ce=s.unstable_setDisableYieldValue,de=null,ue=null;function me(e){if("function"===typeof oe&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/pe|0)|0},he=Math.log,pe=Math.LN2;var ge=256,ye=4194304;function fe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,a){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&s;return 0!==i?0!==(s=i&~n)?r=fe(s):0!==(l&=i)?r=fe(l):a||0!==(a=i&~e)&&(r=fe(a)):0!==(i=s&~n)?r=fe(i):0!==l?r=fe(l):a||0!==(a=s&~e)&&(r=fe(a)),0===r?0:0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||32===n&&0!==(4194048&a))?t:r}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function we(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xe(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|4194090&a}function _e(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-xe(a),r=1<<s;r&t|e[s]&t&&(e[s]|=t),a&=~r}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var Le=Math.random().toString(36).slice(2),Te="__reactFiber$"+Le,De="__reactProps$"+Le,ze="__reactContainer$"+Le,Ie="__reactEvents$"+Le,Re="__reactListeners$"+Le,Me="__reactHandles$"+Le,Oe="__reactResources$"+Le,Be="__reactMarker$"+Le;function Fe(e){delete e[Te],delete e[De],delete e[Ie],delete e[Re],delete e[Me]}function Ue(e){var t=e[Te];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ze]||a[Te]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=bu(e);null!==e;){if(a=e[Te])return a;e=bu(e)}return t}a=(e=a).parentNode}return null}function qe(e){if(e=e[Te]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ve(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Be]=!0}var Je=new Set,Ge={};function $e(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var Qe,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,a){if(r=t,Q.call(et,r)||!Q.call(Ze,r)&&(Xe.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var r}function at(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function st(e,t,a,s){if(null===s)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+s)}}function rt(e){if(void 0===Qe)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Ye=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Ye}var nt=!1;function lt(e,t){if(!e||nt)return"";nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(r){var s=r}Reflect.construct(e,[],a)}else{try{a.call()}catch(n){s=n}e.call(a.prototype)}}else{try{throw Error()}catch(l){s=l}(a=e())&&"function"===typeof a.catch&&a.catch(function(){})}}catch(i){if(i&&s&&"string"===typeof i.stack)return[i.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=s.DetermineComponentFrameRoot(),l=n[0],i=n[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(r=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(s===o.length||r===c.length)for(s=o.length-1,r=c.length-1;1<=s&&0<=r&&o[s]!==c[r];)r--;for(;1<=s&&0<=r;s--,r--)if(o[s]!==c[r]){if(1!==s||1!==r)do{if(s--,0>--r||o[s]!==c[r]){var d="\n"+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=r);break}}}finally{nt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rt(a):""}function it(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return rt("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,n=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=dt(e)?e.checked?"true":"false":e.value),(e=s)!==a&&(t.setValue(e),!0)}function xt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,a,s,r,n,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?ft(e,l,ct(t)):null!=a?ft(e,l,ct(a)):null!=s&&e.removeAttribute("value"),null==r&&null!=n&&(e.defaultChecked=!!n),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function yt(e,t,a,s,r,n,l,i){if(null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&"boolean"!==typeof n&&(e.type=n),null!=t||null!=a){if(!("submit"!==n&&"reset"!==n||void 0!==t&&null!==t))return;a=null!=a?""+ct(a):"",t=null!=t?""+ct(t):a,i||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:r)&&"symbol"!==typeof s&&!!s,e.checked=i?e.checked:!!s,e.defaultChecked=!!s,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function ft(e,t,a){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bt(e,t,a,s){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ct(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function vt(e,t,a){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ct(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,a,s){if(null==t){if(null!=s){if(null!=a)throw Error(l(92));if(D(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}null==a&&(a=""),t=a}a=ct(t),e.defaultValue=a,(s=e.textContent)===a&&""!==s&&null!==s&&(e.value=s)}function Nt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,a){var s=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,a):"number"!==typeof a||0===a||wt.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function St(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=a){for(var s in a)!a.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&a[r]!==s&&kt(e,r,s)}else for(var n in t)t.hasOwnProperty(n)&&kt(e,n,t[n])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Dt=null;function zt(e){var t=qe(e);if(t&&(e=t.stateNode)){var a=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var r=s[De]||null;if(!r)throw Error(l(90));gt(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)(s=a[t]).form===e.form&&mt(s)}break e;case"textarea":vt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&bt(e,!!a.multiple,t,!1)}}}var It=!1;function Rt(e,t,a){if(It)return e(t,a);It=!0;try{return e(t)}finally{if(It=!1,(null!==Tt||null!==Dt)&&(Uc(),Tt&&(t=Tt,e=Dt,Dt=Tt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Mt(e,t){var a=e.stateNode;if(null===a)return null;var s=a[De]||null;if(null===s)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(l(231,t,typeof a));return a}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ot)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Dm){Bt=!1}var Ut=null,qt=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,a=qt,s=a.length,r="value"in Ut?Ut.value:Ut.textContent,n=r.length;for(e=0;e<s&&a[e]===r[e];e++);var l=s-e;for(t=1;t<=l&&a[s-t]===r[n-t];t++);return Wt=r.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Gt(){return!1}function $t(e){function t(t,a,s,r,n){for(var l in this._reactName=t,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Jt:Gt,this.isPropagationStopped=Gt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Kt,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Xt),ea=m({},Xt,{view:0,detail:0}),ta=$t(ea),aa=m({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Kt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Kt=0,Yt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),sa=$t(aa),ra=$t(m({},aa,{dataTransfer:0})),na=$t(m({},ea,{relatedTarget:0})),la=$t(m({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ia=$t(m({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),oa=$t(m({},Xt,{data:0})),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ma(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ua[e])&&!!t[e]}function xa(){return ma}var ha=$t(m({},ea,{key:function(e){if(e.key){var t=ca[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?da[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pa=$t(m({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ga=$t(m({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa})),ya=$t(m({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),fa=$t(m({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ba=$t(m({},Xt,{newState:0,oldState:0})),va=[9,13,27,32],ja=Ot&&"CompositionEvent"in window,Na=null;Ot&&"documentMode"in document&&(Na=document.documentMode);var wa=Ot&&"TextEvent"in window&&!Na,ka=Ot&&(!ja||Na&&8<Na&&11>=Na),Sa=String.fromCharCode(32),Ca=!1;function _a(e,t){switch(e){case"keyup":return-1!==va.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pa=!1;var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Aa[e.type]:"textarea"===t}function Ta(e,t,a,s){Tt?Dt?Dt.push(s):Dt=[s]:Tt=s,0<(t=Vd(t,"onChange")).length&&(a=new Zt("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Da=null,za=null;function Ia(e){Rd(e,0)}function Ra(e){if(mt(We(e)))return e}function Ma(e,t){if("change"===e)return t}var Oa=!1;if(Ot){var Ba;if(Ot){var Fa="oninput"in document;if(!Fa){var Ua=document.createElement("div");Ua.setAttribute("oninput","return;"),Fa="function"===typeof Ua.oninput}Ba=Fa}else Ba=!1;Oa=Ba&&(!document.documentMode||9<document.documentMode)}function qa(){Da&&(Da.detachEvent("onpropertychange",Wa),za=Da=null)}function Wa(e){if("value"===e.propertyName&&Ra(za)){var t=[];Ta(t,za,e,Lt(e)),Rt(Ia,t)}}function Va(e,t,a){"focusin"===e?(qa(),za=a,(Da=t).attachEvent("onpropertychange",Wa)):"focusout"===e&&qa()}function Ha(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ra(za)}function Ja(e,t){if("click"===e)return Ra(t)}function Ga(e,t){if("input"===e||"change"===e)return Ra(t)}var $a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ka(e,t){if($a(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var r=a[s];if(!Q.call(t,r)||!$a(e[r],t[r]))return!1}return!0}function Qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var a,s=Qa(e);for(e=0;s;){if(3===s.nodeType){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qa(s)}}function Xa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Za(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(s){a=!1}if(!a)break;t=xt((e=t.contentWindow).document)}return t}function es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ts=Ot&&"documentMode"in document&&11>=document.documentMode,as=null,ss=null,rs=null,ns=!1;function ls(e,t,a){var s=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;ns||null==as||as!==xt(s)||("selectionStart"in(s=as)&&es(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},rs&&Ka(rs,s)||(rs=s,0<(s=Vd(ss,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=as)))}function is(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var os={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},cs={},ds={};function us(e){if(cs[e])return cs[e];if(!os[e])return e;var t,a=os[e];for(t in a)if(a.hasOwnProperty(t)&&t in ds)return cs[e]=a[t];return e}Ot&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);var ms=us("animationend"),xs=us("animationiteration"),hs=us("animationstart"),ps=us("transitionrun"),gs=us("transitionstart"),ys=us("transitioncancel"),fs=us("transitionend"),bs=new Map,vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(e,t){bs.set(e,t),$e(t,[e])}vs.push("scrollEnd");var Ns=new WeakMap;function ws(e,t){if("object"===typeof e&&null!==e){var a=Ns.get(e);return void 0!==a?a:(t={value:e,source:t,stack:ot(t)},Ns.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var ks=[],Ss=0,Cs=0;function _s(){for(var e=Ss,t=Cs=Ss=0;t<e;){var a=ks[t];ks[t++]=null;var s=ks[t];ks[t++]=null;var r=ks[t];ks[t++]=null;var n=ks[t];if(ks[t++]=null,null!==s&&null!==r){var l=s.pending;null===l?r.next=r:(r.next=l.next,l.next=r),s.pending=r}0!==n&&Ls(a,r,n)}}function Es(e,t,a,s){ks[Ss++]=e,ks[Ss++]=t,ks[Ss++]=a,ks[Ss++]=s,Cs|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Ps(e,t,a,s){return Es(e,t,a,s),Ts(e)}function As(e,t){return Es(e,null,null,t),Ts(e)}function Ls(e,t,a){e.lanes|=a;var s=e.alternate;null!==s&&(s.lanes|=a);for(var r=!1,n=e.return;null!==n;)n.childLanes|=a,null!==(s=n.alternate)&&(s.childLanes|=a),22===n.tag&&(null===(e=n.stateNode)||1&e._visibility||(r=!0)),e=n,n=n.return;return 3===e.tag?(n=e.stateNode,r&&null!==t&&(r=31-xe(a),null===(s=(e=n.hiddenUpdates)[r])?e[r]=[t]:s.push(t),t.lane=536870912|a),n):null}function Ts(e){if(50<Tc)throw Tc=0,Dc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ds={};function zs(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(e,t,a,s){return new zs(e,t,a,s)}function Rs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ms(e,t){var a=e.alternate;return null===a?((a=Is(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Os(e,t){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bs(e,t,a,s,r,n){var i=0;if(s=e,"function"===typeof e)Rs(e)&&(i=1);else if("string"===typeof e)i=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Is(31,a,t,r)).elementType=_,e.lanes=n,e;case g:return Fs(a.children,r,n,t);case y:i=8,r|=24;break;case f:return(e=Is(12,a,t,2|r)).elementType=f,e.lanes=n,e;case w:return(e=Is(13,a,t,r)).elementType=w,e.lanes=n,e;case k:return(e=Is(19,a,t,r)).elementType=k,e.lanes=n,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case j:i=10;break e;case v:i=9;break e;case N:i=11;break e;case S:i=14;break e;case C:i=16,s=null;break e}i=29,a=Error(l(130,null===e?"null":typeof e,"")),s=null}return(t=Is(i,a,t,r)).elementType=e,t.type=s,t.lanes=n,t}function Fs(e,t,a,s){return(e=Is(7,e,s,t)).lanes=a,e}function Us(e,t,a){return(e=Is(6,e,null,t)).lanes=a,e}function qs(e,t,a){return(t=Is(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ws=[],Vs=0,Hs=null,Js=0,Gs=[],$s=0,Ks=null,Qs=1,Ys="";function Xs(e,t){Ws[Vs++]=Js,Ws[Vs++]=Hs,Hs=e,Js=t}function Zs(e,t,a){Gs[$s++]=Qs,Gs[$s++]=Ys,Gs[$s++]=Ks,Ks=e;var s=Qs;e=Ys;var r=32-xe(s)-1;s&=~(1<<r),a+=1;var n=32-xe(t)+r;if(30<n){var l=r-r%5;n=(s&(1<<l)-1).toString(32),s>>=l,r-=l,Qs=1<<32-xe(t)+r|a<<r|s,Ys=n+e}else Qs=1<<n|a<<r|s,Ys=e}function er(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function tr(e){for(;e===Hs;)Hs=Ws[--Vs],Ws[Vs]=null,Js=Ws[--Vs],Ws[Vs]=null;for(;e===Ks;)Ks=Gs[--$s],Gs[$s]=null,Ys=Gs[--$s],Gs[$s]=null,Qs=Gs[--$s],Gs[$s]=null}var ar=null,sr=null,rr=!1,nr=null,lr=!1,ir=Error(l(519));function or(e){throw hr(ws(Error(l(418,"")),e)),ir}function cr(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Te]=e,t[De]=s,a){case"dialog":Md("cancel",t),Md("close",t);break;case"iframe":case"object":case"embed":Md("load",t);break;case"video":case"audio":for(a=0;a<zd.length;a++)Md(zd[a],t);break;case"source":Md("error",t);break;case"img":case"image":case"link":Md("error",t),Md("load",t);break;case"details":Md("toggle",t);break;case"input":Md("invalid",t),yt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ut(t);break;case"select":Md("invalid",t);break;case"textarea":Md("invalid",t),jt(t,s.value,s.defaultValue,s.children),ut(t)}"string"!==typeof(a=s.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===s.suppressHydrationWarning||Qd(t.textContent,a)?(null!=s.popover&&(Md("beforetoggle",t),Md("toggle",t)),null!=s.onScroll&&Md("scroll",t),null!=s.onScrollEnd&&Md("scrollend",t),null!=s.onClick&&(t.onclick=Yd),t=!0):t=!1,t||or(e)}function dr(e){for(ar=e.return;ar;)switch(ar.tag){case 5:case 13:return void(lr=!1);case 27:case 3:return void(lr=!0);default:ar=ar.return}}function ur(e){if(e!==ar)return!1;if(!rr)return dr(e),rr=!0,!1;var t,a=e.tag;if((t=3!==a&&27!==a)&&((t=5===a)&&(t=!("form"!==(t=e.type)&&"button"!==t)||lu(e.type,e.memoizedProps)),t=!t),t&&sr&&or(e),dr(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,a=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===a){sr=yu(e.nextSibling);break e}a--}else"$"!==t&&"$!"!==t&&"$?"!==t||a++;e=e.nextSibling}sr=null}}else 27===a?(a=sr,xu(e.type)?(e=fu,fu=null,sr=e):sr=a):sr=ar?yu(e.stateNode.nextSibling):null;return!0}function mr(){sr=ar=null,rr=!1}function xr(){var e=nr;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),nr=null),e}function hr(e){null===nr?nr=[e]:nr.push(e)}var pr=B(null),gr=null,yr=null;function fr(e,t,a){U(pr,t._currentValue),t._currentValue=a}function br(e){e._currentValue=pr.current,F(pr)}function vr(e,t,a){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function jr(e,t,a,s){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var n=r.dependencies;if(null!==n){var i=r.child;n=n.firstContext;e:for(;null!==n;){var o=n;n=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){n.lanes|=a,null!==(o=n.alternate)&&(o.lanes|=a),vr(n.return,a,e),s||(i=null);break e}n=o.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(l(341));i.lanes|=a,null!==(n=i.alternate)&&(n.lanes|=a),vr(i,a,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Nr(e,t,a,s){e=null;for(var r=t,n=!1;null!==r;){if(!n)if(0!==(524288&r.flags))n=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var o=r.type;$a(r.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(r===H.current){if(null===(i=r.alternate))throw Error(l(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push($u):e=[$u])}r=r.return}null!==e&&jr(t,e,a,s),t.flags|=262144}function wr(e){for(e=e.firstContext;null!==e;){if(!$a(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){gr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sr(e){return _r(gr,e)}function Cr(e,t){return null===gr&&kr(e),_r(e,t)}function _r(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===yr){if(null===e)throw Error(l(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return a}var Er="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pr=s.unstable_scheduleCallback,Ar=s.unstable_NormalPriority,Lr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tr(){return{controller:new Er,data:new Map,refCount:0}}function Dr(e){e.refCount--,0===e.refCount&&Pr(Ar,function(){e.controller.abort()})}var zr=null,Ir=0,Rr=0,Mr=null;function Or(){if(0===--Ir&&null!==zr){null!==Mr&&(Mr.status="fulfilled");var e=zr;zr=null,Rr=0,Mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=z.S;z.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zr){var a=zr=[];Ir=0,Rr=Pd(),Mr={status:"pending",value:void 0,then:function(e){a.push(e)}}}Ir++,t.then(Or,Or)}(0,t),null!==Br&&Br(e,t)};var Fr=B(null);function Ur(){var e=Fr.current;return null!==e?e:sc.pooledCache}function qr(e,t){U(Fr,null===t?Fr.current:t.pool)}function Wr(){var e=Ur();return null===e?null:{parent:Lr._currentValue,pool:e}}var Vr=Error(l(460)),Hr=Error(l(474)),Jr=Error(l(542)),Gr={then:function(){}};function $r(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Kr(){}function Qr(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(Kr,Kr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw Zr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Kr,Kr);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}},function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Zr(e=t.reason),e}throw Yr=t,Vr}}var Yr=null;function Xr(){if(null===Yr)throw Error(l(459));var e=Yr;return Yr=null,e}function Zr(e){if(e===Vr||e===Jr)throw Error(l(483))}var en=!1;function tn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function an(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rn(e,t,a){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&ac)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Ts(e),Ls(e,null,a),t}return Es(e,s,t,a),Ts(e)}function nn(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&a))){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,_e(e,a)}}function ln(e,t){var a=e.updateQueue,s=e.alternate;if(null!==s&&a===(s=s.updateQueue)){var r=null,n=null;if(null!==(a=a.firstBaseUpdate)){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===n?r=n=l:n=n.next=l,a=a.next}while(null!==a);null===n?r=n=t:n=n.next=t}else r=n=t;return a={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var on=!1;function cn(){if(on){if(null!==Mr)throw Mr}}function dn(e,t,a,s){on=!1;var r=e.updateQueue;en=!1;var n=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?n=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==n){var u=r.baseState;for(l=0,d=c=o=null,i=n;;){var x=-536870913&i.lane,h=x!==i.lane;if(h?(nc&x)===x:(s&x)===x){0!==x&&x===Rr&&(on=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;x=t;var y=a;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(y,u,x);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(x="function"===typeof(p=g.payload)?p.call(y,u,x):p)||void 0===x)break e;u=m({},u,x);break e;case 2:en=!0}}null!==(x=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[x]:h.push(x))}else h={lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=x;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===n&&(r.shared.lanes=0),xc|=l,e.lanes=l,e.memoizedState=u}}function un(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function mn(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)un(a[e],t)}var xn=B(null),hn=B(0);function pn(e,t){U(hn,e=uc),U(xn,t),uc=e|t.baseLanes}function gn(){U(hn,uc),U(xn,xn.current)}function yn(){uc=hn.current,F(xn),F(hn)}var fn=0,bn=null,vn=null,jn=null,Nn=!1,wn=!1,kn=!1,Sn=0,Cn=0,_n=null,En=0;function Pn(){throw Error(l(321))}function An(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$a(e[a],t[a]))return!1;return!0}function Ln(e,t,a,s,r,n){return fn=n,bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?Hl:Jl,kn=!1,n=a(s,r),kn=!1,wn&&(n=Dn(t,a,s,r)),Tn(e),n}function Tn(e){z.H=Vl;var t=null!==vn&&null!==vn.next;if(fn=0,jn=vn=bn=null,Nn=!1,Cn=0,_n=null,t)throw Error(l(300));null===e||Ci||null!==(e=e.dependencies)&&wr(e)&&(Ci=!0)}function Dn(e,t,a,s){bn=e;var r=0;do{if(wn&&(_n=null),Cn=0,wn=!1,25<=r)throw Error(l(301));if(r+=1,jn=vn=null,null!=e.updateQueue){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,null!=n.memoCache&&(n.memoCache.index=0)}z.H=Gl,n=t(a,s)}while(wn);return n}function zn(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?Fn(t):t,e=e.useState()[0],(null!==vn?vn.memoizedState:null)!==e&&(bn.flags|=1024),t}function In(){var e=0!==Sn;return Sn=0,e}function Rn(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Mn(e){if(Nn){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Nn=!1}fn=0,jn=vn=bn=null,wn=!1,Cn=Sn=0,_n=null}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===jn?bn.memoizedState=jn=e:jn=jn.next=e,jn}function Bn(){if(null===vn){var e=bn.alternate;e=null!==e?e.memoizedState:null}else e=vn.next;var t=null===jn?bn.memoizedState:jn.next;if(null!==t)jn=t,vn=e;else{if(null===e){if(null===bn.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(vn=e).memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},null===jn?bn.memoizedState=jn=e:jn=jn.next=e}return jn}function Fn(e){var t=Cn;return Cn+=1,null===_n&&(_n=[]),e=Qr(_n,e,t),t=bn,null===(null===jn?t.memoizedState:jn.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?Hl:Jl),e}function Un(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fn(e);if(e.$$typeof===j)return Sr(e)}throw Error(l(438,String(e)))}function qn(e){var t=null,a=bn.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var s=bn.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},bn.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=E;return t.index++,a}function Wn(e,t){return"function"===typeof t?t(e):t}function Vn(e){return Hn(Bn(),vn,e)}function Hn(e,t,a){var s=e.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=a;var r=e.baseQueue,n=s.pending;if(null!==n){if(null!==r){var i=r.next;r.next=n.next,n.next=i}t.baseQueue=r=n,s.pending=null}if(n=e.baseState,null===r)e.memoizedState=n;else{var o=i=null,c=null,d=t=r.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(nc&m)===m:(fn&m)===m){var x=d.revertLane;if(0===x)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Rr&&(u=!0);else{if((fn&x)===x){d=d.next,x===Rr&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=n):c=c.next=m,bn.lanes|=x,xc|=x}m=d.action,kn&&a(n,m),n=d.hasEagerState?d.eagerState:a(n,m)}else x={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=x,i=n):c=c.next=x,bn.lanes|=m,xc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=n:c.next=o,!$a(n,e.memoizedState)&&(Ci=!0,u&&null!==(a=Mr)))throw a;e.memoizedState=n,e.baseState=i,e.baseQueue=c,s.lastRenderedState=n}return null===r&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Jn(e){var t=Bn(),a=t.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,r=a.pending,n=t.memoizedState;if(null!==r){a.pending=null;var i=r=r.next;do{n=e(n,i.action),i=i.next}while(i!==r);$a(n,t.memoizedState)||(Ci=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),a.lastRenderedState=n}return[n,s]}function Gn(e,t,a){var s=bn,r=Bn(),n=rr;if(n){if(void 0===a)throw Error(l(407));a=a()}else a=t();var i=!$a((vn||r).memoizedState,a);if(i&&(r.memoizedState=a,Ci=!0),r=r.queue,gl(2048,8,Qn.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==jn&&1&jn.memoizedState.tag){if(s.flags|=2048,xl(9,{destroy:void 0,resource:void 0},Kn.bind(null,s,r,a,t),null),null===sc)throw Error(l(349));n||0!==(124&fn)||$n(s,t,a)}return a}function $n(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=bn.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bn.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Kn(e,t,a,s){t.value=a,t.getSnapshot=s,Yn(t)&&Xn(e)}function Qn(e,t,a){return a(function(){Yn(t)&&Xn(e)})}function Yn(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$a(e,a)}catch(s){return!0}}function Xn(e){var t=As(e,2);null!==t&&Rc(t,e,2)}function Zn(e){var t=On();if("function"===typeof e){var a=e;if(e=a(),kn){me(!0);try{a()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},t}function el(e,t,a,s){return e.baseState=a,Hn(e,vn,"function"===typeof s?s:Wn)}function tl(e,t,a,s,r){if(Ul(e))throw Error(l(485));if(null!==(e=t.action)){var n={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){n.listeners.push(e)}};null!==z.T?a(!0):n.isTransition=!1,s(n),null===(a=t.pending)?(n.next=t.pending=n,al(t,n)):(n.next=a.next,t.pending=a.next=n)}}function al(e,t){var a=t.action,s=t.payload,r=e.state;if(t.isTransition){var n=z.T,l={};z.T=l;try{var i=a(r,s),o=z.S;null!==o&&o(l,i),sl(e,t,i)}catch(c){nl(e,t,c)}finally{z.T=n}}else try{sl(e,t,n=a(r,s))}catch(d){nl(e,t,d)}}function sl(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then(function(a){rl(e,t,a)},function(a){return nl(e,t,a)}):rl(e,t,a)}function rl(e,t,a){t.status="fulfilled",t.value=a,ll(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,al(e,a)))}function nl(e,t,a){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=a,ll(t),t=t.next}while(t!==s)}e.action=null}function ll(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function il(e,t){return t}function ol(e,t){if(rr){var a=sc.formState;if(null!==a){e:{var s=bn;if(rr){if(sr){t:{for(var r=sr,n=lr;8!==r.nodeType;){if(!n){r=null;break t}if(null===(r=yu(r.nextSibling))){r=null;break t}}r="F!"===(n=r.data)||"F"===n?r:null}if(r){sr=yu(r.nextSibling),s="F!"===r.data;break e}}or(s)}s=!1}s&&(t=a[0])}}return(a=On()).memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},a.queue=s,a=Ol.bind(null,bn,s),s.dispatch=a,s=Zn(!1),n=Fl.bind(null,bn,!1,s.queue),r={state:t,dispatch:null,action:e,pending:null},(s=On()).queue=r,a=tl.bind(null,bn,r,n,a),r.dispatch=a,s.memoizedState=e,[t,a,!1]}function cl(e){return dl(Bn(),vn,e)}function dl(e,t,a){if(t=Hn(e,t,il)[0],e=Vn(Wn)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=Fn(t)}catch(l){if(l===Vr)throw Jr;throw l}else s=t;var r=(t=Bn()).queue,n=r.dispatch;return a!==t.memoizedState&&(bn.flags|=2048,xl(9,{destroy:void 0,resource:void 0},ul.bind(null,r,a),null)),[s,n,e]}function ul(e,t){e.action=t}function ml(e){var t=Bn(),a=vn;if(null!==a)return dl(t,a,e);Bn(),t=t.memoizedState;var s=(a=Bn()).queue.dispatch;return a.memoizedState=e,[t,s,!1]}function xl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},null===(t=bn.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bn.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function hl(){return Bn().memoizedState}function pl(e,t,a,s){var r=On();s=void 0===s?null:s,bn.flags|=e,r.memoizedState=xl(1|t,{destroy:void 0,resource:void 0},a,s)}function gl(e,t,a,s){var r=Bn();s=void 0===s?null:s;var n=r.memoizedState.inst;null!==vn&&null!==s&&An(s,vn.memoizedState.deps)?r.memoizedState=xl(t,n,a,s):(bn.flags|=e,r.memoizedState=xl(1|t,n,a,s))}function yl(e,t){pl(8390656,8,e,t)}function fl(e,t){gl(2048,8,e,t)}function bl(e,t){return gl(4,2,e,t)}function vl(e,t){return gl(4,4,e,t)}function jl(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Nl(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,gl(4,4,jl.bind(null,t,e),a)}function wl(){}function kl(e,t){var a=Bn();t=void 0===t?null:t;var s=a.memoizedState;return null!==t&&An(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Sl(e,t){var a=Bn();t=void 0===t?null:t;var s=a.memoizedState;if(null!==t&&An(t,s[1]))return s[0];if(s=e(),kn){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[s,t],s}function Cl(e,t,a){return void 0===a||0!==(1073741824&fn)?e.memoizedState=t:(e.memoizedState=a,e=Ic(),bn.lanes|=e,xc|=e,a)}function _l(e,t,a,s){return $a(a,t)?a:null!==xn.current?(e=Cl(e,a,s),$a(e,t)||(Ci=!0),e):0===(42&fn)?(Ci=!0,e.memoizedState=a):(e=Ic(),bn.lanes|=e,xc|=e,t)}function El(e,t,a,s,r){var n=I.p;I.p=0!==n&&8>n?n:8;var l=z.T,i={};z.T=i,Fl(e,!1,t,a);try{var o=r(),c=z.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)Bl(e,t,function(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s}(o,s),zc());else Bl(e,t,s,zc())}catch(d){Bl(e,t,{then:function(){},status:"rejected",reason:d},zc())}finally{I.p=n,z.T=l}}function Pl(){}function Al(e,t,a,s){if(5!==e.tag)throw Error(l(476));var r=Ll(e).queue;El(e,r,t,R,null===a?Pl:function(){return Tl(e),a(s)})}function Ll(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:R},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Tl(e){Bl(e,Ll(e).next.queue,{},zc())}function Dl(){return Sr($u)}function zl(){return Bn().memoizedState}function Il(){return Bn().memoizedState}function Rl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=zc(),s=rn(t,e=sn(a),a);return null!==s&&(Rc(s,t,a),nn(s,t,a)),t={cache:Tr()},void(e.payload=t)}t=t.return}}function Ml(e,t,a){var s=zc();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ul(e)?ql(t,a):null!==(a=Ps(e,t,a,s))&&(Rc(a,e,s),Wl(a,t,s))}function Ol(e,t,a){Bl(e,t,a,zc())}function Bl(e,t,a,s){var r={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))ql(t,r);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=n(l,a);if(r.hasEagerState=!0,r.eagerState=i,$a(i,l))return Es(e,t,r,0),null===sc&&_s(),!1}catch(o){}if(null!==(a=Ps(e,t,r,s)))return Rc(a,e,s),Wl(a,t,s),!0}return!1}function Fl(e,t,a,s){if(s={lane:2,revertLane:Pd(),action:s,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(l(479))}else null!==(t=Ps(e,a,s,2))&&Rc(t,e,2)}function Ul(e){var t=e.alternate;return e===bn||null!==t&&t===bn}function ql(e,t){wn=Nn=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wl(e,t,a){if(0!==(4194048&a)){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,_e(e,a)}}var Vl={readContext:Sr,use:Un,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},Hl={readContext:Sr,use:Un,useCallback:function(e,t){return On().memoizedState=[e,void 0===t?null:t],e},useContext:Sr,useEffect:yl,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,pl(4194308,4,jl.bind(null,t,e),a)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){pl(4,2,e,t)},useMemo:function(e,t){var a=On();t=void 0===t?null:t;var s=e();if(kn){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=On();if(void 0!==a){var r=a(t);if(kn){me(!0);try{a(t)}finally{me(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Ml.bind(null,bn,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},On().memoizedState=e},useState:function(e){var t=(e=Zn(e)).queue,a=Ol.bind(null,bn,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:wl,useDeferredValue:function(e,t){return Cl(On(),e,t)},useTransition:function(){var e=Zn(!1);return e=El.bind(null,bn,e.queue,!0,!1),On().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=bn,r=On();if(rr){if(void 0===a)throw Error(l(407));a=a()}else{if(a=t(),null===sc)throw Error(l(349));0!==(124&nc)||$n(s,t,a)}r.memoizedState=a;var n={value:a,getSnapshot:t};return r.queue=n,yl(Qn.bind(null,s,n,e),[e]),s.flags|=2048,xl(9,{destroy:void 0,resource:void 0},Kn.bind(null,s,n,a,t),null),a},useId:function(){var e=On(),t=sc.identifierPrefix;if(rr){var a=Ys;t="\xab"+t+"R"+(a=(Qs&~(1<<32-xe(Qs)-1)).toString(32)+a),0<(a=Sn++)&&(t+="H"+a.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(a=En++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Dl,useFormState:ol,useActionState:ol,useOptimistic:function(e){var t=On();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fl.bind(null,bn,!0,a),a.dispatch=t,[e,t]},useMemoCache:qn,useCacheRefresh:function(){return On().memoizedState=Rl.bind(null,bn)}},Jl={readContext:Sr,use:Un,useCallback:kl,useContext:Sr,useEffect:fl,useImperativeHandle:Nl,useInsertionEffect:bl,useLayoutEffect:vl,useMemo:Sl,useReducer:Vn,useRef:hl,useState:function(){return Vn(Wn)},useDebugValue:wl,useDeferredValue:function(e,t){return _l(Bn(),vn.memoizedState,e,t)},useTransition:function(){var e=Vn(Wn)[0],t=Bn().memoizedState;return["boolean"===typeof e?e:Fn(e),t]},useSyncExternalStore:Gn,useId:zl,useHostTransitionStatus:Dl,useFormState:cl,useActionState:cl,useOptimistic:function(e,t){return el(Bn(),0,e,t)},useMemoCache:qn,useCacheRefresh:Il},Gl={readContext:Sr,use:Un,useCallback:kl,useContext:Sr,useEffect:fl,useImperativeHandle:Nl,useInsertionEffect:bl,useLayoutEffect:vl,useMemo:Sl,useReducer:Jn,useRef:hl,useState:function(){return Jn(Wn)},useDebugValue:wl,useDeferredValue:function(e,t){var a=Bn();return null===vn?Cl(a,e,t):_l(a,vn.memoizedState,e,t)},useTransition:function(){var e=Jn(Wn)[0],t=Bn().memoizedState;return["boolean"===typeof e?e:Fn(e),t]},useSyncExternalStore:Gn,useId:zl,useHostTransitionStatus:Dl,useFormState:ml,useActionState:ml,useOptimistic:function(e,t){var a=Bn();return null!==vn?el(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:qn,useCacheRefresh:Il},$l=null,Kl=0;function Ql(e){var t=Kl;return Kl+=1,null===$l&&($l=[]),Qr($l,e,t)}function Yl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xl(e,t){if(t.$$typeof===x)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zl(e){return(0,e._init)(e._payload)}function ei(e){function t(t,a){if(e){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=16):s.push(a)}}function a(a,s){if(!e)return null;for(;null!==s;)t(a,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ms(e,t)).index=0,e.sibling=null,e}function n(t,a,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<a?(t.flags|=67108866,a):s:(t.flags|=67108866,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,a,s){return null===t||6!==t.tag?((t=Us(a,e.mode,s)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,s){var n=a.type;return n===g?u(e,t,a.props.children,s,a.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===C&&Zl(n)===t.type)?(Yl(t=r(t,a.props),a),t.return=e,t):(Yl(t=Bs(a.type,a.key,a.props,null,e.mode,s),a),t.return=e,t)}function d(e,t,a,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=qs(a,e.mode,s)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function u(e,t,a,s,n){return null===t||7!==t.tag?((t=Fs(a,e.mode,s,n)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Us(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Yl(a=Bs(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case p:return(t=qs(t,e.mode,a)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),a)}if(D(t)||A(t))return(t=Fs(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return m(e,Ql(t),a);if(t.$$typeof===j)return m(e,Cr(e,t),a);Xl(e,t)}return null}function x(e,t,a,s){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==r?null:o(e,t,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case h:return a.key===r?c(e,t,a,s):null;case p:return a.key===r?d(e,t,a,s):null;case C:return x(e,t,a=(r=a._init)(a._payload),s)}if(D(a)||A(a))return null!==r?null:u(e,t,a,s,null);if("function"===typeof a.then)return x(e,t,Ql(a),s);if(a.$$typeof===j)return x(e,t,Cr(e,a),s);Xl(e,a)}return null}function y(e,t,a,s,r){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return o(t,e=e.get(a)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case h:return c(t,e=e.get(null===s.key?a:s.key)||null,s,r);case p:return d(t,e=e.get(null===s.key?a:s.key)||null,s,r);case C:return y(e,t,a,s=(0,s._init)(s._payload),r)}if(D(s)||A(s))return u(t,e=e.get(a)||null,s,r,null);if("function"===typeof s.then)return y(e,t,a,Ql(s),r);if(s.$$typeof===j)return y(e,t,a,Cr(t,s),r);Xl(t,s)}return null}function f(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){a(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&Zl(b)===c.type){a(o,c.sibling),Yl(u=r(c,d.props),d),u.return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}d.type===g?((u=Fs(d.props.children,o.mode,u,d.key)).return=o,o=u):(Yl(u=Bs(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case p:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){a(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}(u=qs(d,o.mode,u)).return=o,o=u}return i(o);case C:return f(o,c,d=(b=d._init)(d._payload),u)}if(D(d))return function(r,l,i,o){for(var c=null,d=null,u=l,h=l=0,p=null;null!==u&&h<i.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var g=x(r,u,i[h],o);if(null===g){null===u&&(u=p);break}e&&u&&null===g.alternate&&t(r,u),l=n(g,l,h),null===d?c=g:d.sibling=g,d=g,u=p}if(h===i.length)return a(r,u),rr&&Xs(r,h),c;if(null===u){for(;h<i.length;h++)null!==(u=m(r,i[h],o))&&(l=n(u,l,h),null===d?c=u:d.sibling=u,d=u);return rr&&Xs(r,h),c}for(u=s(u);h<i.length;h++)null!==(p=y(u,r,h,i[h],o))&&(e&&null!==p.alternate&&u.delete(null===p.key?h:p.key),l=n(p,l,h),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(r,e)}),rr&&Xs(r,h),c}(o,c,d,u);if(A(d)){if("function"!==typeof(b=A(d)))throw Error(l(150));return function(r,i,o,c){if(null==o)throw Error(l(151));for(var d=null,u=null,h=i,p=i=0,g=null,f=o.next();null!==h&&!f.done;p++,f=o.next()){h.index>p?(g=h,h=null):g=h.sibling;var b=x(r,h,f.value,c);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(r,h),i=n(b,i,p),null===u?d=b:u.sibling=b,u=b,h=g}if(f.done)return a(r,h),rr&&Xs(r,p),d;if(null===h){for(;!f.done;p++,f=o.next())null!==(f=m(r,f.value,c))&&(i=n(f,i,p),null===u?d=f:u.sibling=f,u=f);return rr&&Xs(r,p),d}for(h=s(h);!f.done;p++,f=o.next())null!==(f=y(h,r,p,f.value,c))&&(e&&null!==f.alternate&&h.delete(null===f.key?p:f.key),i=n(f,i,p),null===u?d=f:u.sibling=f,u=f);return e&&h.forEach(function(e){return t(r,e)}),rr&&Xs(r,p),d}(o,c,d=b.call(d),u)}if("function"===typeof d.then)return f(o,c,Ql(d),u);if(d.$$typeof===j)return f(o,c,Cr(o,d),u);Xl(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(a(o,c.sibling),(u=r(c,d)).return=o,o=u):(a(o,c),(u=Us(d,o.mode,u)).return=o,o=u),i(o)):a(o,c)}return function(e,t,a,s){try{Kl=0;var r=f(e,t,a,s);return $l=null,r}catch(l){if(l===Vr||l===Jr)throw l;var n=Is(29,l,null,e.mode);return n.lanes=s,n.return=e,n}}}var ti=ei(!0),ai=ei(!1),si=B(null),ri=null;function ni(e){var t=e.alternate;U(ci,1&ci.current),U(si,e),null===ri&&(null===t||null!==xn.current||null!==t.memoizedState)&&(ri=e)}function li(e){if(22===e.tag){if(U(ci,ci.current),U(si,e),null===ri){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ri=e)}}else ii()}function ii(){U(ci,ci.current),U(si,si.current)}function oi(e){F(si),ri===e&&(ri=null),F(ci)}var ci=B(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||gu(a)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ui(e,t,a,s){a=null===(a=a(s,t=e.memoizedState))||void 0===a?t:m({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var mi={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=zc(),r=sn(s);r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=rn(e,r,s))&&(Rc(t,e,s),nn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=zc(),r=sn(s);r.tag=1,r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=rn(e,r,s))&&(Rc(t,e,s),nn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=zc(),s=sn(a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=rn(e,s,a))&&(Rc(t,e,a),nn(t,e,a))}};function xi(e,t,a,s,r,n,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,n,l):!t.prototype||!t.prototype.isPureReactComponent||(!Ka(a,s)||!Ka(r,n))}function hi(e,t,a,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function pi(e,t){var a=t;if("ref"in t)for(var s in a={},t)"ref"!==s&&(a[s]=t[s]);if(e=e.defaultProps)for(var r in a===t&&(a=m({},a)),e)void 0===a[r]&&(a[r]=e[r]);return a}var gi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yi(e){gi(e)}function fi(e){console.error(e)}function bi(e){gi(e)}function vi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ji(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ni(e,t,a){return(a=sn(a)).tag=3,a.payload={element:null},a.callback=function(){vi(e,t)},a}function wi(e){return(e=sn(e)).tag=3,e}function ki(e,t,a,s){var r=a.type.getDerivedStateFromError;if("function"===typeof r){var n=s.value;e.payload=function(){return r(n)},e.callback=function(){ji(t,a,s)}}var l=a.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){ji(t,a,s),"function"!==typeof r&&(null===kc?kc=new Set([this]):kc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Si=Error(l(461)),Ci=!1;function _i(e,t,a,s){t.child=null===e?ai(t,null,a,s):ti(t,e.child,a,s)}function Ei(e,t,a,s,r){a=a.render;var n=t.ref;if("ref"in s){var l={};for(var i in s)"ref"!==i&&(l[i]=s[i])}else l=s;return kr(t),s=Ln(e,t,a,l,n,r),i=In(),null===e||Ci?(rr&&i&&er(t),t.flags|=1,_i(e,t,s,r),t.child):(Rn(e,t,r),$i(e,t,r))}function Pi(e,t,a,s,r){if(null===e){var n=a.type;return"function"!==typeof n||Rs(n)||void 0!==n.defaultProps||null!==a.compare?((e=Bs(a.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,Ai(e,t,n,s,r))}if(n=e.child,!Ki(e,r)){var l=n.memoizedProps;if((a=null!==(a=a.compare)?a:Ka)(l,s)&&e.ref===t.ref)return $i(e,t,r)}return t.flags|=1,(e=Ms(n,s)).ref=t.ref,e.return=t,t.child=e}function Ai(e,t,a,s,r){if(null!==e){var n=e.memoizedProps;if(Ka(n,s)&&e.ref===t.ref){if(Ci=!1,t.pendingProps=s=n,!Ki(e,r))return t.lanes=e.lanes,$i(e,t,r);0!==(131072&e.flags)&&(Ci=!0)}}return zi(e,t,a,s,r)}function Li(e,t,a){var s=t.pendingProps,r=s.children,n=null!==e?e.memoizedState:null;if("hidden"===s.mode){if(0!==(128&t.flags)){if(s=null!==n?n.baseLanes|a:a,null!==e){for(r=t.child=e.child,n=0;null!==r;)n=n|r.lanes|r.childLanes,r=r.sibling;t.childLanes=n&~s}else t.childLanes=0,t.child=null;return Ti(e,t,s,a)}if(0===(536870912&a))return t.lanes=t.childLanes=536870912,Ti(e,t,null!==n?n.baseLanes|a:a,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==n?n.cachePool:null),null!==n?pn(t,n):gn(),li(t)}else null!==n?(qr(0,n.cachePool),pn(t,n),ii(),t.memoizedState=null):(null!==e&&qr(0,null),gn(),ii());return _i(e,t,r,a),t.child}function Ti(e,t,a,s){var r=Ur();return r=null===r?null:{parent:Lr._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},null!==e&&qr(0,null),gn(),li(t),null!==e&&Nr(e,t,s,!0),null}function Di(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(l(284));null!==e&&e.ref===a||(t.flags|=4194816)}}function zi(e,t,a,s,r){return kr(t),a=Ln(e,t,a,s,void 0,r),s=In(),null===e||Ci?(rr&&s&&er(t),t.flags|=1,_i(e,t,a,r),t.child):(Rn(e,t,r),$i(e,t,r))}function Ii(e,t,a,s,r,n){return kr(t),t.updateQueue=null,a=Dn(t,s,a,r),Tn(e),s=In(),null===e||Ci?(rr&&s&&er(t),t.flags|=1,_i(e,t,a,n),t.child):(Rn(e,t,n),$i(e,t,n))}function Ri(e,t,a,s,r){if(kr(t),null===t.stateNode){var n=Ds,l=a.contextType;"object"===typeof l&&null!==l&&(n=Sr(l)),n=new a(s,n),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=mi,t.stateNode=n,n._reactInternals=t,(n=t.stateNode).props=s,n.state=t.memoizedState,n.refs={},tn(t),l=a.contextType,n.context="object"===typeof l&&null!==l?Sr(l):Ds,n.state=t.memoizedState,"function"===typeof(l=a.getDerivedStateFromProps)&&(ui(t,a,l,s),n.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(l=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),l!==n.state&&mi.enqueueReplaceState(n,n.state,null),dn(t,s,n,r),cn(),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){n=t.stateNode;var i=t.memoizedProps,o=pi(a,i);n.props=o;var c=n.context,d=a.contextType;l=Ds,"object"===typeof d&&null!==d&&(l=Sr(d));var u=a.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(i||c!==l)&&hi(t,n,s,l),en=!1;var m=t.memoizedState;n.state=m,dn(t,s,n,r),cn(),c=t.memoizedState,i||m!==c||en?("function"===typeof u&&(ui(t,a,u,s),c=t.memoizedState),(o=en||xi(t,a,o,s,m,c,l))?(d||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.flags|=4194308)):("function"===typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),n.props=s,n.state=c,n.context=l,s=o):("function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!1)}else{n=t.stateNode,an(e,t),d=pi(a,l=t.memoizedProps),n.props=d,u=t.pendingProps,m=n.context,c=a.contextType,o=Ds,"object"===typeof c&&null!==c&&(o=Sr(c)),(c="function"===typeof(i=a.getDerivedStateFromProps)||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(l!==u||m!==o)&&hi(t,n,s,o),en=!1,m=t.memoizedState,n.state=m,dn(t,s,n,r),cn();var x=t.memoizedState;l!==u||m!==x||en||null!==e&&null!==e.dependencies&&wr(e.dependencies)?("function"===typeof i&&(ui(t,a,i,s),x=t.memoizedState),(d=en||xi(t,a,d,s,m,x,o)||null!==e&&null!==e.dependencies&&wr(e.dependencies))?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(s,x,o),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(s,x,o)),"function"===typeof n.componentDidUpdate&&(t.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),n.props=s,n.state=x,n.context=o,s=d):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return n=s,Di(e,t),s=0!==(128&t.flags),n||s?(n=t.stateNode,a=s&&"function"!==typeof a.getDerivedStateFromError?null:n.render(),t.flags|=1,null!==e&&s?(t.child=ti(t,e.child,null,r),t.child=ti(t,null,a,r)):_i(e,t,a,r),t.memoizedState=n.state,e=t.child):e=$i(e,t,r),e}function Mi(e,t,a,s){return mr(),t.flags|=256,_i(e,t,a,s),t.child}var Oi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bi(e){return{baseLanes:e,cachePool:Wr()}}function Fi(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=gc),e}function Ui(e,t,a){var s,r=t.pendingProps,n=!1,i=0!==(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&0!==(2&ci.current)),s&&(n=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(rr){if(n?ni(t):ii(),rr){var o,c=sr;if(o=c){e:{for(o=c,c=lr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=yu(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ks?{id:Qs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},(o=Is(18,null,null,0)).stateNode=c,o.return=t,t.child=o,ar=t,sr=null,o=!0):o=!1}o||or(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;oi(t)}return c=r.children,r=r.fallback,n?(ii(),c=Wi({mode:"hidden",children:c},n=t.mode),r=Fs(r,n,a,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(n=t.child).memoizedState=Bi(a),n.childLanes=Fi(e,s,a),t.memoizedState=Oi,r):(ni(t),qi(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(ni(t),t.flags&=-257,t=Vi(e,t,a)):null!==t.memoizedState?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),n=r.fallback,c=t.mode,r=Wi({mode:"visible",children:r.children},c),(n=Fs(n,c,a,null)).flags|=2,r.return=t,n.return=t,r.sibling=n,t.child=r,ti(t,e.child,null,a),(r=t.child).memoizedState=Bi(a),r.childLanes=Fi(e,s,a),t.memoizedState=Oi,t=n);else if(ni(t),gu(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var d=s.dgst;s=d,(r=Error(l(419))).stack="",r.digest=s,hr({value:r,source:null,stack:null}),t=Vi(e,t,a)}else if(Ci||Nr(e,t,a,!1),s=0!==(a&e.childLanes),Ci||s){if(null!==(s=sc)&&(0!==(r=0!==((r=0!==(42&(r=a&-a))?1:Ee(r))&(s.suspendedLanes|a))?0:r)&&r!==o.retryLane))throw o.retryLane=r,As(e,r),Rc(s,e,r),Si;"$?"===c.data||Gc(),t=Vi(e,t,a)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,sr=yu(c.nextSibling),ar=t,rr=!0,nr=null,lr=!1,null!==e&&(Gs[$s++]=Qs,Gs[$s++]=Ys,Gs[$s++]=Ks,Qs=e.id,Ys=e.overflow,Ks=t),(t=qi(t,r.children)).flags|=4096);return t}return n?(ii(),n=r.fallback,c=t.mode,d=(o=e.child).sibling,(r=Ms(o,{mode:"hidden",children:r.children})).subtreeFlags=65011712&o.subtreeFlags,null!==d?n=Ms(d,n):(n=Fs(n,c,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,r=n,n=t.child,null===(c=e.child.memoizedState)?c=Bi(a):(null!==(o=c.cachePool)?(d=Lr._currentValue,o=o.parent!==d?{parent:d,pool:d}:o):o=Wr(),c={baseLanes:c.baseLanes|a,cachePool:o}),n.memoizedState=c,n.childLanes=Fi(e,s,a),t.memoizedState=Oi,r):(ni(t),e=(a=e.child).sibling,(a=Ms(a,{mode:"visible",children:r.children})).return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function qi(e,t){return(t=Wi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wi(e,t){return(e=Is(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vi(e,t,a){return ti(t,e.child,null,a),(e=qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hi(e,t,a){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),vr(e.return,t,a)}function Ji(e,t,a,s,r){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:r}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=a,n.tailMode=r)}function Gi(e,t,a){var s=t.pendingProps,r=s.revealOrder,n=s.tail;if(_i(e,t,s.children,a),0!==(2&(s=ci.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hi(e,a,t);else if(19===e.tag)Hi(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(U(ci,s),r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===di(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Ji(t,!1,r,a,n);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===di(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Ji(t,!0,a,null,n);break;case"together":Ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $i(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),xc|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(Nr(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(a=Ms(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Ms(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Ki(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!wr(e))}function Qi(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ci=!0;else{if(!Ki(e,a)&&0===(128&t.flags))return Ci=!1,function(e,t,a){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),fr(0,Lr,e.memoizedState.cache),mr();break;case 27:case 5:$(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:fr(0,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(ni(t),t.flags|=128,null):0!==(a&t.child.childLanes)?Ui(e,t,a):(ni(t),null!==(e=$i(e,t,a))?e.sibling:null);ni(t);break;case 19:var r=0!==(128&e.flags);if((s=0!==(a&t.childLanes))||(Nr(e,t,a,!1),s=0!==(a&t.childLanes)),r){if(s)return Gi(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(ci,ci.current),s)break;return null;case 22:case 23:return t.lanes=0,Li(e,t,a);case 24:fr(0,Lr,e.memoizedState.cache)}return $i(e,t,a)}(e,t,a);Ci=0!==(131072&e.flags)}else Ci=!1,rr&&0!==(1048576&t.flags)&&Zs(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,"function"!==typeof s){if(void 0!==s&&null!==s){if((r=s.$$typeof)===N){t.tag=11,t=Ei(null,t,s,e,a);break e}if(r===S){t.tag=14,t=Pi(null,t,s,e,a);break e}}throw t=T(s)||s,Error(l(306,t,""))}Rs(s)?(e=pi(s,e),t.tag=1,t=Ri(null,t,s,e,a)):(t.tag=0,t=zi(null,t,s,e,a))}return t;case 0:return zi(e,t,t.type,t.pendingProps,a);case 1:return Ri(e,t,s=t.type,r=pi(s,t.pendingProps),a);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(l(387));s=t.pendingProps;var n=t.memoizedState;r=n.element,an(e,t),dn(t,s,null,a);var i=t.memoizedState;if(s=i.cache,fr(0,Lr,s),s!==n.cache&&jr(t,[Lr],a,!0),cn(),s=i.element,n.isDehydrated){if(n={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=Mi(e,t,s,a);break e}if(s!==r){hr(r=ws(Error(l(424)),t)),t=Mi(e,t,s,a);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(sr=yu(e.firstChild),ar=t,rr=!0,nr=null,lr=!0,a=ai(t,null,s,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(mr(),s===r){t=$i(e,t,a);break e}_i(e,t,s,a)}t=t.child}return t;case 26:return Di(e,t),null===e?(a=Eu(t.type,null,t.pendingProps,null))?t.memoizedState=a:rr||(a=t.type,e=t.pendingProps,(s=su(V.current).createElement(a))[Te]=t,s[De]=e,eu(s,a,e),He(s),t.stateNode=s):t.memoizedState=Eu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&rr&&(s=t.stateNode=vu(t.type,t.pendingProps,V.current),ar=t,lr=!0,r=sr,xu(t.type)?(fu=r,sr=yu(s.firstChild)):sr=r),_i(e,t,t.pendingProps.children,a),Di(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rr&&((r=s=sr)&&(null!==(s=function(e,t,a,s){for(;1===e.nodeType;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(n=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(n!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((n=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var n=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===n)return e}if(null===(e=yu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,lr))?(t.stateNode=s,ar=t,sr=yu(s.firstChild),lr=!1,r=!0):r=!1),r||or(t)),$(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,s=n.children,lu(r,n)?s=null:null!==i&&lu(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=Ln(e,t,zn,null,null,a),$u._currentValue=r),Di(e,t),_i(e,t,s,a),t.child;case 6:return null===e&&rr&&((e=a=sr)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(a,t.pendingProps,lr))?(t.stateNode=a,ar=t,sr=null,e=!0):e=!1),e||or(t)),null;case 13:return Ui(e,t,a);case 4:return J(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ti(t,null,s,a):_i(e,t,s,a),t.child;case 11:return Ei(e,t,t.type,t.pendingProps,a);case 7:return _i(e,t,t.pendingProps,a),t.child;case 8:case 12:return _i(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,fr(0,t.type,s.value),_i(e,t,s.children,a),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,kr(t),s=s(r=Sr(r)),t.flags|=1,_i(e,t,s,a),t.child;case 14:return Pi(e,t,t.type,t.pendingProps,a);case 15:return Ai(e,t,t.type,t.pendingProps,a);case 19:return Gi(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},null===e?((a=Wi(s,a)).ref=t.ref,t.child=a,a.return=t,t=a):((a=Ms(e.child,s)).ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Li(e,t,a);case 24:return kr(t),s=Sr(Lr),null===e?(null===(r=Ur())&&(r=sc,n=Tr(),r.pooledCache=n,n.refCount++,null!==n&&(r.pooledCacheLanes|=a),r=n),t.memoizedState={parent:s,cache:r},tn(t),fr(0,Lr,r)):(0!==(e.lanes&a)&&(an(e,t),dn(t,null,null,a),cn()),r=e.memoizedState,n=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),fr(0,Lr,s)):(s=n.cache,fr(0,Lr,s),s!==r.cache&&jr(t,[Lr],a,!0))),_i(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Yi(e){e.flags|=4}function Xi(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=si.current)&&((4194048&nc)===nc?null!==ri:(62914560&nc)!==nc&&0===(536870912&nc)||t!==ri))throw Yr=Gr,Hr;e.flags|=8192}}function Zi(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,yc|=t)}function eo(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;null!==a;)null!==a.alternate&&(s=a),a=a.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function to(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,s=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,s|=65011712&r.subtreeFlags,s|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function ao(e,t,a){var s=t.pendingProps;switch(tr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return to(t),null;case 3:return a=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),br(Lr),G(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ur(t)?Yi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xr())),to(t),null;case 26:return a=t.memoizedState,null===e?(Yi(t),null!==a?(to(t),Xi(t,a)):(to(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Yi(t),to(t),Xi(t,a)):(to(t),t.flags&=-16777217):(e.memoizedProps!==s&&Yi(t),to(t),t.flags&=-16777217),null;case 27:K(t),a=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Yi(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return to(t),null}e=q.current,ur(t)?cr(t):(e=vu(r,s,a),t.stateNode=e,Yi(t))}return to(t),null;case 5:if(K(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Yi(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return to(t),null}if(e=q.current,ur(t))cr(t);else{switch(r=su(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof s.is?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"===typeof s.is?r.createElement(a,{is:s.is}):r.createElement(a)}}e[Te]=t,e[De]=s;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eu(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Yi(t)}}return to(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&Yi(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(l(166));if(e=V.current,ur(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,null!==(r=ar))switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===a||null!==s&&!0===s.suppressHydrationWarning||Qd(e.nodeValue,a)))||or(t)}else(e=su(e).createTextNode(s))[Te]=t,t.stateNode=e}return to(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=ur(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[Te]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;to(t),r=!1}else r=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(oi(t),t):(oi(t),null)}if(oi(t),0!==(128&t.flags))return t.lanes=a,t;if(a=null!==s,e=null!==e&&null!==e.memoizedState,a){r=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(r=s.alternate.memoizedState.cachePool.pool);var n=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(n=s.memoizedState.cachePool.pool),n!==r&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Zi(t,t.updateQueue),to(t),null;case 4:return G(),null===e&&Fd(t.stateNode.containerInfo),to(t),null;case 10:return br(t.type),to(t),null;case 19:if(F(ci),null===(r=t.memoizedState))return to(t),null;if(s=0!==(128&t.flags),null===(n=r.rendering))if(s)eo(r,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(n=di(e))){for(t.flags|=128,eo(r,!1),e=n.updateQueue,t.updateQueue=e,Zi(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)Os(a,e),a=a.sibling;return U(ci,1&ci.current|2),t.child}e=e.sibling}null!==r.tail&&te()>Nc&&(t.flags|=128,s=!0,eo(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=di(n))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Zi(t,e),eo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!n.alternate&&!rr)return to(t),null}else 2*te()-r.renderingStartTime>Nc&&536870912!==a&&(t.flags|=128,s=!0,eo(r,!1),t.lanes=4194304);r.isBackwards?(n.sibling=t.child,t.child=n):(null!==(e=r.last)?e.sibling=n:t.child=n,r.last=n)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ci.current,U(ci,s?1&e|2:1&e),t):(to(t),null);case 22:case 23:return oi(t),yn(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&a)&&0===(128&t.flags)&&(to(t),6&t.subtreeFlags&&(t.flags|=8192)):to(t),null!==(a=t.updateQueue)&&Zi(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),null!==e&&F(Fr),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),br(Lr),to(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function so(e,t){switch(tr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Lr),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(ci),null;case 4:return G(),null;case 10:return br(t.type),null;case 22:case 23:return oi(t),yn(),null!==e&&F(Fr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Lr),null;default:return null}}function ro(e,t){switch(tr(t),t.tag){case 3:br(Lr),G();break;case 26:case 27:case 5:K(t);break;case 4:G();break;case 13:oi(t);break;case 19:F(ci);break;case 10:br(t.type);break;case 22:case 23:oi(t),yn(),null!==e&&F(Fr);break;case 24:br(Lr)}}function no(e,t){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var r=s.next;a=r;do{if((a.tag&e)===e){s=void 0;var n=a.create,l=a.inst;s=n(),l.destroy=s}a=a.next}while(a!==r)}}catch(i){dd(t,t.return,i)}}function lo(e,t,a){try{var s=t.updateQueue,r=null!==s?s.lastEffect:null;if(null!==r){var n=r.next;s=n;do{if((s.tag&e)===e){var l=s.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,r=t;var o=a,c=i;try{c()}catch(d){dd(r,o,d)}}}s=s.next}while(s!==n)}}catch(d){dd(t,t.return,d)}}function io(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{mn(t,a)}catch(s){dd(e,e.return,s)}}}function oo(e,t,a){a.props=pi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){dd(e,t,s)}}function co(e,t){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof a?e.refCleanup=a(s):a.current=s}}catch(r){dd(e,t,r)}}function uo(e,t){var a=e.ref,s=e.refCleanup;if(null!==a)if("function"===typeof s)try{s()}catch(r){dd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(n){dd(e,t,n)}else a.current=null}function mo(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(r){dd(e,e.return,r)}}function xo(e,t,a){try{var s=e.stateNode;!function(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,i=null,o=null,c=null,d=null,u=null;for(h in a){var m=a[h];if(a.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(h)||Xd(e,t,h,null,s,m)}}for(var x in s){var h=s[x];if(m=a[x],s.hasOwnProperty(x)&&(null!=h||null!=m))switch(x){case"type":n=h;break;case"name":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==m&&Xd(e,t,x,h,s,m)}}return void gt(e,i,o,c,d,u,n,r);case"select":for(n in h=i=o=x=null,a)if(c=a[n],a.hasOwnProperty(n)&&null!=c)switch(n){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(n)||Xd(e,t,n,null,s,c)}for(r in s)if(n=s[r],c=a[r],s.hasOwnProperty(r)&&(null!=n||null!=c))switch(r){case"value":x=n;break;case"defaultValue":o=n;break;case"multiple":i=n;default:n!==c&&Xd(e,t,r,n,s,c)}return t=o,a=i,s=h,void(null!=x?bt(e,!!a,x,!1):!!s!==!!a&&(null!=t?bt(e,!!a,t,!0):bt(e,!!a,a?[]:"",!1)));case"textarea":for(o in h=x=null,a)if(r=a[o],a.hasOwnProperty(o)&&null!=r&&!s.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Xd(e,t,o,null,s,r)}for(i in s)if(r=s[i],n=a[i],s.hasOwnProperty(i)&&(null!=r||null!=n))switch(i){case"value":x=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==n&&Xd(e,t,i,r,s,n)}return void vt(e,x,h);case"option":for(var p in a)if(x=a[p],a.hasOwnProperty(p)&&null!=x&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Xd(e,t,p,null,s,x);for(c in s)if(x=s[c],h=a[c],s.hasOwnProperty(c)&&x!==h&&(null!=x||null!=h))if("selected"===c)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else Xd(e,t,c,x,s,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in a)x=a[g],a.hasOwnProperty(g)&&null!=x&&!s.hasOwnProperty(g)&&Xd(e,t,g,null,s,x);for(d in s)if(x=s[d],h=a[d],s.hasOwnProperty(d)&&x!==h&&(null!=x||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(l(137,t));break;default:Xd(e,t,d,x,s,h)}return;default:if(Ct(t)){for(var y in a)x=a[y],a.hasOwnProperty(y)&&void 0!==x&&!s.hasOwnProperty(y)&&Zd(e,t,y,void 0,s,x);for(u in s)x=s[u],h=a[u],!s.hasOwnProperty(u)||x===h||void 0===x&&void 0===h||Zd(e,t,u,x,s,h);return}}for(var f in a)x=a[f],a.hasOwnProperty(f)&&null!=x&&!s.hasOwnProperty(f)&&Xd(e,t,f,null,s,x);for(m in s)x=s[m],h=a[m],!s.hasOwnProperty(m)||x===h||null==x&&null==h||Xd(e,t,m,x,s,h)}(s,e.type,a,t),s[De]=t}catch(r){dd(e,e.return,r)}}function ho(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&xu(e.type)||4===e.tag}function po(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ho(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&xu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,t):((t=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Yd));else if(4!==s&&(27===s&&xu(e.type)&&(a=e.stateNode,t=null),null!==(e=e.child)))for(go(e,t,a),e=e.sibling;null!==e;)go(e,t,a),e=e.sibling}function yo(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==s&&(27===s&&xu(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(yo(e,t,a),e=e.sibling;null!==e;)yo(e,t,a),e=e.sibling}function fo(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eu(t,s,a),t[Te]=e,t[De]=a}catch(n){dd(e,e.return,n)}}var bo=!1,vo=!1,jo=!1,No="function"===typeof WeakSet?WeakSet:Set,wo=null;function ko(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Mo(e,a),4&s&&no(5,a);break;case 1:if(Mo(e,a),4&s)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(l){dd(a,a.return,l)}else{var r=pi(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){dd(a,a.return,i)}}64&s&&io(a),512&s&&co(a,a.return);break;case 3:if(Mo(e,a),64&s&&null!==(e=a.updateQueue)){if(t=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:t=a.child.stateNode}try{mn(e,t)}catch(l){dd(a,a.return,l)}}break;case 27:null===t&&4&s&&fo(a);case 26:case 5:Mo(e,a),null===t&&4&s&&mo(a),512&s&&co(a,a.return);break;case 12:Mo(e,a);break;case 13:Mo(e,a),4&s&&Ao(e,a),64&s&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var a=e.ownerDocument;if("$?"!==e.data||"complete"===a.readyState)t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,a=hd.bind(null,a))));break;case 22:if(!(s=null!==a.memoizedState||bo)){t=null!==t&&null!==t.memoizedState||vo,r=bo;var n=vo;bo=s,(vo=t)&&!n?Bo(e,a,0!==(8772&a.subtreeFlags)):Mo(e,a),bo=r,vo=n}break;case 30:break;default:Mo(e,a)}}function So(e){var t=e.alternate;null!==t&&(e.alternate=null,So(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Co=null,_o=!1;function Eo(e,t,a){for(a=a.child;null!==a;)Po(e,t,a),a=a.sibling}function Po(e,t,a){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,a)}catch(n){}switch(a.tag){case 26:vo||uo(a,t),Eo(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:vo||uo(a,t);var s=Co,r=_o;xu(a.type)&&(Co=a.stateNode,_o=!1),Eo(e,t,a),ju(a.stateNode),Co=s,_o=r;break;case 5:vo||uo(a,t);case 6:if(s=Co,r=_o,Co=null,Eo(e,t,a),_o=r,null!==(Co=s))if(_o)try{(9===Co.nodeType?Co.body:"HTML"===Co.nodeName?Co.ownerDocument.body:Co).removeChild(a.stateNode)}catch(l){dd(a,t,l)}else try{Co.removeChild(a.stateNode)}catch(l){dd(a,t,l)}break;case 18:null!==Co&&(_o?(hu(9===(e=Co).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),_m(e)):hu(Co,a.stateNode));break;case 4:s=Co,r=_o,Co=a.stateNode.containerInfo,_o=!0,Eo(e,t,a),Co=s,_o=r;break;case 0:case 11:case 14:case 15:vo||lo(2,a,t),vo||lo(4,a,t),Eo(e,t,a);break;case 1:vo||(uo(a,t),"function"===typeof(s=a.stateNode).componentWillUnmount&&oo(a,t,s)),Eo(e,t,a);break;case 21:Eo(e,t,a);break;case 22:vo=(s=vo)||null!==a.memoizedState,Eo(e,t,a),vo=s;break;default:Eo(e,t,a)}}function Ao(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_m(e)}catch(a){dd(t,t.return,a)}}function Lo(e,t){var a=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new No),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new No),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){var s=pd.bind(null,e,t);a.has(t)||(a.add(t),t.then(s,s))})}function To(e,t){var a=t.deletions;if(null!==a)for(var s=0;s<a.length;s++){var r=a[s],n=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(xu(o.type)){Co=o.stateNode,_o=!1;break e}break;case 5:Co=o.stateNode,_o=!1;break e;case 3:case 4:Co=o.stateNode.containerInfo,_o=!0;break e}o=o.return}if(null===Co)throw Error(l(160));Po(n,i,r),Co=null,_o=!1,null!==(n=r.alternate)&&(n.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)zo(t,e),t=t.sibling}var Do=null;function zo(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:To(t,e),Io(e),4&s&&(lo(3,e,e.return),no(3,e),lo(5,e,e.return));break;case 1:To(t,e),Io(e),512&s&&(vo||null===a||uo(a,a.return)),64&s&&bo&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?s:a.concat(s))));break;case 26:var r=Do;if(To(t,e),Io(e),512&s&&(vo||null===a||uo(a,a.return)),4&s){var n=null!==a?a.memoizedState:null;if(s=e.memoizedState,null===a)if(null===s)if(null===e.stateNode){e:{s=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":(!(n=r.getElementsByTagName("title")[0])||n[Be]||n[Te]||"http://www.w3.org/2000/svg"===n.namespaceURI||n.hasAttribute("itemprop"))&&(n=r.createElement(s),r.head.insertBefore(n,r.querySelector("head > title"))),eu(n,s,a),n[Te]=e,He(n),s=n;break e;case"link":var i=Bu("link","href",r).get(s+(a.href||""));if(i)for(var o=0;o<i.length;o++)if((n=i[o]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&n.getAttribute("rel")===(null==a.rel?null:a.rel)&&n.getAttribute("title")===(null==a.title?null:a.title)&&n.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){i.splice(o,1);break t}eu(n=r.createElement(s),s,a),r.head.appendChild(n);break;case"meta":if(i=Bu("meta","content",r).get(s+(a.content||"")))for(o=0;o<i.length;o++)if((n=i[o]).getAttribute("content")===(null==a.content?null:""+a.content)&&n.getAttribute("name")===(null==a.name?null:a.name)&&n.getAttribute("property")===(null==a.property?null:a.property)&&n.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&n.getAttribute("charset")===(null==a.charSet?null:a.charSet)){i.splice(o,1);break t}eu(n=r.createElement(s),s,a),r.head.appendChild(n);break;default:throw Error(l(468,s))}n[Te]=e,He(n),s=n}e.stateNode=s}else Fu(r,e.type,e.stateNode);else e.stateNode=zu(r,s,e.memoizedProps);else n!==s?(null===n?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):n.count--,null===s?Fu(r,e.type,e.stateNode):zu(r,s,e.memoizedProps)):null===s&&null!==e.stateNode&&xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:To(t,e),Io(e),512&s&&(vo||null===a||uo(a,a.return)),null!==a&&4&s&&xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(To(t,e),Io(e),512&s&&(vo||null===a||uo(a,a.return)),32&e.flags){r=e.stateNode;try{Nt(r,"")}catch(h){dd(e,e.return,h)}}4&s&&null!=e.stateNode&&xo(e,r=e.memoizedProps,null!==a?a.memoizedProps:r),1024&s&&(jo=!0);break;case 6:if(To(t,e),Io(e),4&s){if(null===e.stateNode)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(h){dd(e,e.return,h)}}break;case 3:if(Ou=null,r=Do,Do=ku(t.containerInfo),To(t,e),Do=r,Io(e),4&s&&null!==a&&a.memoizedState.isDehydrated)try{_m(t.containerInfo)}catch(h){dd(e,e.return,h)}jo&&(jo=!1,Ro(e));break;case 4:s=Do,Do=ku(e.stateNode.containerInfo),To(t,e),Io(e),Do=s;break;case 12:default:To(t,e),Io(e);break;case 13:To(t,e),Io(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(jc=te()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Lo(e,s)));break;case 22:r=null!==e.memoizedState;var c=null!==a&&null!==a.memoizedState,d=bo,u=vo;if(bo=d||r,vo=u||c,To(t,e),vo=u,bo=d,Io(e),8192&s)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===a||c||bo||vo||Oo(e)),a=null,t=e;;){if(5===t.tag||26===t.tag){if(null===a){c=a=t;try{if(n=c.stateNode,r)"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,x=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==x||"boolean"===typeof x?"":(""+x).trim()}}catch(h){dd(c,c.return,h)}}}else if(6===t.tag){if(null===a){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){dd(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(a=s.retryQueue)&&(s.retryQueue=null,Lo(e,a))));break;case 19:To(t,e),Io(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Lo(e,s)));case 30:case 21:}}function Io(e){var t=e.flags;if(2&t){try{for(var a,s=e.return;null!==s;){if(ho(s)){a=s;break}s=s.return}if(null==a)throw Error(l(160));switch(a.tag){case 27:var r=a.stateNode;yo(e,po(e),r);break;case 5:var n=a.stateNode;32&a.flags&&(Nt(n,""),a.flags&=-33),yo(e,po(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;go(e,po(e),i);break;default:throw Error(l(161))}}catch(o){dd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ro(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ro(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Mo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ko(e,t.alternate,t),t=t.sibling}function Oo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:lo(4,t,t.return),Oo(t);break;case 1:uo(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&oo(t,t.return,a),Oo(t);break;case 27:ju(t.stateNode);case 26:case 5:uo(t,t.return),Oo(t);break;case 22:null===t.memoizedState&&Oo(t);break;default:Oo(t)}e=e.sibling}}function Bo(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,r=e,n=t,l=n.flags;switch(n.tag){case 0:case 11:case 15:Bo(r,n,a),no(4,n);break;case 1:if(Bo(r,n,a),"function"===typeof(r=(s=n).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){dd(s,s.return,c)}if(null!==(r=(s=n).updateQueue)){var i=s.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)un(o[r],i)}catch(c){dd(s,s.return,c)}}a&&64&l&&io(n),co(n,n.return);break;case 27:fo(n);case 26:case 5:Bo(r,n,a),a&&null===s&&4&l&&mo(n),co(n,n.return);break;case 12:Bo(r,n,a);break;case 13:Bo(r,n,a),a&&4&l&&Ao(r,n);break;case 22:null===n.memoizedState&&Bo(r,n,a),co(n,n.return);break;case 30:break;default:Bo(r,n,a)}t=t.sibling}}function Fo(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&Dr(a))}function Uo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e))}function qo(e,t,a,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wo(e,t,a,s),t=t.sibling}function Wo(e,t,a,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:qo(e,t,a,s),2048&r&&no(9,t);break;case 1:case 13:default:qo(e,t,a,s);break;case 3:qo(e,t,a,s),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e)));break;case 12:if(2048&r){qo(e,t,a,s),e=t.stateNode;try{var n=t.memoizedProps,l=n.id,i=n.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){dd(t,t.return,o)}}else qo(e,t,a,s);break;case 23:break;case 22:n=t.stateNode,l=t.alternate,null!==t.memoizedState?2&n._visibility?qo(e,t,a,s):Ho(e,t):2&n._visibility?qo(e,t,a,s):(n._visibility|=2,Vo(e,t,a,s,0!==(10256&t.subtreeFlags))),2048&r&&Fo(l,t);break;case 24:qo(e,t,a,s),2048&r&&Uo(t.alternate,t)}}function Vo(e,t,a,s,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var n=e,l=t,i=a,o=s,c=l.flags;switch(l.tag){case 0:case 11:case 15:Vo(n,l,i,o,r),no(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?Vo(n,l,i,o,r):Ho(n,l):(d._visibility|=2,Vo(n,l,i,o,r)),r&&2048&c&&Fo(l.alternate,l);break;case 24:Vo(n,l,i,o,r),r&&2048&c&&Uo(l.alternate,l);break;default:Vo(n,l,i,o,r)}t=t.sibling}}function Ho(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,s=t,r=s.flags;switch(s.tag){case 22:Ho(a,s),2048&r&&Fo(s.alternate,s);break;case 24:Ho(a,s),2048&r&&Uo(s.alternate,s);break;default:Ho(a,s)}t=t.sibling}}var Jo=8192;function Go(e){if(e.subtreeFlags&Jo)for(e=e.child;null!==e;)$o(e),e=e.sibling}function $o(e){switch(e.tag){case 26:Go(e),e.flags&Jo&&null!==e.memoizedState&&function(e,t,a){if(null===qu)throw Error(l(475));var s=qu;if("stylesheet"===t.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Pu(a.href),n=e.querySelector(Au(r));if(n)return null!==(e=n._p)&&"object"===typeof e&&"function"===typeof e.then&&(s.count++,s=Vu.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=n,void He(n);n=e.ownerDocument||e,a=Lu(a),(r=Nu.get(r))&&Ru(a,r),He(n=n.createElement("link"));var i=n;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),eu(n,"link",a),t.instance=n}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(s.count++,t=Vu.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Do,e.memoizedState,e.memoizedProps);break;case 5:default:Go(e);break;case 3:case 4:var t=Do;Do=ku(e.stateNode.containerInfo),Go(e),Do=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Jo,Jo=16777216,Go(e),Jo=t):Go(e))}}function Ko(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Qo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];wo=s,Zo(s,e)}Ko(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yo(e),e=e.sibling}function Yo(e){switch(e.tag){case 0:case 11:case 15:Qo(e),2048&e.flags&&lo(9,e,e.return);break;case 3:case 12:default:Qo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xo(e)):Qo(e)}}function Xo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];wo=s,Zo(s,e)}Ko(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:lo(8,t,t.return),Xo(t);break;case 22:2&(a=t.stateNode)._visibility&&(a._visibility&=-3,Xo(t));break;default:Xo(t)}e=e.sibling}}function Zo(e,t){for(;null!==wo;){var a=wo;switch(a.tag){case 0:case 11:case 15:lo(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var s=a.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:Dr(a.memoizedState.cache)}if(null!==(s=a.child))s.return=a,wo=s;else e:for(a=e;null!==wo;){var r=(s=wo).sibling,n=s.return;if(So(s),s===a){wo=null;break e}if(null!==r){r.return=n,wo=r;break e}wo=n}}}var ec={getCacheForType:function(e){var t=Sr(Lr),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a}},tc="function"===typeof WeakMap?WeakMap:Map,ac=0,sc=null,rc=null,nc=0,lc=0,ic=null,oc=!1,cc=!1,dc=!1,uc=0,mc=0,xc=0,hc=0,pc=0,gc=0,yc=0,fc=null,bc=null,vc=!1,jc=0,Nc=1/0,wc=null,kc=null,Sc=0,Cc=null,_c=null,Ec=0,Pc=0,Ac=null,Lc=null,Tc=0,Dc=null;function zc(){if(0!==(2&ac)&&0!==nc)return nc&-nc;if(null!==z.T){return 0!==Rr?Rr:Pd()}return Ae()}function Ic(){0===gc&&(gc=0===(536870912&nc)||rr?Ne():536870912);var e=si.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,a){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Wc(e,0),Fc(e,nc,gc,!1)),Se(e,a),0!==(2&ac)&&e===sc||(e===sc&&(0===(2&ac)&&(hc|=a),4===mc&&Fc(e,nc,gc,!1)),Nd(e))}function Mc(e,t,a){if(0!==(6&ac))throw Error(l(327));for(var s=!a&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),r=s?function(e,t){var a=ac;ac|=2;var s=Hc(),r=Jc();sc!==e||nc!==t?(wc=null,Nc=te()+500,Wc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==lc&&null!==rc){t=rc;var n=ic;t:switch(lc){case 1:lc=0,ic=null,Zc(e,t,n,1);break;case 2:case 9:if($r(n)){lc=0,ic=null,Xc(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),Nd(e)},n.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:$r(n)?(lc=0,ic=null,Xc(t)):(lc=0,ic=null,Zc(e,t,n,7));break;case 5:var i=null;switch(rc.tag){case 26:i=rc.memoizedState;case 5:case 27:var o=rc;if(!i||Uu(i)){lc=0,ic=null;var c=o.sibling;if(null!==c)rc=c;else{var d=o.return;null!==d?(rc=d,ed(d)):rc=null}break t}}lc=0,ic=null,Zc(e,t,n,5);break;case 6:lc=0,ic=null,Zc(e,t,n,6);break;case 8:qc(),mc=6;break e;default:throw Error(l(462))}}Qc();break}catch(u){Vc(e,u)}return yr=gr=null,z.H=s,z.A=r,ac=a,null!==rc?0:(sc=null,nc=0,_s(),mc)}(e,t):$c(e,t,!0),n=s;;){if(0===r){cc&&!s&&Fc(e,t,0,!1);break}if(a=e.current.alternate,!n||Bc(a)){if(2===r){if(n=t,e.errorRecoveryDisabledLanes&n)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;r=fc;var c=o.current.memoizedState.isDehydrated;if(c&&(Wc(o,i).flags|=256),2!==(i=$c(o,i,!1))){if(dc&&!c){o.errorRecoveryDisabledLanes|=n,hc|=n,r=4;break e}n=bc,bc=r,null!==n&&(null===bc?bc=n:bc.push.apply(bc,n))}r=i}if(n=!1,2!==r)continue}}if(1===r){Wc(e,0),Fc(e,t,0,!0);break}e:{switch(s=e,n=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Fc(s,t,gc,!oc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(r=jc+300-te())){if(Fc(s,t,gc,!oc),0!==be(s,0,!0))break e;s.timeoutHandle=ou(Oc.bind(null,s,a,bc,wc,vc,t,gc,hc,yc,oc,n,2,-0,0),r)}else Oc(s,a,bc,wc,vc,t,gc,hc,yc,oc,n,0,-0,0)}break}r=$c(e,t,!1),n=!1}Nd(e)}function Oc(e,t,a,s,r,n,i,o,c,d,u,m,x,h){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(qu={stylesheets:null,count:0,unsuspend:Wu},$o(t),null!==(m=function(){if(null===qu)throw Error(l(475));var e=qu;return e.stylesheets&&0===e.count&&Ju(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ju(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}())))return e.cancelPendingCommit=m(ad.bind(null,e,t,n,a,s,r,i,o,c,u,1,x,h)),void Fc(e,n,i,!d);ad(e,t,n,a,s,r,i,o,c)}function Bc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var s=0;s<a.length;s++){var r=a[s],n=r.getSnapshot;r=r.value;try{if(!$a(n(),r))return!1}catch(l){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,a,s){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var n=31-xe(r),l=1<<n;s[n]=-1,r&=~l}0!==a&&Ce(e,a,t)}function Uc(){return 0!==(6&ac)||(wd(0,!1),!1)}function qc(){if(null!==rc){if(0===lc)var e=rc.return;else yr=gr=null,Mn(e=rc),$l=null,Kl=0,e=rc;for(;null!==e;)ro(e.alternate,e),e=e.return;rc=null}}function Wc(e,t){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,cu(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),qc(),sc=e,rc=a=Ms(e.current,null),nc=t,lc=0,ic=null,oc=!1,cc=ve(e,t),dc=!1,yc=gc=pc=hc=xc=mc=0,bc=fc=null,vc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var r=31-xe(s),n=1<<r;t|=e[r],s&=~n}return uc=t,_s(),a}function Vc(e,t){bn=null,z.H=Vl,t===Vr||t===Jr?(t=Xr(),lc=3):t===Hr?(t=Xr(),lc=4):lc=t===Si?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===rc&&(mc=1,vi(e,ws(t,e.current)))}function Hc(){var e=z.H;return z.H=Vl,null===e?Vl:e}function Jc(){var e=z.A;return z.A=ec,e}function Gc(){mc=4,oc||(4194048&nc)!==nc&&null!==si.current||(cc=!0),0===(134217727&xc)&&0===(134217727&hc)||null===sc||Fc(sc,nc,gc,!1)}function $c(e,t,a){var s=ac;ac|=2;var r=Hc(),n=Jc();sc===e&&nc===t||(wc=null,Wc(e,t)),t=!1;var l=mc;e:for(;;)try{if(0!==lc&&null!==rc){var i=rc,o=ic;switch(lc){case 8:qc(),l=6;break e;case 3:case 2:case 9:case 6:null===si.current&&(t=!0);var c=lc;if(lc=0,ic=null,Zc(e,i,o,c),a&&cc){l=0;break e}break;default:c=lc,lc=0,ic=null,Zc(e,i,o,c)}}Kc(),l=mc;break}catch(d){Vc(e,d)}return t&&e.shellSuspendCounter++,yr=gr=null,ac=s,z.H=r,z.A=n,null===rc&&(sc=null,nc=0,_s()),l}function Kc(){for(;null!==rc;)Yc(rc)}function Qc(){for(;null!==rc&&!Z();)Yc(rc)}function Yc(e){var t=Qi(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function Xc(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ii(a,t,t.pendingProps,t.type,void 0,nc);break;case 11:t=Ii(a,t,t.pendingProps,t.type.render,t.ref,nc);break;case 5:Mn(t);default:ro(a,t),t=Qi(a,t=rc=Os(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function Zc(e,t,a,s){yr=gr=null,Mn(t),$l=null,Kl=0;var r=t.return;try{if(function(e,t,a,s,r){if(a.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=a.alternate)&&Nr(t,a,r,!0),null!==(a=si.current)){switch(a.tag){case 13:return null===ri?Gc():null===a.alternate&&0===mc&&(mc=3),a.flags&=-257,a.flags|=65536,a.lanes=r,s===Gr?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([s]):t.add(s),ud(e,s,r)),!1;case 22:return a.flags|=65536,s===Gr?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([s]):a.add(s),ud(e,s,r)),!1}throw Error(l(435,a.tag))}return ud(e,s,r),Gc(),!1}if(rr)return null!==(t=si.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==ir&&hr(ws(e=Error(l(422),{cause:s}),a))):(s!==ir&&hr(ws(t=Error(l(423),{cause:s}),a)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,s=ws(s,a),ln(e,r=Ni(e.stateNode,s,r)),4!==mc&&(mc=2)),!1;var n=Error(l(520),{cause:s});if(n=ws(n,a),null===fc?fc=[n]:fc.push(n),4!==mc&&(mc=2),null===t)return!0;s=ws(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,ln(a,e=Ni(a.stateNode,s,e)),!1;case 1:if(t=a.type,n=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==n&&"function"===typeof n.componentDidCatch&&(null===kc||!kc.has(n))))return a.flags|=65536,r&=-r,a.lanes|=r,ki(r=wi(r),e,a,s),ln(a,r),!1}a=a.return}while(null!==a);return!1}(e,r,t,a,nc))return mc=1,vi(e,ws(a,e.current)),void(rc=null)}catch(n){if(null!==r)throw rc=r,n;return mc=1,vi(e,ws(a,e.current)),void(rc=null)}32768&t.flags?(rr||1===s?e=!0:cc||0!==(536870912&nc)?e=!1:(oc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=si.current)&&13===s.tag&&(s.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,oc);e=t.return;var a=ao(t.alternate,t,uc);if(null!==a)return void(rc=a);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===mc&&(mc=5)}function td(e,t){do{var a=so(e.alternate,e);if(null!==a)return a.flags&=32767,void(rc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=a}while(null!==e);mc=6,rc=null}function ad(e,t,a,s,r,n,i,o,c){e.cancelPendingCommit=null;do{id()}while(0!==Sc);if(0!==(6&ac))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(n=t.lanes|t.childLanes,function(e,t,a,s,r,n){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-xe(a),u=1<<d;i[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var x=m[d];null!==x&&(x.lane&=-536870913)}a&=~u}0!==s&&Ce(e,s,0),0!==n&&0===r&&0!==e.tag&&(e.suspendedLanes|=n&~(l&~t))}(e,a,n|=Cs,i,o,c),e===sc&&(rc=sc=null,nc=0),_c=t,Cc=e,Ec=a,Pc=n,Ac=r,Lc=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(ne,function(){return od(),null})):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=z.T,z.T=null,r=I.p,I.p=2,i=ac,ac|=4;try{!function(e,t){if(e=e.containerInfo,tu=am,es(e=Za(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var r=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{a.nodeType,n.nodeType}catch(g){a=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==a||0!==r&&3!==m.nodeType||(o=i+r),m!==n||0!==s&&3!==m.nodeType||(c=i+s),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===a&&++d===r&&(o=i),x===n&&++u===s&&(c=i),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(au={focusedElem:e,selectionRange:a},am=!1,wo=t;null!==wo;)if(e=(t=wo).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,wo=e;else for(;null!==wo;){switch(n=(t=wo).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==n){e=void 0,a=t,r=n.memoizedProps,n=n.memoizedState,s=a.stateNode;try{var p=pi(a.type,r,(a.elementType,a.type));e=s.getSnapshotBeforeUpdate(p,n),s.__reactInternalSnapshotBeforeUpdate=e}catch(y){dd(a,a.return,y)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))pu(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,wo=e;break}wo=t.return}}(e,t)}finally{ac=i,I.p=r,z.T=s}}Sc=1,sd(),rd(),nd()}}function sd(){if(1===Sc){Sc=0;var e=Cc,t=_c,a=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||a){a=z.T,z.T=null;var s=I.p;I.p=2;var r=ac;ac|=4;try{zo(t,e);var n=au,l=Za(e.containerInfo),i=n.focusedElem,o=n.selectionRange;if(l!==i&&i&&i.ownerDocument&&Xa(i.ownerDocument.documentElement,i)){if(null!==o&&es(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var x=m.getSelection(),h=i.textContent.length,p=Math.min(o.start,h),g=void 0===o.end?p:Math.min(o.end,h);!x.extend&&p>g&&(l=g,g=p,p=l);var y=Ya(i,p),f=Ya(i,g);if(y&&f&&(1!==x.rangeCount||x.anchorNode!==y.node||x.anchorOffset!==y.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)){var b=u.createRange();b.setStart(y.node,y.offset),x.removeAllRanges(),p>g?(x.addRange(b),x.extend(f.node,f.offset)):(b.setEnd(f.node,f.offset),x.addRange(b))}}}}for(u=[],x=i;x=x.parentNode;)1===x.nodeType&&u.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var v=u[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}am=!!tu,au=tu=null}finally{ac=r,I.p=s,z.T=a}}e.current=t,Sc=2}}function rd(){if(2===Sc){Sc=0;var e=Cc,t=_c,a=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||a){a=z.T,z.T=null;var s=I.p;I.p=2;var r=ac;ac|=4;try{ko(e,t.alternate,t)}finally{ac=r,I.p=s,z.T=a}}Sc=3}}function nd(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=_c,a=Ec,s=Lc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,_c=Cc=null,ld(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(kc=null),Pe(a),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==s){t=z.T,r=I.p,I.p=2,z.T=null;try{for(var n=e.onRecoverableError,l=0;l<s.length;l++){var i=s[l];n(i.value,{componentStack:i.stack})}}finally{z.T=t,I.p=r}}0!==(3&Ec)&&id(),Nd(e),r=e.pendingLanes,0!==(4194090&a)&&0!==(42&r)?e===Dc?Tc++:(Tc=0,Dc=e):Tc=0,wd(0,!1)}}function ld(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Dr(t)))}function id(e){return sd(),rd(),nd(),od()}function od(){if(5!==Sc)return!1;var e=Cc,t=Pc;Pc=0;var a=Pe(Ec),s=z.T,r=I.p;try{I.p=32>a?32:a,z.T=null,a=Ac,Ac=null;var n=Cc,i=Ec;if(Sc=0,_c=Cc=null,Ec=0,0!==(6&ac))throw Error(l(331));var o=ac;if(ac|=4,Yo(n.current),Wo(n,n.current,i,a),ac=o,wd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,n)}catch(c){}return!0}finally{I.p=r,z.T=s,ld(e,t)}}function cd(e,t,a){t=ws(a,t),null!==(e=rn(e,t=Ni(e.stateNode,t,2),2))&&(Se(e,2),Nd(e))}function dd(e,t,a){if(3===e.tag)cd(e,e,a);else for(;null!==t;){if(3===t.tag){cd(t,e,a);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))){e=ws(a,e),null!==(s=rn(t,a=wi(2),2))&&(ki(a,s,t,e),Se(s,2),Nd(s));break}}t=t.return}}function ud(e,t,a){var s=e.pingCache;if(null===s){s=e.pingCache=new tc;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(a)||(dc=!0,r.add(a),e=md.bind(null,e,t,a),t.then(e,e))}function md(e,t,a){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,sc===e&&(nc&a)===a&&(4===mc||3===mc&&(62914560&nc)===nc&&300>te()-jc?0===(2&ac)&&Wc(e,0):pc|=a,yc===nc&&(yc=0)),Nd(e)}function xd(e,t){0===t&&(t=we()),null!==(e=As(e,t))&&(Se(e,t),Nd(e))}function hd(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),xd(e,a)}function pd(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==s&&s.delete(t),xd(e,a)}var gd=null,yd=null,fd=!1,bd=!1,vd=!1,jd=0;function Nd(e){e!==yd&&null===e.next&&(null===yd?gd=yd=e:yd=yd.next=e),bd=!0,fd||(fd=!0,uu(function(){0!==(6&ac)?Y(se,kd):Sd()}))}function wd(e,t){if(!vd&&bd){vd=!0;do{for(var a=!1,s=gd;null!==s;){if(!t)if(0!==e){var r=s.pendingLanes;if(0===r)var n=0;else{var l=s.suspendedLanes,i=s.pingedLanes;n=(1<<31-xe(42|e)+1)-1,n=201326741&(n&=r&~(l&~i))?201326741&n|1:n?2|n:0}0!==n&&(a=!0,Ed(s,n))}else n=nc,0===(3&(n=be(s,s===sc?n:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||ve(s,n)||(a=!0,Ed(s,n));s=s.next}}while(a);vd=!1}}function kd(){Sd()}function Sd(){bd=fd=!1;var e=0;0!==jd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==iu&&(iu=e,!0);return iu=null,!1}()&&(e=jd),jd=0);for(var t=te(),a=null,s=gd;null!==s;){var r=s.next,n=Cd(s,t);0===n?(s.next=null,null===a?gd=r:a.next=r,null===r&&(yd=a)):(a=s,(0!==e||0!==(3&n))&&(bd=!0)),s=r}wd(e,!1)}function Cd(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,n=-62914561&e.pendingLanes;0<n;){var l=31-xe(n),i=1<<l,o=r[l];-1===o?0!==(i&a)&&0===(i&s)||(r[l]=je(i,t)):o<=t&&(e.expiredLanes|=i),n&=~i}if(a=nc,a=be(e,e===(t=sc)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===a||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&X(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||ve(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==s&&X(s),Pe(a)){case 2:case 8:a=re;break;case 32:default:a=ne;break;case 268435456:a=ie}return s=_d.bind(null,e),a=Y(a,s),e.callbackPriority=t,e.callbackNode=a,t}return null!==s&&null!==s&&X(s),e.callbackPriority=2,e.callbackNode=null,2}function _d(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(id()&&e.callbackNode!==a)return null;var s=nc;return 0===(s=be(e,e===sc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,s,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===a?_d.bind(null,e):null)}function Ed(e,t){if(id())return null;Mc(e,t,!0)}function Pd(){return 0===jd&&(jd=Ne()),jd}function Ad(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Ld(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Td=0;Td<vs.length;Td++){var Dd=vs[Td];js(Dd.toLowerCase(),"on"+(Dd[0].toUpperCase()+Dd.slice(1)))}js(ms,"onAnimationEnd"),js(xs,"onAnimationIteration"),js(hs,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(ps,"onTransitionRun"),js(gs,"onTransitionStart"),js(ys,"onTransitionCancel"),js(fs,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zd));function Rd(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var s=e[a],r=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var l=s.length-1;0<=l;l--){var i=s[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){gi(d)}r.currentTarget=null,n=o}else for(l=0;l<s.length;l++){if(o=(i=s[l]).instance,c=i.currentTarget,i=i.listener,o!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){gi(d)}r.currentTarget=null,n=o}}}}function Md(e,t){var a=t[Ie];void 0===a&&(a=t[Ie]=new Set);var s=e+"__bubble";a.has(s)||(Ud(t,e,2,!1),a.add(s))}function Od(e,t,a){var s=0;t&&(s|=4),Ud(a,e,s,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Fd(e){if(!e[Bd]){e[Bd]=!0,Je.forEach(function(t){"selectionchange"!==t&&(Id.has(t)||Od(t,!1,e),Od(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bd]||(t[Bd]=!0,Od("selectionchange",!1,t))}}function Ud(e,t,a,s){switch(cm(t)){case 2:var r=sm;break;case 8:r=rm;break;default:r=nm}a=r.bind(null,t,a,e),r=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function qd(e,t,a,s,r){var n=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var i=s.stateNode.containerInfo;if(i===r)break;if(4===l)for(l=s.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==i;){if(null===(l=Ue(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){s=n=l;continue e}i=i.parentNode}}s=s.return}Rt(function(){var s=n,r=Lt(a),l=[];e:{var i=bs.get(e);if(void 0!==i){var c=Zt,d=e;switch(e){case"keypress":if(0===Ht(a))break e;case"keydown":case"keyup":c=ha;break;case"focusin":d="focus",c=na;break;case"focusout":d="blur",c=na;break;case"beforeblur":case"afterblur":c=na;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ga;break;case ms:case xs:case hs:c=la;break;case fs:c=ya;break;case"scroll":case"scrollend":c=ta;break;case"wheel":c=fa;break;case"copy":case"cut":case"paste":c=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=pa;break;case"toggle":case"beforetoggle":c=ba}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),x=u?null!==i?i+"Capture":null:i;u=[];for(var h,p=s;null!==p;){var g=p;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===x||null!=(g=Mt(p,x))&&u.push(Wd(p,g,h)),m)break;p=p.return}0<u.length&&(i=new c(i,d,null,a,r),l.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===At||!(d=a.relatedTarget||a.fromElement)||!Ue(d)&&!d[ze])&&(c||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=s,null!==(d=(d=a.relatedTarget||a.toElement)?Ue(d):null)&&(m=o(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=sa,g="onMouseLeave",x="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=pa,g="onPointerLeave",x="onPointerEnter",p="pointer"),m=null==c?i:We(c),h=null==d?i:We(d),(i=new u(g,p+"leave",c,a,r)).target=m,i.relatedTarget=h,g=null,Ue(r)===s&&((u=new u(x,p+"enter",d,a,r)).target=h,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(x=d,p=0,h=u=c;h;h=Hd(h))p++;for(h=0,g=x;g;g=Hd(g))h++;for(;0<p-h;)u=Hd(u),p--;for(;0<h-p;)x=Hd(x),h--;for(;p--;){if(u===x||null!==x&&u===x.alternate)break e;u=Hd(u),x=Hd(x)}u=null}else u=null;null!==c&&Jd(l,i,c,u,!1),null!==d&&null!==m&&Jd(l,m,d,u,!0)}if("select"===(c=(i=s?We(s):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var y=Ma;else if(La(i))if(Oa)y=Ga;else{y=Ha;var f=Va}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?s&&Ct(s.elementType)&&(y=Ma):y=Ja;switch(y&&(y=y(e,s))?Ta(l,y,a,r):(f&&f(e,i,s),"focusout"===e&&s&&"number"===i.type&&null!=s.memoizedProps.value&&ft(i,"number",i.value)),f=s?We(s):window,e){case"focusin":(La(f)||"true"===f.contentEditable)&&(as=f,ss=s,rs=null);break;case"focusout":rs=ss=as=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,ls(l,a,r);break;case"selectionchange":if(ts)break;case"keydown":case"keyup":ls(l,a,r)}var b;if(ja)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pa?_a(e,a)&&(v="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(v="onCompositionStart");v&&(ka&&"ko"!==a.locale&&(Pa||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pa&&(b=Vt()):(qt="value"in(Ut=r)?Ut.value:Ut.textContent,Pa=!0)),0<(f=Vd(s,v)).length&&(v=new oa(v,e,null,a,r),l.push({event:v,listeners:f}),b?v.data=b:null!==(b=Ea(a))&&(v.data=b))),(b=wa?function(e,t){switch(e){case"compositionend":return Ea(t);case"keypress":return 32!==t.which?null:(Ca=!0,Sa);case"textInput":return(e=t.data)===Sa&&Ca?null:e;default:return null}}(e,a):function(e,t){if(Pa)return"compositionend"===e||!ja&&_a(e,t)?(e=Vt(),Wt=qt=Ut=null,Pa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ka&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(v=Vd(s,"onBeforeInput")).length&&(f=new oa("onBeforeInput","beforeinput",null,a,r),l.push({event:f,listeners:v}),f.data=b)),function(e,t,a,s,r){if("submit"===t&&a&&a.stateNode===r){var n=Ad((r[De]||null).action),l=s.submitter;l&&null!==(t=(t=l[De]||null)?Ad(t.formAction):l.getAttribute("formAction"))&&(n=t,l=null);var i=new Zt("action","action",null,s,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==jd){var e=l?Ld(r,l):new FormData(r);Al(a,{pending:!0,data:e,method:r.method,action:n},null,e)}}else"function"===typeof n&&(i.preventDefault(),e=l?Ld(r,l):new FormData(r),Al(a,{pending:!0,data:e,method:r.method,action:n},n,e))},currentTarget:r}]})}}(l,e,s,a,r)}Rd(l,t)})}function Wd(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vd(e,t){for(var a=t+"Capture",s=[];null!==e;){var r=e,n=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===n||(null!=(r=Mt(e,a))&&s.unshift(Wd(e,r,n)),null!=(r=Mt(e,t))&&s.push(Wd(e,r,n))),3===e.tag)return s;e=e.return}return[]}function Hd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Jd(e,t,a,s,r){for(var n=t._reactName,l=[];null!==a&&a!==s;){var i=a,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===s)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=Mt(a,n))&&l.unshift(Wd(a,c,o)):r||null!=(c=Mt(a,n))&&l.push(Wd(a,c,o))),a=a.return}0!==l.length&&e.push({event:t,listeners:l})}var Gd=/\r\n?/g,$d=/\u0000|\uFFFD/g;function Kd(e){return("string"===typeof e?e:""+e).replace(Gd,"\n").replace($d,"")}function Qd(e,t){return t=Kd(t),Kd(e)===t}function Yd(){}function Xd(e,t,a,s,r,n){switch(a){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||Nt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&Nt(e,""+s);break;case"className":at(e,"class",s);break;case"tabIndex":at(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,a,s);break;case"style":St(e,s,n);break;case"data":if("object"!==t){at(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Pt(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof n&&("formAction"===a?("input"!==t&&Xd(e,t,"name",r.name,r,null),Xd(e,t,"formEncType",r.formEncType,r,null),Xd(e,t,"formMethod",r.formMethod,r,null),Xd(e,t,"formTarget",r.formTarget,r,null)):(Xd(e,t,"encType",r.encType,r,null),Xd(e,t,"method",r.method,r,null),Xd(e,t,"target",r.target,r,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Pt(""+s),e.setAttribute(a,s);break;case"onClick":null!=s&&(e.onclick=Yd);break;case"onScroll":null!=s&&Md("scroll",e);break;case"onScrollEnd":null!=s&&Md("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(a=s.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}a=Pt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===s?e.setAttribute(a,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Md("beforetoggle",e),Md("toggle",e),tt(e,"popover",s);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":tt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&tt(e,a=_t.get(a)||a,s)}}function Zd(e,t,a,s,r,n){switch(a){case"style":St(e,s,n);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(a=s.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=a}}break;case"children":"string"===typeof s?Nt(e,s):("number"===typeof s||"bigint"===typeof s)&&Nt(e,""+s);break;case"onScroll":null!=s&&Md("scroll",e);break;case"onScrollEnd":null!=s&&Md("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),"function"===typeof(n=null!=(n=e[De]||null)?n[a]:null)&&e.removeEventListener(t,n,r),"function"!==typeof s)?a in e?e[a]=s:!0===s?e.setAttribute(a,""):tt(e,a,s):("function"!==typeof n&&null!==n&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,r)))}}function eu(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Md("error",e),Md("load",e);var s,r=!1,n=!1;for(s in a)if(a.hasOwnProperty(s)){var i=a[s];if(null!=i)switch(s){case"src":r=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xd(e,t,s,i,a,null)}}return n&&Xd(e,t,"srcSet",a.srcSet,a,null),void(r&&Xd(e,t,"src",a.src,a,null));case"input":Md("invalid",e);var o=s=i=n=null,c=null,d=null;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(null!=u)switch(r){case"name":n=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:Xd(e,t,r,u,a,null)}}return yt(e,s,o,c,d,i,n,!1),void ut(e);case"select":for(n in Md("invalid",e),r=i=s=null,a)if(a.hasOwnProperty(n)&&null!=(o=a[n]))switch(n){case"value":s=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:Xd(e,t,n,o,a,null)}return t=s,a=i,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=a&&bt(e,!!r,a,!0));case"textarea":for(i in Md("invalid",e),s=n=r=null,a)if(a.hasOwnProperty(i)&&null!=(o=a[i]))switch(i){case"value":r=o;break;case"defaultValue":n=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:Xd(e,t,i,o,a,null)}return jt(e,r,n,s),void ut(e);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(r=a[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Xd(e,t,c,r,a,null);return;case"dialog":Md("beforetoggle",e),Md("toggle",e),Md("cancel",e),Md("close",e);break;case"iframe":case"object":Md("load",e);break;case"video":case"audio":for(r=0;r<zd.length;r++)Md(zd[r],e);break;case"image":Md("error",e),Md("load",e);break;case"details":Md("toggle",e);break;case"embed":case"source":case"link":Md("error",e),Md("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&null!=(r=a[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xd(e,t,d,r,a,null)}return;default:if(Ct(t)){for(u in a)a.hasOwnProperty(u)&&(void 0!==(r=a[u])&&Zd(e,t,u,r,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(null!=(r=a[o])&&Xd(e,t,o,r,a,null))}var tu=null,au=null;function su(e){return 9===e.nodeType?e:e.ownerDocument}function ru(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function lu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var iu=null;var ou="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(mu)}:ou;function mu(e){setTimeout(function(){throw e})}function xu(e){return"head"===e}function hu(e,t){var a=t,s=0,r=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&8===n.nodeType)if("/$"===(a=n.data)){if(0<s&&8>s){a=s;var l=e.ownerDocument;if(1&a&&ju(l.documentElement),2&a&&ju(l.body),4&a)for(ju(a=l.head),l=a.firstChild;l;){var i=l.nextSibling,o=l.nodeName;l[Be]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||a.removeChild(l),l=i}}if(0===r)return e.removeChild(n),void _m(t);r--}else"$"===a||"$?"===a||"$!"===a?r++:s=a.charCodeAt(0)-48;else s=0;a=n}while(a);_m(t)}function pu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pu(a),Fe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var fu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}function vu(e,t,a){switch(t=su(a),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function ju(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var Nu=new Map,wu=new Set;function ku(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=I.d;I.d={f:function(){var e=Su.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Tl(t):Su.r(e)},D:function(e){Su.D(e),_u("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),_u("preconnect",e,t)},L:function(e,t,a){Su.L(e,t,a);var s=Cu;if(s&&e&&t){var r='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&a&&a.imageSrcSet?(r+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(r+='[imagesizes="'+pt(a.imageSizes)+'"]')):r+='[href="'+pt(e)+'"]';var n=r;switch(t){case"style":n=Pu(e);break;case"script":n=Tu(e)}Nu.has(n)||(e=m({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),Nu.set(n,e),null!==s.querySelector(r)||"style"===t&&s.querySelector(Au(n))||"script"===t&&s.querySelector(Du(n))||(eu(t=s.createElement("link"),"link",e),He(t),s.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var a=Cu;if(a&&e){var s=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',n=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Tu(e)}if(!Nu.has(n)&&(e=m({rel:"modulepreload",href:e},t),Nu.set(n,e),null===a.querySelector(r))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(n)))return}eu(s=a.createElement("link"),"link",e),He(s),a.head.appendChild(s)}}},X:function(e,t){Su.X(e,t);var a=Cu;if(a&&e){var s=Ve(a).hoistableScripts,r=Tu(e),n=s.get(r);n||((n=a.querySelector(Du(r)))||(e=m({src:e,async:!0},t),(t=Nu.get(r))&&Mu(e,t),He(n=a.createElement("script")),eu(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}},S:function(e,t,a){Su.S(e,t,a);var s=Cu;if(s&&e){var r=Ve(s).hoistableStyles,n=Pu(e);t=t||"default";var l=r.get(n);if(!l){var i={loading:0,preload:null};if(l=s.querySelector(Au(n)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Nu.get(n))&&Ru(e,a);var o=l=s.createElement("link");He(o),eu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Iu(l,t,s)}l={type:"stylesheet",instance:l,count:1,state:i},r.set(n,l)}}},M:function(e,t){Su.M(e,t);var a=Cu;if(a&&e){var s=Ve(a).hoistableScripts,r=Tu(e),n=s.get(r);n||((n=a.querySelector(Du(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=Nu.get(r))&&Mu(e,t),He(n=a.createElement("script")),eu(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}};var Cu="undefined"===typeof document?null:document;function _u(e,t,a){var s=Cu;if(s&&"string"===typeof t&&t){var r=pt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof a&&(r+='[crossorigin="'+a+'"]'),wu.has(r)||(wu.add(r),e={rel:e,crossOrigin:a,href:t},null===s.querySelector(r)&&(eu(t=s.createElement("link"),"link",e),He(t),s.head.appendChild(t)))}}function Eu(e,t,a,s){var r,n,i,o,c=(c=V.current)?ku(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=Pu(a.href),(s=(a=Ve(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=Pu(a.href);var d=Ve(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Au(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Nu.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nu.set(e,a),d||(r=c,n=e,i=a,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=r.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),eu(n,"link",i),He(n),r.head.appendChild(n))))),t&&null===s)throw Error(l(528,""));return u}if(t&&null!==s)throw Error(l(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Tu(a),(s=(a=Ve(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Pu(e){return'href="'+pt(e)+'"'}function Au(e){return'link[rel="stylesheet"]['+e+"]"}function Lu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Tu(e){return'[src="'+pt(e)+'"]'}function Du(e){return"script[async]"+e}function zu(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(a.href)+'"]');if(s)return t.instance=s,He(s),s;var r=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return He(s=(e.ownerDocument||e).createElement("style")),eu(s,"style",r),Iu(s,a.precedence,e),t.instance=s;case"stylesheet":r=Pu(a.href);var n=e.querySelector(Au(r));if(n)return t.state.loading|=4,t.instance=n,He(n),n;s=Lu(a),(r=Nu.get(r))&&Ru(s,r),He(n=(e.ownerDocument||e).createElement("link"));var i=n;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),eu(n,"link",s),t.state.loading|=4,Iu(n,a.precedence,e),t.instance=n;case"script":return n=Tu(a.src),(r=e.querySelector(Du(n)))?(t.instance=r,He(r),r):(s=a,(r=Nu.get(n))&&Mu(s=m({},a),r),He(r=(e=e.ownerDocument||e).createElement("script")),eu(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Iu(s,a.precedence,e));return t.instance}function Iu(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,n=r,l=0;l<s.length;l++){var i=s[l];if(i.dataset.precedence===t)n=i;else if(n!==r)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function Ru(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Mu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ou=null;function Bu(e,t,a){if(null===Ou){var s=new Map,r=Ou=new Map;r.set(a,s)}else(s=(r=Ou).get(a))||(s=new Map,r.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var n=a[r];if(!(n[Be]||n[Te]||"link"===e&&"stylesheet"===n.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==n.namespaceURI){var l=n.getAttribute(t)||"";l=e+l;var i=s.get(l);i?i.push(n):s.set(l,[n])}}return s}function Fu(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qu=null;function Wu(){}function Vu(){if(this.count--,0===this.count)if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hu=null;function Ju(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hu=new Map,t.forEach(Gu,e),Hu=null,Vu.call(e))}function Gu(e,t){if(!(4&t.state.loading)){var a=Hu.get(e);if(a)var s=a.get(null);else{a=new Map,Hu.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var l=r[n];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(a.set(l.dataset.precedence,l),s=l)}s&&a.set(null,s)}l=(r=t.instance).getAttribute("data-precedence"),(n=a.get(l)||s)===s&&a.set(null,r),a.set(l,r),this.count++,s=Vu.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),n?n.parentNode.insertBefore(r,n.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var $u={$$typeof:j,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Ku(e,t,a,s,r,n,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Qu(e,t,a,s,r,n,l,i,o,c,d,u){return e=new Ku(e,t,a,l,i,o,c,u),t=1,!0===n&&(t|=24),n=Is(3,null,null,t),e.current=n,n.stateNode=e,(t=Tr()).refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:s,isDehydrated:a,cache:t},tn(n),e}function Yu(e){return e?e=Ds:Ds}function Xu(e,t,a,s,r,n){r=Yu(r),null===s.context?s.context=r:s.pendingContext=r,(s=sn(t)).payload={element:a},null!==(n=void 0===n?null:n)&&(s.callback=n),null!==(a=rn(e,s,t))&&(Rc(a,0,t),nn(a,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function em(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tm(e){if(13===e.tag){var t=As(e,67108864);null!==t&&Rc(t,0,67108864),em(e,67108864)}}var am=!0;function sm(e,t,a,s){var r=z.T;z.T=null;var n=I.p;try{I.p=2,nm(e,t,a,s)}finally{I.p=n,z.T=r}}function rm(e,t,a,s){var r=z.T;z.T=null;var n=I.p;try{I.p=8,nm(e,t,a,s)}finally{I.p=n,z.T=r}}function nm(e,t,a,s){if(am){var r=lm(s);if(null===r)qd(e,t,s,im,a),fm(e,s);else if(function(e,t,a,s,r){switch(t){case"focusin":return um=bm(um,e,t,a,s,r),!0;case"dragenter":return mm=bm(mm,e,t,a,s,r),!0;case"mouseover":return xm=bm(xm,e,t,a,s,r),!0;case"pointerover":var n=r.pointerId;return hm.set(n,bm(hm.get(n)||null,e,t,a,s,r)),!0;case"gotpointercapture":return n=r.pointerId,pm.set(n,bm(pm.get(n)||null,e,t,a,s,r)),!0}return!1}(r,e,t,a,s))s.stopPropagation();else if(fm(e,s),4&t&&-1<ym.indexOf(e)){for(;null!==r;){var n=qe(r);if(null!==n)switch(n.tag){case 3:if((n=n.stateNode).current.memoizedState.isDehydrated){var l=fe(n.pendingLanes);if(0!==l){var i=n;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-xe(l);i.entanglements[1]|=o,l&=~o}Nd(n),0===(6&ac)&&(Nc=te()+500,wd(0,!1))}}break;case 13:null!==(i=As(n,2))&&Rc(i,0,2),Uc(),em(n,2)}if(null===(n=lm(s))&&qd(e,t,s,im,a),n===r)break;r=n}null!==r&&s.stopPropagation()}else qd(e,t,s,null,a)}}function lm(e){return om(e=Lt(e))}var im=null;function om(e){if(im=null,null!==(e=Ue(e))){var t=o(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=c(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return im=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case se:return 2;case re:return 8;case ne:case le:return 32;case ie:return 268435456;default:return 32}default:return 32}}var dm=!1,um=null,mm=null,xm=null,hm=new Map,pm=new Map,gm=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":um=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":xm=null;break;case"pointerover":case"pointerout":hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(t.pointerId)}}function bm(e,t,a,s,r,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:n,targetContainers:[r]},null!==t&&(null!==(t=qe(t))&&tm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function vm(e){var t=Ue(e.target);if(null!==t){var a=o(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=c(a)))return e.blockedOn=t,void function(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}(e.priority,function(){if(13===a.tag){var e=zc();e=Ee(e);var t=As(a,e);null!==t&&Rc(t,0,e),em(a,e)}})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function jm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=lm(e.nativeEvent);if(null!==a)return null!==(t=qe(a))&&tm(t),e.blockedOn=a,!1;var s=new(a=e.nativeEvent).constructor(a.type,a);At=s,a.target.dispatchEvent(s),At=null,t.shift()}return!0}function Nm(e,t,a){jm(e)&&a.delete(t)}function wm(){dm=!1,null!==um&&jm(um)&&(um=null),null!==mm&&jm(mm)&&(mm=null),null!==xm&&jm(xm)&&(xm=null),hm.forEach(Nm),pm.forEach(Nm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wm)))}var Sm=null;function Cm(e){Sm!==e&&(Sm=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],r=e[t+2];if("function"!==typeof s){if(null===om(s||a))continue;break}var n=qe(a);null!==n&&(e.splice(t,3),t-=3,Al(n,{pending:!0,data:r,method:a.method,action:s},s,r))}}))}function _m(e){function t(t){return km(t,e)}null!==um&&km(um,e),null!==mm&&km(mm,e),null!==xm&&km(xm,e),hm.forEach(t),pm.forEach(t);for(var a=0;a<gm.length;a++){var s=gm[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<gm.length&&null===(a=gm[0]).blockedOn;)vm(a),null===a.blockedOn&&gm.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<a.length;s+=3){var r=a[s],n=a[s+1],l=r[De]||null;if("function"===typeof n)l||Cm(a);else if(l){var i=null;if(n&&n.hasAttribute("formAction")){if(r=n,l=n[De]||null)i=l.formAction;else if(null!==om(r))continue}else i=l.action;"function"===typeof i?a[s+1]=i:(a.splice(s,3),s-=3),Cm(a)}}}function Em(e){this._internalRoot=e}function Pm(e){this._internalRoot=e}Pm.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Xu(t.current,zc(),e,t,null,null)},Pm.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Uc(),t[ze]=null}},Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var a=0;a<gm.length&&0!==t&&t<gm[a].priority;a++);gm.splice(a,0,e),0===a&&vm(e)}};var Am=r.version;if("19.1.1"!==Am)throw Error(l(527,Am,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var r=a.return;if(null===r)break;var n=r.alternate;if(null===n){if(null!==(s=r.return)){a=s;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===a)return d(r),e;if(n===s)return d(r),t;n=n.sibling}throw Error(l(188))}if(a.return!==s.return)a=r,s=n;else{for(var i=!1,c=r.child;c;){if(c===a){i=!0,a=r,s=n;break}if(c===s){i=!0,s=r,a=n;break}c=c.sibling}if(!i){for(c=n.child;c;){if(c===a){i=!0,a=n,s=r;break}if(c===s){i=!0,s=n,a=r;break}c=c.sibling}if(!i)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(3!==a.tag)throw Error(l(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Lm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{de=Tm.inject(Lm),ue=Tm}catch(zm){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var a=!1,s="",r=yi,n=fi,o=bi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(n=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qu(e,1,!1,null,0,a,s,r,n,o,0,null),e[ze]=t.current,Fd(e),new Em(t)},t.hydrateRoot=function(e,t,a){if(!i(e))throw Error(l(299));var s=!1,r="",n=yi,o=fi,c=bi,d=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(s=!0),void 0!==a.identifierPrefix&&(r=a.identifierPrefix),void 0!==a.onUncaughtError&&(n=a.onUncaughtError),void 0!==a.onCaughtError&&(o=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.unstable_transitionCallbacks&&a.unstable_transitionCallbacks,void 0!==a.formState&&(d=a.formState)),(t=Qu(e,1,!0,t,0,s,r,n,o,c,0,d)).context=Yu(null),a=t.current,(r=sn(s=Ee(s=zc()))).callback=null,rn(a,r,s),a=s,t.current.lanes=a,Se(t,a),Nd(t),e[ze]=t.current,Fd(e),new Pm(t)},t.version="19.1.1"},43:(e,t,a)=>{e.exports=a(288)},288:(e,t)=>{var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||h}function f(){}function b(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=y.prototype;var v=b.prototype=new f;v.constructor=b,p(v,y.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},w=Object.prototype.hasOwnProperty;function k(e,t,s,r,n,l){return s=l.ref,{$$typeof:a,type:e,key:t,ref:void 0!==s?s:null,props:l}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function P(e,t,r,n,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case s:d=!0;break;case m:return P((d=e._init)(e._payload),t,r,n,l)}}if(d)return l=l(e),d=""===n?"."+_(e,0):n,j(l)?(r="",null!=d&&(r=d.replace(C,"$&/")+"/"),P(l,t,r,"",function(e){return e})):null!=l&&(S(l)&&(o=l,c=r+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+d,l=k(o.type,c,void 0,0,0,o.props)),t.push(l)),1;d=0;var u,h=""===n?".":n+":";if(j(e))for(var p=0;p<e.length;p++)d+=P(n=e[p],t,r,i=h+_(n,p),l);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=x&&u[x]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(n=e.next()).done;)d+=P(n=n.value,t,r,i=h+_(n,p++),l);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function A(e,t,a){if(null==e)return e;var s=[],r=0;return P(e,s,"","",function(e){return t.call(a,e,r++)}),s}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:A,forEach:function(e,t,a){A(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=n,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=p({},e.props),r=e.key;if(null!=t)for(n in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!w.call(t,n)||"key"===n||"__self"===n||"__source"===n||"ref"===n&&void 0===t.ref||(s[n]=t[n]);var n=arguments.length-2;if(1===n)s.children=a;else if(1<n){for(var l=Array(n),i=0;i<n;i++)l[i]=arguments[i+2];s.children=l}return k(e.type,r,void 0,0,0,s)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,a){var s,r={},n=null;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)w.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=a;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];r.children=i}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return k(e,n,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,a={};N.T=a;try{var s=e(),r=N.S;null!==r&&r(a,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(D,T)}catch(n){T(n)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,a){return N.H.useActionState(e,t,a)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t,a){var s=N.H;if("function"===typeof a)throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,a){return N.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return N.H.useReducer(e,t,a)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return N.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return N.H.useTransition()},t.version="19.1.1"},391:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(4)},579:(e,t,a)=>{e.exports=a(799)},672:(e,t,a)=>{var s=a(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==s?null:""+s,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=o.T,a=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=a,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,n="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:n}):"script"===a&&l.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:n,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin);l.d.L(e,a,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return o.H.useFormState(e,t,a)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(e,t,s){var r=null;if(void 0!==s&&(r=""+s),void 0!==t.key&&(r=""+t.key),"key"in t)for(var n in s={},t)"key"!==n&&(s[n]=t[n]);else s=t;return t=s.ref,{$$typeof:a,type:e,key:r,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=r,t.jsxs=r},853:(e,t,a)=>{e.exports=a(896)},896:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var s=a-1>>>1,r=e[s];if(!(0<n(r,t)))break e;e[s]=t,e[a]=r,a=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var s=0,r=e.length,l=r>>>1;s<l;){var i=2*(s+1)-1,o=e[i],c=i+1,d=e[c];if(0>n(o,a))c<r&&0>n(d,o)?(e[s]=d,e[c]=a,s=c):(e[s]=o,e[i]=a,s=i);else{if(!(c<r&&0>n(d,a)))break e;e[s]=d,e[c]=a,s=c}}}return t}function n(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,x=3,h=!1,p=!1,g=!1,y=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=s(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=s(d)}}function N(e){if(g=!1,j(e),!p)if(null!==s(c))p=!0,k||(k=!0,w());else{var t=s(d);null!==t&&T(N,t.startTime-e)}}var w,k=!1,S=-1,C=5,_=-1;function E(){return!!y||!(t.unstable_now()-_<C)}function P(){if(y=!1,k){var e=t.unstable_now();_=e;var a=!0;try{e:{p=!1,g&&(g=!1,b(S),S=-1),h=!0;var n=x;try{t:{for(j(e),m=s(c);null!==m&&!(m.expirationTime>e&&E());){var l=m.callback;if("function"===typeof l){m.callback=null,x=m.priorityLevel;var i=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,j(e),a=!0;break t}m===s(c)&&r(c),j(e)}else r(c);m=s(c)}if(null!==m)a=!0;else{var o=s(d);null!==o&&T(N,o.startTime-e),a=!1}}break e}finally{m=null,x=n,h=!1}a=void 0}}finally{a?w():k=!1}}}if("function"===typeof v)w=function(){v(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=P,w=function(){L.postMessage(null)}}else w=function(){f(P,0)};function T(e,a){S=f(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var a=x;x=t;try{return e()}finally{x=a}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=x;x=e;try{return t()}finally{x=a}},t.unstable_scheduleCallback=function(e,r,n){var l=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?l+n:l:n=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>l?(e.sortIndex=n,a(d,e),null===s(c)&&e===s(d)&&(g?(b(S),S=-1):g=!0,T(N,n-l))):(e.sortIndex=i,a(c,e),p||h||(p=!0,k||(k=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=x;return function(){var a=x;x=t;try{return e.apply(this,arguments)}finally{x=a}}}},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(672)}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.m=e,a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,s)=>(a.f[s](e,t),t),[])),a.u=e=>"static/js/"+e+".670e15c7.chunk.js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";a.l=(s,r,n,l)=>{if(e[s])e[s].push(r);else{var i,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=s),e[s]=[r];var m=(t,a)=>{i.onerror=i.onload=null,clearTimeout(x);var r=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(a)),t)return t(a)},x=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={792:0};a.f.j=(t,s)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var n=new Promise((a,s)=>r=e[t]=[a,s]);s.push(r[2]=n);var l=a.p+a.u(t),i=new Error;a.l(l,s=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",i.name="ChunkLoadError",i.type=n,i.request=l,r[1](i)}},"chunk-"+t,t)}};var t=(t,s)=>{var r,n,l=s[0],i=s[1],o=s[2],c=0;if(l.some(t=>0!==e[t])){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(o)o(a)}for(t&&t(s);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0},s=self.webpackChunkfrontend=self.webpackChunkfrontend||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s={};a.r(s),a.d(s,{hasBrowserEnv:()=>ge,hasStandardBrowserEnv:()=>fe,hasStandardBrowserWebWorkerEnv:()=>be,navigator:()=>ye,origin:()=>ve});var r=a(43),n=a(391);function l(e,t){return function(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:o}=Object,{iterator:c,toStringTag:d}=Symbol,u=(m=Object.create(null),e=>{const t=i.call(e);return m[t]||(m[t]=t.slice(8,-1).toLowerCase())});var m;const x=e=>(e=e.toLowerCase(),t=>u(t)===e),h=e=>t=>typeof t===e,{isArray:p}=Array,g=h("undefined");function y(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f=x("ArrayBuffer");const b=h("string"),v=h("function"),j=h("number"),N=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==u(e))return!1;const t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(d in e)&&!(c in e)},k=x("Date"),S=x("File"),C=x("Blob"),_=x("FileList"),E=x("URLSearchParams"),[P,A,L,T]=["ReadableStream","Request","Response","Headers"].map(x);function D(e,t){let a,s,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),p(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(y(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),n=s.length;let l;for(a=0;a<n;a++)l=s[a],t.call(null,e[l],l,e)}}function z(e,t){if(y(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s,r=a.length;for(;r-- >0;)if(s=a[r],t===s.toLowerCase())return s;return null}const I="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!g(e)&&e!==I;const M=(O="undefined"!==typeof Uint8Array&&o(Uint8Array),e=>O&&e instanceof O);var O;const B=x("HTMLFormElement"),F=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),U=x("RegExp"),q=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};D(a,(a,r)=>{let n;!1!==(n=t(a,r,e))&&(s[r]=n||a)}),Object.defineProperties(e,s)};const W=x("AsyncFunction"),V=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),s=[],I.addEventListener("message",e=>{let{source:t,data:r}=e;t===I&&r===a&&s.length&&s.shift()()},!1),e=>{s.push(e),I.postMessage(a,"*")}):e=>setTimeout(e);var a,s})("function"===typeof setImmediate,v(I.postMessage)),H="undefined"!==typeof queueMicrotask?queueMicrotask.bind(I):"undefined"!==typeof process&&process.nextTick||V,J={isArray:p,isArrayBuffer:f,isBuffer:y,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=u(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:b,isNumber:j,isBoolean:e=>!0===e||!1===e,isObject:N,isPlainObject:w,isEmptyObject:e=>{if(!N(e)||y(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:P,isRequest:A,isResponse:L,isHeaders:T,isUndefined:g,isDate:k,isFile:S,isBlob:C,isRegExp:U,isFunction:v,isStream:e=>N(e)&&v(e.pipe),isURLSearchParams:E,isTypedArray:M,isFileList:_,forEach:D,merge:function e(){const{caseless:t,skipUndefined:a}=R(this)&&this||{},s={},r=(r,n)=>{const l=t&&z(s,n)||n;w(s[l])&&w(r)?s[l]=e(s[l],r):w(r)?s[l]=e({},r):p(r)?s[l]=r.slice():a&&g(r)||(s[l]=r)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&D(arguments[n],r);return s},extend:function(e,t,a){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D(t,(t,s)=>{a&&v(t)?e[s]=l(t,a):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,s)=>{let r,n,l;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)l=r[n],s&&!s(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==a&&o(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:u,kindOfTest:x,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return-1!==s&&s===a},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!j(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[c]).call(e);let s;for(;(s=a.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const s=[];for(;null!==(a=e.exec(t));)s.push(a);return s},isHTMLForm:B,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:q,freezeMethods:e=>{q(e,(t,a)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const s=e[a];v(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},s=e=>{e.forEach(e=>{a[e]=!0})};return p(e)?s(e):s(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:z,global:I,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[d]&&e[c])},toJSONObject:e=>{const t=new Array(10),a=(e,s)=>{if(N(e)){if(t.indexOf(e)>=0)return;if(y(e))return e;if(!("toJSON"in e)){t[s]=e;const r=p(e)?[]:{};return D(e,(e,t)=>{const n=a(e,s+1);!g(n)&&(r[t]=n)}),t[s]=void 0,r}}return e};return a(e,0)},isAsyncFn:W,isThenable:e=>e&&(N(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:V,asap:H,isIterable:e=>null!=e&&v(e[c])};function G(e,t,a,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}J.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const $=G.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K[e]={value:e}}),Object.defineProperties(G,K),Object.defineProperty($,"isAxiosError",{value:!0}),G.from=(e,t,a,s,r,n)=>{const l=Object.create($);J.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return G.call(l,i,o,a,s,r),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",n&&Object.assign(l,n),l};const Q=G;function Y(e){return J.isPlainObject(e)||J.isArray(e)}function X(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,a){return e?e.concat(t).map(function(e,t){return e=X(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}const ee=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});const te=function(e,t,a){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(a=J.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!J.isUndefined(t[e])})).metaTokens,r=a.visitor||c,n=a.dots,l=a.indexes,i=(a.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(J.isBoolean(e))return e.toString();if(!i&&J.isBlob(e))throw new Q("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let i=e;if(e&&!r&&"object"===typeof e)if(J.endsWith(a,"{}"))a=s?a:a.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(Y)}(e)||(J.isFileList(e)||J.endsWith(a,"[]"))&&(i=J.toArray(e)))return a=X(a),i.forEach(function(e,s){!J.isUndefined(e)&&null!==e&&t.append(!0===l?Z([a],s,n):null===l?a:a+"[]",o(e))}),!1;return!!Y(e)||(t.append(Z(r,a,n),o(e)),!1)}const d=[],u=Object.assign(ee,{defaultVisitor:c,convertValue:o,isVisitable:Y});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(a,s){if(!J.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+s.join("."));d.push(a),J.forEach(a,function(a,n){!0===(!(J.isUndefined(a)||null===a)&&r.call(t,a,J.isString(n)?n.trim():n,s,u))&&e(a,s?s.concat(n):[n])}),d.pop()}}(e),t};function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function se(e,t){this._pairs=[],e&&te(e,this,t)}const re=se.prototype;re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ne=se;function le(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ie(e,t,a){if(!t)return e;const s=a&&a.encode||le;J.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let n;if(n=r?r(t,a):J.isURLSearchParams(t)?t.toString():new ne(t,a).toString(s),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const oe=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(t){null!==t&&e(t)})}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ue(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=de(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}function me(e,t,a){return(t=ue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach(function(t){me(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const pe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ne,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ge="undefined"!==typeof window&&"undefined"!==typeof document,ye="object"===typeof navigator&&navigator||void 0,fe=ge&&(!ye||["ReactNative","NativeScript","NS"].indexOf(ye.product)<0),be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ve=ge&&window.location.href||"http://localhost",je=he(he({},s),pe);const Ne=function(e){function t(e,a,s,r){let n=e[r++];if("__proto__"===n)return!0;const l=Number.isFinite(+n),i=r>=e.length;if(n=!n&&J.isArray(s)?s.length:n,i)return J.hasOwnProp(s,n)?s[n]=[s[n],a]:s[n]=a,!l;s[n]&&J.isObject(s[n])||(s[n]=[]);return t(e,a,s[n],r)&&J.isArray(s[n])&&(s[n]=function(e){const t={},a=Object.keys(e);let s;const r=a.length;let n;for(s=0;s<r;s++)n=a[s],t[n]=e[n];return t}(s[n])),!l}if(J.isFormData(e)&&J.isFunction(e.entries)){const a={};return J.forEachEntry(e,(e,s)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,a,0)}),a}return null};const we={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,r=J.isObject(e);r&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return s?JSON.stringify(Ne(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return te(e,new je.classes.URLSearchParams,he({visitor:function(e,t,a,s){return je.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=J.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return te(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,a){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||we.transitional,a=t&&t.forcedJSONParsing,s="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(a&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(r){if(a){if("SyntaxError"===r.name)throw Q.from(r,Q.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{we.headers[e]={}});const ke=we,Se=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ce=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Ee(e){return!1===e||null==e?e:J.isArray(e)?e.map(Ee):String(e)}function Pe(e,t,a,s,r){return J.isFunction(s)?s.call(this,t,a):(r&&(t=a),J.isString(t)?J.isString(s)?-1!==t.indexOf(s):J.isRegExp(s)?s.test(t):void 0:void 0)}class Ae{constructor(e){e&&this.set(e)}set(e,t,a){const s=this;function r(e,t,a){const r=_e(t);if(!r)throw new Error("header name must be a non-empty string");const n=J.findKey(s,r);(!n||void 0===s[n]||!0===a||void 0===a&&!1!==s[n])&&(s[n||t]=Ee(e))}const n=(e,t)=>J.forEach(e,(e,a)=>r(e,a,t));if(J.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let a,s,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!a||t[a]&&Se[a]||("set-cookie"===a?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t})(e),t);else if(J.isObject(e)&&J.isIterable(e)){let a,s,r={};for(const t of e){if(!J.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[s=t[0]]=(a=r[s])?J.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}n(r,t)}else null!=e&&r(t,e,a);return this}get(e,t){if(e=_e(e)){const a=J.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}(e);if(J.isFunction(t))return t.call(this,e,a);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const a=J.findKey(this,e);return!(!a||void 0===this[a]||t&&!Pe(0,this[a],a,t))}return!1}delete(e,t){const a=this;let s=!1;function r(e){if(e=_e(e)){const r=J.findKey(a,e);!r||t&&!Pe(0,a[r],r,t)||(delete a[r],s=!0)}}return J.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const r=t[a];e&&!Pe(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,a={};return J.forEach(this,(s,r)=>{const n=J.findKey(a,r);if(n)return t[n]=Ee(s),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(r):String(r).trim();l!==r&&delete t[r],t[l]=Ee(s),a[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,(a,s)=>{null!=a&&!1!==a&&(t[s]=e&&J.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,a]=e;return t+": "+a}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,s=new Array(a>1?a-1:0),r=1;r<a;r++)s[r-1]=arguments[r];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ce]=this[Ce]={accessors:{}}).accessors,a=this.prototype;function s(e){const s=_e(e);t[s]||(!function(e,t){const a=J.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(e,a,r){return this[s].call(this,t,e,a,r)},configurable:!0})})}(a,e),t[s]=!0)}return J.isArray(e)?e.forEach(s):s(e),this}}Ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Ae.prototype,(e,t)=>{let{value:a}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[s]=e}}}),J.freezeMethods(Ae);const Le=Ae;function Te(e,t){const a=this||ke,s=t||a,r=Le.from(s.headers);let n=s.data;return J.forEach(e,function(e){n=e.call(a,n,r.normalize(),t?t.status:void 0)}),r.normalize(),n}function De(e){return!(!e||!e.__CANCEL__)}function ze(e,t,a){Q.call(this,null==e?"canceled":e,Q.ERR_CANCELED,t,a),this.name="CanceledError"}J.inherits(ze,Q,{__CANCEL__:!0});const Ie=ze;function Re(e,t,a){const s=a.config.validateStatus;a.status&&s&&!s(a.status)?t(new Q("Request failed with status code "+a.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const Me=function(e,t){e=e||10;const a=new Array(e),s=new Array(e);let r,n=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=s[l];r||(r=o),a[n]=i,s[n]=o;let d=l,u=0;for(;d!==n;)u+=a[d++],d%=e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Oe=function(e,t){let a,s,r=0,n=1e3/t;const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=n,a=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=n?l(o,e):(a=o,s||(s=setTimeout(()=>{s=null,l(a)},n-t)))},()=>a&&l(a)]},Be=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const r=Me(50,250);return Oe(a=>{const n=a.loaded,l=a.lengthComputable?a.total:void 0,i=n-s,o=r(i);s=n;e({loaded:n,total:l,progress:l?n/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&n<=l?(l-n)/o:void 0,event:a,lengthComputable:null!=l,[t?"download":"upload"]:!0})},a)},Fe=(e,t)=>{const a=null!=e;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},Ue=e=>function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return J.asap(()=>e(...a))},qe=je.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,je.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,We=je.hasStandardBrowserEnv?{write(e,t,a,s,r,n){const l=[e+"="+encodeURIComponent(t)];J.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),J.isString(s)&&l.push("path="+s),J.isString(r)&&l.push("domain="+r),!0===n&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ve(e,t,a){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const He=e=>e instanceof Le?he({},e):e;function Je(e,t){t=t||{};const a={};function s(e,t,a,s){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:s},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function r(e,t,a,r){return J.isUndefined(t)?J.isUndefined(e)?void 0:s(void 0,e,0,r):s(e,t,0,r)}function n(e,t){if(!J.isUndefined(t))return s(void 0,t)}function l(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(a,r,n){return n in t?s(a,r):n in e?s(void 0,a):void 0}const o={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,a)=>r(He(e),He(t),0,!0)};return J.forEach(Object.keys(he(he({},e),t)),function(s){const n=o[s]||r,l=n(e[s],t[s],s);J.isUndefined(l)&&n!==i||(a[s]=l)}),a}const Ge=e=>{const t=Je({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:n,headers:l,auth:i}=t;if(t.headers=l=Le.from(l),t.url=ie(Ve(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),J.isFormData(a))if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(J.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[a,s]=e;t.includes(a.toLowerCase())&&l.set(a,s)})}if(je.hasStandardBrowserEnv&&(s&&J.isFunction(s)&&(s=s(t)),s||!1!==s&&qe(t.url))){const e=r&&n&&We.read(n);e&&l.set(r,e)}return t},$e="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const s=Ge(e);let r=s.data;const n=Le.from(s.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:x}=s;function h(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function g(){if(!p)return;const s=Le.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Re(function(e){t(e),h()},function(e){a(e),h()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p}),p=null}p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(a(new Q("Request aborted",Q.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const s=t&&t.message?t.message:"Network Error",r=new Q(s,Q.ERR_NETWORK,e,p);r.event=t||null,a(r),p=null},p.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const r=s.transitional||ce;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),a(new Q(t,r.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,p)),p=null},void 0===r&&n.setContentType(null),"setRequestHeader"in p&&J.forEach(n.toJSON(),function(e,t){p.setRequestHeader(t,e)}),J.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),u&&"json"!==u&&(p.responseType=s.responseType),x&&([o,d]=Be(x,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=Be(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(l=t=>{p&&(a(!t||t.type?new Ie(null,e,p):t),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);y&&-1===je.protocols.indexOf(y)?a(new Q("Unsupported protocol "+y+":",Q.ERR_BAD_REQUEST,e)):p.send(r||null)})},Ke=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,s=new AbortController;const r=function(e){if(!a){a=!0,l();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Q?t:new Ie(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,r(new Q("timeout ".concat(t," of ms exceeded"),Q.ETIMEDOUT))},t);const l=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:i}=s;return i.unsubscribe=()=>J.asap(l),i}};function Qe(e,t){this.v=e,this.k=t}function Ye(e){return function(){return new Xe(e.apply(this,arguments))}}function Xe(e){var t,a;function s(t,a){try{var n=e[t](a),l=n.value,i=l instanceof Qe;Promise.resolve(i?l.v:l).then(function(a){if(i){var o="return"===t?"return":"next";if(!l.k||a.done)return s(o,a);a=e[o](a).value}r(n.done?"return":"normal",a)},function(e){s("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?s(t.key,t.arg):a=null}this._invoke=function(e,r){return new Promise(function(n,l){var i={key:e,arg:r,resolve:n,reject:l,next:null};a?a=a.next=i:(t=a=i,s(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Ze(e){return new Qe(e,0)}function et(e){var t={},a=!1;function s(t,s){return a=!0,s=new Promise(function(a){a(e[t](s))}),{done:!1,value:new Qe(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):s("return",e)}),t}function tt(e){var t,a,s,r=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,s=Symbol.iterator);r--;){if(a&&null!=(t=e[a]))return t.call(e);if(s&&null!=(t=e[s]))return new at(t.call(e));a="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function at(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return at=function(e){this.s=e,this.n=e.next},at.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new at(e)}Xe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xe.prototype.next=function(e){return this._invoke("next",e)},Xe.prototype.throw=function(e){return this._invoke("throw",e)},Xe.prototype.return=function(e){return this._invoke("return",e)};const st=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let s,r=0;for(;r<a;)s=r+t,yield e.slice(r,s),r=s},rt=function(){var e=Ye(function*(e,t){var a,s=!1,r=!1;try{for(var n,l=tt(nt(e));s=!(n=yield Ze(l.next())).done;s=!1){const e=n.value;yield*et(tt(st(e,t)))}}catch(i){r=!0,a=i}finally{try{s&&null!=l.return&&(yield Ze(l.return()))}finally{if(r)throw a}}});return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Ye(function*(e){if(e[Symbol.asyncIterator])return void(yield*et(tt(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Ze(t.read());if(e)break;yield a}}finally{yield Ze(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),lt=(e,t,a,s)=>{const r=rt(e,t);let n,l=0,i=e=>{n||(n=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await r.next();if(t)return i(),void e.close();let n=s.byteLength;if(a){let e=l+=n;a(e)}e.enqueue(new Uint8Array(s))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},{isFunction:it}=J,ot=(e=>{let{Request:t,Response:a}=e;return{Request:t,Response:a}})(J.global),{ReadableStream:ct,TextEncoder:dt}=J.global,ut=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return!!e(...a)}catch(r){return!1}},mt=e=>{e=J.merge.call({skipUndefined:!0},ot,e);const{fetch:t,Request:a,Response:s}=e,r=t?it(t):"function"===typeof fetch,n=it(a),l=it(s);if(!r)return!1;const i=r&&it(ct),o=r&&("function"===typeof dt?(c=new dt,e=>c.encode(e)):async e=>new Uint8Array(await new a(e).arrayBuffer()));var c;const d=n&&i&&ut(()=>{let e=!1;const t=new a(je.origin,{body:new ct,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&ut(()=>J.isReadableStream(new s("").body)),m={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,a)=>{let s=t&&t[e];if(s)return s.call(t);throw new Q("Response type '".concat(e,"' is not supported"),Q.ERR_NOT_SUPPORT,a)})});const x=async(e,t)=>{const s=J.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new a(je.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await o(e)).byteLength:void 0)})(t):s};return async e=>{let{url:r,method:l,data:i,signal:o,cancelToken:c,timeout:h,onDownloadProgress:p,onUploadProgress:g,responseType:y,headers:f,withCredentials:b="same-origin",fetchOptions:v}=Ge(e),j=t||fetch;y=y?(y+"").toLowerCase():"text";let N=Ke([o,c&&c.toAbortSignal()],h),w=null;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let S;try{if(g&&d&&"get"!==l&&"head"!==l&&0!==(S=await x(f,i))){let e,t=new a(r,{method:"POST",body:i,duplex:"half"});if(J.isFormData(i)&&(e=t.headers.get("content-type"))&&f.setContentType(e),t.body){const[e,a]=Fe(S,Be(Ue(g)));i=lt(t.body,65536,e,a)}}J.isString(b)||(b=b?"include":"omit");const t=n&&"credentials"in a.prototype,o=he(he({},v),{},{signal:N,method:l.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0});w=n&&new a(r,o);let c=await(n?j(w,v):j(r,o));const h=u&&("stream"===y||"response"===y);if(u&&(p||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=J.toFiniteNumber(c.headers.get("content-length")),[a,r]=p&&Fe(t,Be(Ue(p),!0))||[];c=new s(lt(c.body,65536,a,()=>{r&&r(),k&&k()}),e)}y=y||"text";let C=await m[J.findKey(m,y)||"text"](c,e);return!h&&k&&k(),await new Promise((t,a)=>{Re(t,a,{data:C,headers:Le.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Q("Network Error",Q.ERR_NETWORK,e,w),{cause:C.cause||C});throw Q.from(C,C&&C.code,e,w)}}},xt=new Map,ht=e=>{let t=e?e.env:{};const{fetch:a,Request:s,Response:r}=t,n=[s,r,a];let l,i,o=n.length,c=xt;for(;o--;)l=n[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:mt(t)),c=i;return i},pt=(ht(),{http:null,xhr:$e,fetch:{get:ht}});J.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}});const gt=e=>"- ".concat(e),yt=e=>J.isFunction(e)||null===e||!1===e,ft=(e,t)=>{e=J.isArray(e)?e:[e];const{length:a}=e;let s,r;const n={};for(let l=0;l<a;l++){let a;if(s=e[l],r=s,!yt(s)&&(r=pt[(a=String(s)).toLowerCase()],void 0===r))throw new Q("Unknown adapter '".concat(a,"'"));if(r&&(J.isFunction(r)||(r=r.get(t))))break;n[a||"#"+l]=r}if(!r){const e=Object.entries(n).map(e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")});let t=a?e.length>1?"since :\n"+e.map(gt).join("\n"):" "+gt(e[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ie(null,e)}function vt(e){bt(e),e.headers=Le.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ft(e.adapter||ke.adapter,e)(e).then(function(t){return bt(e),t.data=Te.call(e,e.transformResponse,t),t.headers=Le.from(t.headers),t},function(t){return De(t)||(bt(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=Le.from(t.response.headers))),Promise.reject(t)})}const jt="1.12.2",Nt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const wt={};Nt.transitional=function(e,t,a){function s(e,t){return"[Axios v"+jt+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,n)=>{if(!1===e)throw new Q(s(r," has been removed"+(t?" in "+t:"")),Q.ERR_DEPRECATED);return t&&!wt[r]&&(wt[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,n)}},Nt.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const kt={assertOptions:function(e,t,a){if("object"!==typeof e)throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const n=s[r],l=t[n];if(l){const t=e[n],a=void 0===t||l(t,n,e);if(!0!==a)throw new Q("option "+n+" must be "+a,Q.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new Q("Unknown option "+n,Q.ERR_BAD_OPTION)}},validators:Nt},St=kt.validators;class Ct{constructor(e){this.defaults=e||{},this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(s){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Je(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:r}=t;void 0!==a&&kt.assertOptions(a,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),null!=s&&(J.isFunction(s)?t.paramsSerializer={serialize:s}:kt.assertOptions(s,{encode:St.function,serialize:St.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kt.assertOptions(t,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=r&&J.merge(r.common,r[t.method]);r&&J.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Le.concat(n,r);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[vt.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(x){t.call(this,x);break}}try{c=vt.call(this,m)}catch(x){return Promise.reject(x)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ie(Ve((e=Je(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){Ct.prototype[e]=function(t,a){return this.request(Je(a||{},{method:e,url:t,data:(a||{}).data}))}}),J.forEach(["post","put","patch"],function(e){function t(t){return function(a,s,r){return this.request(Je(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Ct.prototype[e]=t(),Ct.prototype[e+"Form"]=t(!0)});const _t=Ct;class Et{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{a.subscribe(e),t=e}).then(e);return s.cancel=function(){a.unsubscribe(t)},s},e(function(e,s,r){a.reason||(a.reason=new Ie(e,s,r),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Et(function(t){e=t}),cancel:e}}}const Pt=Et;const At={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(At).forEach(e=>{let[t,a]=e;At[a]=t});const Lt=At;const Tt=function e(t){const a=new _t(t),s=l(_t.prototype.request,a);return J.extend(s,_t.prototype,a,{allOwnKeys:!0}),J.extend(s,a,null,{allOwnKeys:!0}),s.create=function(a){return e(Je(t,a))},s}(ke);Tt.Axios=_t,Tt.CanceledError=Ie,Tt.CancelToken=Pt,Tt.isCancel=De,Tt.VERSION=jt,Tt.toFormData=te,Tt.AxiosError=Q,Tt.Cancel=Tt.CanceledError,Tt.all=function(e){return Promise.all(e)},Tt.spread=function(e){return function(t){return e.apply(null,t)}},Tt.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},Tt.mergeConfig=Je,Tt.AxiosHeaders=Le,Tt.formToJSON=e=>Ne(J.isHTMLForm(e)?new FormData(e):e),Tt.getAdapter=ft,Tt.HttpStatusCode=Lt,Tt.default=Tt;const Dt=Tt,zt="http://localhost:8000/api";console.log("Environment:","production"),console.log("API Base URL:",zt);const It=Dt.create({baseURL:zt,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4,withCredentials:!0});It.interceptors.request.use(e=>e,e=>(console.error("API Request Error:",e),Promise.reject(e))),It.interceptors.response.use(e=>e,e=>{var t;e.response?console.error("API Error: ".concat(e.response.status," ").concat(null===(t=e.response.config)||void 0===t?void 0:t.url),e.response.data):e.request?console.error("API Error: No response received",e.request):console.error("API Error:",e.message);return Promise.reject(e)});const Rt=It;var Mt=a(579);const Ot=e=>{let{onLogin:t}=e;const[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),y=async e=>{if(e.preventDefault(),x){o(!0),d("");try{const e=await(async e=>(await Rt.post("/forgot-password",{email:e})).data)(x);"success"===e.status&&g(e.message)}catch(s){var t,a;d((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to send reset instructions.")}finally{o(!1)}}else d("Please enter your email address")};return u?(0,Mt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#282c34",padding:"20px"},children:(0,Mt.jsxs)("div",{style:{backgroundColor:"#1e1e1e",padding:"40px",borderRadius:"12px",border:"1px solid #444",width:"100%",maxWidth:"400px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[(0,Mt.jsx)("h2",{style:{color:"#61dafb",textAlign:"center",marginBottom:"30px",fontSize:"24px"},children:"Reset Password"}),p?(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{style:{color:"#4CAF50",textAlign:"center",marginBottom:"20px",padding:"15px",backgroundColor:"#1a4a3a",borderRadius:"8px",border:"1px solid #4CAF50"},children:p}),(0,Mt.jsx)("button",{onClick:()=>{m(!1),g(""),h(""),d("")},style:{width:"100%",padding:"12px",backgroundColor:"#61dafb",color:"#000",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Back to Login"})]}):(0,Mt.jsxs)("form",{onSubmit:y,children:[(0,Mt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Mt.jsx)("label",{style:{display:"block",color:"#fff",marginBottom:"8px",fontSize:"14px"},children:"Email Address"}),(0,Mt.jsx)("input",{type:"email",value:x,onChange:e=>h(e.target.value),style:{width:"100%",padding:"12px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"8px",color:"#fff",fontSize:"16px"},placeholder:"Enter your email address"})]}),c&&(0,Mt.jsx)("div",{style:{color:"#f44336",marginBottom:"20px",textAlign:"center",fontSize:"14px"},children:c}),(0,Mt.jsx)("button",{type:"submit",disabled:i,style:{width:"100%",padding:"12px",backgroundColor:i?"#666":"#4CAF50",color:"#fff",border:"none",borderRadius:"8px",fontSize:"16px",cursor:i?"not-allowed":"pointer",marginBottom:"15px"},children:i?"Sending...":"Send Reset Instructions"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>{m(!1),d("")},style:{width:"100%",padding:"12px",backgroundColor:"transparent",color:"#61dafb",border:"1px solid #61dafb",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Back to Login"})]})]})}):(0,Mt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#282c34",padding:"20px"},children:(0,Mt.jsxs)("div",{style:{backgroundColor:"#1e1e1e",padding:"40px",borderRadius:"12px",border:"1px solid #444",width:"100%",maxWidth:"400px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[(0,Mt.jsxs)("div",{style:{textAlign:"center",marginBottom:"30px"},children:[(0,Mt.jsx)("h1",{style:{color:"#61dafb",fontSize:"28px",marginBottom:"10px"},children:"Business Management"}),(0,Mt.jsx)("p",{style:{color:"#aaa",fontSize:"16px"},children:"Sign in to your account"})]}),(0,Mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&n){o(!0),d("");try{if(a==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_DEMO_EMAIL&&n==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_DEMO_PASSWORD){return void t({id:1,username:"admin",email:a,full_name:"Admin User",role:"administrator"})}const e=await(async(e,t)=>(await Rt.post("/login",{email:e,password:t})).data)(a,n);if("success"===e.status){const a={id:e.data.user.id,username:e.data.user.username,email:e.data.user.email,full_name:e.data.user.full_name,role:e.data.user.role,organization:e.data.user.organization};t(a)}else d("Login failed. Please try again.")}catch(l){var s,r;d((null===(s=l.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Invalid credentials. Please try again.")}finally{o(!1)}}else d("Please enter both email and password")},children:[(0,Mt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Mt.jsx)("label",{style:{display:"block",color:"#fff",marginBottom:"8px",fontSize:"14px"},children:"Email"}),(0,Mt.jsx)("input",{type:"email",value:a,onChange:e=>s(e.target.value),style:{width:"100%",padding:"12px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"8px",color:"#fff",fontSize:"16px"},placeholder:"Enter your email"})]}),(0,Mt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Mt.jsx)("label",{style:{display:"block",color:"#fff",marginBottom:"8px",fontSize:"14px"},children:"Password"}),(0,Mt.jsx)("input",{type:"password",value:n,onChange:e=>l(e.target.value),style:{width:"100%",padding:"12px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"8px",color:"#fff",fontSize:"16px"},placeholder:"Enter your password"})]}),c&&(0,Mt.jsx)("div",{style:{color:"#f44336",marginBottom:"20px",textAlign:"center",fontSize:"14px"},children:c}),(0,Mt.jsx)("button",{type:"submit",disabled:i,style:{width:"100%",padding:"12px",backgroundColor:i?"#666":"#61dafb",color:"#000",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:i?"not-allowed":"pointer",marginBottom:"15px"},children:i?"Signing In...":"Sign In"}),(0,Mt.jsx)("div",{style:{textAlign:"center"},children:(0,Mt.jsx)("button",{type:"button",onClick:()=>{m(!0),d("")},style:{backgroundColor:"transparent",color:"#61dafb",border:"none",fontSize:"14px",cursor:"pointer",textDecoration:"underline"},children:"Forgot your password?"})})]})]})})};function Bt(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ft=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ut=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var qt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Vt=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c}=e,d=Bt(e,Wt);return(0,r.createElement)("svg",he(he(he({ref:t},qt),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(n)/Number(s):n,className:Ut("lucide",i)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),Ht=["className"],Jt=(e,t)=>{const a=(0,r.forwardRef)((a,s)=>{let{className:n}=a,l=Bt(a,Ht);return(0,r.createElement)(Vt,he({ref:s,iconNode:t,className:Ut("lucide-".concat((i=Ft(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),n)},l));var i});return a.displayName=Ft(e),a},Gt=Jt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),$t=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{o(!0),setTimeout(()=>{l([]),d(null),o(!1)},1e3)}catch(e){console.error("Failed to fetch DC Notice records:",e),d("Failed to load DC Notice records. Please try again."),l([]),o(!1)}})()},[]);const u=async()=>{o(!0),setTimeout(()=>{o(!1)},1e3)};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"DC Notice"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search DC Notice records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:u,disabled:i,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:i?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:i?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading DC Notice records..."})]}):c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:c}),(0,Mt.jsx)("button",{onClick:u,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):n.length>0?(0,Mt.jsx)("div",{className:"p-4",children:(0,Mt.jsx)("p",{className:"text-white",children:"DC Notice records would be displayed here"})}):(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No items"})})})]})})]})},Kt=Jt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Qt=Jt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yt=Jt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Xt=Jt("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),Zt=Jt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ea=Jt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),ta=e=>{let{discountRecord:t}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:t.fullName}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsxs)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Mt.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Mt.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-800",children:(0,Mt.jsxs)("div",{className:"px-5 py-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white",children:t.fullName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Account No."}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsxs)("span",{className:"text-red-500",children:[t.accountNo," | ",t.fullName," | ",t.completeAddress||t.address]}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white",children:t.contactNumber})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white",children:t.emailAddress})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Address"}),(0,Mt.jsx)("span",{className:"text-white",children:t.address})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Plan"}),(0,Mt.jsx)("span",{className:"text-white",children:t.plan})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Provider"}),(0,Mt.jsx)("span",{className:"text-white",children:t.provider})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Discount ID"}),(0,Mt.jsx)("span",{className:"text-white",children:t.discountId})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Discount Amount"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",t.discountAmount.toFixed(2)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Discount Status"}),(0,Mt.jsx)("span",{className:"text-white",children:t.discountStatus})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Date Created"}),(0,Mt.jsx)("span",{className:"text-white",children:t.dateCreated})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Processed By"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.processedBy}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Processed Date"}),(0,Mt.jsx)("span",{className:"text-white",children:t.processedDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Approved By"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.approvedBy}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Modified By"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.modifiedBy}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Modified Date"}),(0,Mt.jsx)("span",{className:"text-white",children:t.modifiedDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"User Email"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.userEmail}),(0,Mt.jsx)(ea,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Remarks"}),(0,Mt.jsx)("span",{className:"text-white",children:t.remarks})]}),t.barangay&&(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.barangay}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),t.city&&(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"City"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.city}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]})]})})})]})},aa=async()=>[{id:"1",fullName:"Michael C Cerda",accountNo:"202301255",contactNumber:"9568823688",emailAddress:"mikecerda924@gmail.com",address:"0066 Sitio Kabilang Tabi",completeAddress:"0066 Sitio Kabilang Tabi, Pila Pila, Binangonan, Rizal",plan:"SwitchNet - P999",provider:"SWITCH",discountId:"20250902154042",discountAmount:133.2,discountStatus:"Unused",dateCreated:"9/2/2025",processedBy:"Cheryll Mae Briones",processedDate:"9/2/2025",approvedBy:"Maria Zolina C. Anore",modifiedBy:"Cheryll Mae Briones",modifiedDate:"9/2/2025 3:40:42 PM",userEmail:"cheryll.briones@switchfiber.ph",remarks:"rebate for 4 days high loss",cityId:1,barangay:"Pila Pila",city:"Binangonan",onlineStatus:"Online"},{id:"2",fullName:"Jane Smith",accountNo:"202306002",contactNumber:"9456789123",emailAddress:"jane.smith@example.com",address:"456 Oak St",completeAddress:"456 Oak St, Malaban, Binangonan, Rizal",plan:"SwitchLite - P699",provider:"SWITCH",discountId:"20250903154043",discountAmount:200,discountStatus:"Used",dateCreated:"9/3/2025",processedBy:"Cheryll Mae Briones",processedDate:"9/3/2025",approvedBy:"Maria Zolina C. Anore",modifiedBy:"Cheryll Mae Briones",modifiedDate:"9/3/2025 1:15:22 PM",userEmail:"cheryll.briones@switchfiber.ph",remarks:"referral discount",cityId:1,barangay:"Malaban",city:"Binangonan",onlineStatus:"Offline"}],sa=async()=>[{id:1,name:"Quezon City"},{id:2,name:"Manila"},{id:3,name:"Makati"}],ra=async()=>[{id:1,name:"Metro Manila"},{id:2,name:"Calabarzon"}],na=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([sa(),ra()]);d(e||[]),m(t||[])}catch(e){console.error("Failed to fetch location data:",e),d([]),m([])}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{h(!0);const e=await aa();o(e),g(null)}catch(e){console.error("Failed to fetch discount records:",e),g("Failed to load discount records. Please try again."),o([])}finally{h(!1)}})()},[]);(0,r.useMemo)(()=>{const e=new Map(c.map(e=>[e.id,e.name]));return t=>t?e.get(t)||"City ".concat(t):"Unknown City"},[c]);const y=(0,r.useMemo)(()=>{const e=[{id:"all",name:"All",count:i.length}];return c.forEach(t=>{const a=i.filter(e=>e.cityId===t.id).length;e.push({id:String(t.id),name:t.name,count:a})}),e},[c,i]),f=(0,r.useMemo)(()=>i.filter(t=>{const s="all"===e||t.cityId===Number(e),r=""===a||t.fullName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.accountNo.includes(a);return s&&r}),[i,e,a]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Discounts"}),(0,Mt.jsx)("div",{children:(0,Mt.jsxs)("button",{className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm",onClick:()=>alert("Add new discount"),children:[(0,Mt.jsx)("span",{className:"font-bold",children:"+"}),(0,Mt.jsx)("span",{children:"Add"})]})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:y.map(a=>(0,Mt.jsx)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id&&"all"===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:"all"===a.id?(0,Mt.jsx)("span",{children:"All"}):(0,Mt.jsxs)("div",{className:"flex items-center w-full",children:[(0,Mt.jsx)(Kt,{size:16,className:"mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]})},a.id))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-950 overflow-hidden",children:(0,Mt.jsx)("div",{className:"flex flex-col h-full",children:(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:x?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading discount records..."})]}):p?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:p}),(0,Mt.jsx)("button",{onClick:async()=>{try{h(!0);const e=await aa();o(e),g(null)}catch(e){console.error("Failed to refresh discount records:",e),g("Failed to refresh discount records. Please try again.")}finally{h(!1)}},className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"space-y-0",children:f.length>0?f.map(e=>(0,Mt.jsx)("div",{onClick:()=>(e=>{l(e)})(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800 ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-white font-medium",children:e.fullName}),(0,Mt.jsxs)("div",{className:"text-red-400 text-sm",children:[e.accountNo," | ",e.fullName," | ",e.address]})]}),(0,Mt.jsx)("div",{className:"flex items-center ml-4 flex-shrink-0",children:(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",e.discountAmount.toFixed(2)]})})]})},e.id)):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No discount records found matching your filters"})})})})})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(ta,{discountRecord:n})]})]})},la=e=>{let{advancePaymentRecord:t}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:t.fullName}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsxs)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Mt.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Mt.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-800",children:(0,Mt.jsxs)("div",{className:"px-5 py-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white",children:t.fullName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white",children:t.contactNumber||"9564410416"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white",children:t.emailAddress||"divinedosdos@gmail.com"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Plan"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.plan||"SwitchLite - P699"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.provider||"SWITCH"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Payment No."}),(0,Mt.jsx)("span",{className:"text-white",children:t.paymentNo||"202407000000000"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Payment Date"}),(0,Mt.jsx)("span",{className:"text-white",children:t.paymentDate||t.dateTime})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Payment for Month of"}),(0,Mt.jsx)("span",{className:"text-white",children:t.paymentForMonthOf||"July"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Received Payment"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(t.receivedPayment||t.amount).toFixed(2)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Received By"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.receivedBy||"Cheryll Mae Briones"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Status"}),(0,Mt.jsx)("span",{className:"text-white",children:t.status||"Used"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Payment Method"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.paymentMethod||"Cash"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Reference No."}),(0,Mt.jsx)("span",{className:"text-white",children:t.referenceNo||"switchjune0174"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"OR No."}),(0,Mt.jsx)("span",{className:"text-white",children:t.orNo||"switchjune0174"})]})]})})})]})},ia=async()=>[{id:"1",fullName:"Divina B Calavo",dateTime:"7/6/2024 1:33:54 PM",amount:500,contactNumber:"9564410416",emailAddress:"divinedosdos@gmail.com",plan:"SwitchLite - P699",provider:"SWITCH",paymentNo:"202407000000000",paymentDate:"7/6/2024 1:33:54 PM",paymentForMonthOf:"July",receivedPayment:500,receivedBy:"Cheryll Mae Briones",status:"Used",paymentMethod:"Cash",referenceNo:"switchjune0174",orNo:"switchjune0174"},{id:"2",fullName:"Lourdes A Espiritu",dateTime:"2/25/2025 1:25:52 PM",amount:400,contactNumber:"9152187456",emailAddress:"lourdes.espiritu@example.com",plan:"SwitchLite - P699",provider:"SWITCH",paymentNo:"202502000000001",paymentDate:"2/25/2025 1:25:52 PM",paymentForMonthOf:"February",receivedPayment:400,receivedBy:"Cheryll Mae Briones",status:"Used",paymentMethod:"Cash",referenceNo:"switchfeb0225",orNo:"switchfeb0225"}],oa=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{(async()=>{try{d(!0);const e=await ia();o(e),m(null)}catch(e){console.error("Failed to fetch advance payment records:",e),m("Failed to load advance payment records. Please try again."),o([])}finally{d(!1)}})()},[]);const x=(0,r.useMemo)(()=>i.filter(e=>""===a||e.fullName.toLowerCase().includes(a.toLowerCase())),[i,a]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Advance Payments"}),(0,Mt.jsx)("div",{children:(0,Mt.jsxs)("button",{className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm",onClick:()=>alert("Add new advance payment"),children:[(0,Mt.jsx)("span",{className:"font-bold",children:"+"}),(0,Mt.jsx)("span",{children:"Add"})]})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("button",{onClick:()=>t("all"),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 bg-orange-500 bg-opacity-20 text-orange-400",children:(0,Mt.jsx)("span",{children:"All"})},"all")})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-950 overflow-hidden",children:(0,Mt.jsx)("div",{className:"flex flex-col h-full",children:(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading advance payment records..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:async()=>{try{d(!0);const e=await ia();o(e),m(null)}catch(e){console.error("Failed to refresh advance payment records:",e),m("Failed to refresh advance payment records. Please try again.")}finally{d(!1)}},className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"space-y-0",children:x.length>0?x.map(e=>(0,Mt.jsx)("div",{onClick:()=>(e=>{l(e)})(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800 ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-white font-medium",children:e.fullName}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:e.dateTime})]}),(0,Mt.jsx)("div",{className:"flex items-center ml-4 flex-shrink-0",children:(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",e.amount.toFixed(2)]})})]})},e.id)):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No advance payment records found matching your filters"})})})})})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(la,{advancePaymentRecord:n})]})]})},ca=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{o(!0),setTimeout(()=>{l([]),d(null),o(!1)},1e3)}catch(e){console.error("Failed to fetch Overdue records:",e),d("Failed to load Overdue records. Please try again."),l([]),o(!1)}})()},[]);const u=async()=>{o(!0),setTimeout(()=>{o(!1)},1e3)};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Overdue"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search Overdue records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:u,disabled:i,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:i?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:i?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading Overdue records..."})]}):c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:c}),(0,Mt.jsx)("button",{onClick:u,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):n.length>0?(0,Mt.jsx)("div",{className:"p-4",children:(0,Mt.jsx)("p",{className:"text-white",children:"Overdue records would be displayed here"})}):(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No items"})})})]})})]})},da=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{console.log("StaggeredPayment component mounted")},[]);(0,r.useEffect)(()=>{(async()=>{try{o(!0),setTimeout(()=>{l([]),d(null),o(!1)},1e3)}catch(e){console.error("Failed to fetch Staggered Payment records:",e),d("Failed to load Staggered Payment records. Please try again."),l([]),o(!1)}})()},[]);const u=async()=>{o(!0),setTimeout(()=>{o(!1)},1e3)};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Staggered Payment"}),(0,Mt.jsx)("div",{children:(0,Mt.jsxs)("button",{className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm",onClick:()=>alert("Add new staggered payment"),children:[(0,Mt.jsx)("span",{className:"font-bold",children:"+"}),(0,Mt.jsx)("span",{children:"Add"})]})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search Staggered Payment records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:u,disabled:i,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:i?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:i?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading Staggered Payment records..."})]}):c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:c}),(0,Mt.jsx)("button",{onClick:u,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):n.length>0?(0,Mt.jsx)("div",{className:"p-4",children:(0,Mt.jsx)("p",{className:"text-white",children:"Staggered Payment records would be displayed here"})}):(0,Mt.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[(0,Mt.jsx)("h1",{className:"text-orange-500 text-2xl mb-4",children:"Staggered Payment Component"}),(0,Mt.jsx)("p",{className:"text-lg",children:"No payment records found"})]})})})]})})]})},ua=e=>{let{staggeredInstallationRecord:t}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:t.fullName}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsxs)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Mt.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Mt.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-800",children:(0,Mt.jsxs)("div",{className:"px-5 py-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white",children:t.fullName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Account No."}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-red-500",children:t.accountNo||"202307241 | Cristina A Chavez | 0610 El Cerrero St, Macamot, Binangonan, Rizal"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white",children:t.contactNumber||"9381921628"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Email Address"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.emailAddress||"DelosSantosEduardo455@gmail.com"}),(0,Mt.jsx)(ea,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Address"}),(0,Mt.jsx)("span",{className:"text-white",children:t.address||"0610 El Cerrero St"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Plan"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.plan||"SwitchNet - P999"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.provider||"SWITCH"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Staggered Install No."}),(0,Mt.jsx)("span",{className:"text-white",children:t.staggeredInstallNo||"202509072012450000"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Staggered Date"}),(0,Mt.jsx)("span",{className:"text-white",children:t.staggeredDate||"9/7/2025"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Staggered Balance"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(t.staggeredBalance||199).toFixed(2)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Months to Pay"}),(0,Mt.jsx)("span",{className:"text-white",children:t.monthsToPay||1})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Monthly Payment"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(t.monthlyPayment||199).toFixed(2)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Modified By"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.modifiedBy||"Cheryll Mae Briones"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Modified Date"}),(0,Mt.jsx)("span",{className:"text-white",children:t.modifiedDate||"9/7/2025 8:12:45 PM"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"User Email"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.userEmail||"cheryll.briones@switchfiber.ph"}),(0,Mt.jsx)(ea,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Remarks"}),(0,Mt.jsx)("span",{className:"text-white",children:t.remarks||"balance payment"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.barangay||"Macamot"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"City"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:t.city||"Binangonan"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]})]})})})]})},ma=async()=>[{id:"1",fullName:"Cristina A Chavez",amount:199,count:1,accountNo:"202307241 | Cristina A Chavez | 0610 El Cerrero St, Macamot, Binangonan, Rizal",contactNumber:"9381921628",emailAddress:"DelosSantosEduardo455@gmail.com",address:"0610 El Cerrero St",plan:"SwitchNet - P999",provider:"SWITCH",staggeredInstallNo:"202509072012450000",staggeredDate:"9/7/2025",staggeredBalance:199,monthsToPay:1,monthlyPayment:199,modifiedBy:"Cheryll Mae Briones",modifiedDate:"9/7/2025 8:12:45 PM",userEmail:"cheryll.briones@switchfiber.ph",remarks:"balance payment",barangay:"Macamot",city:"Binangonan"},{id:"2",fullName:"Charish M Cinson",amount:130,count:1},{id:"3",fullName:"Geraldine O Dacdac",amount:150,count:1}],xa=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{(async()=>{try{d(!0);const e=await ma();o(e),m(null)}catch(e){console.error("Failed to fetch staggered installation records:",e),m("Failed to load staggered installation records. Please try again."),o([])}finally{d(!1)}})()},[]);const x=(0,r.useMemo)(()=>i.filter(e=>""===a||e.fullName.toLowerCase().includes(a.toLowerCase())),[i,a]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Staggered Installations"}),(0,Mt.jsx)("div",{children:(0,Mt.jsxs)("button",{className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm",onClick:()=>alert("Add new staggered installation"),children:[(0,Mt.jsx)("span",{className:"font-bold",children:"+"}),(0,Mt.jsx)("span",{children:"Add"})]})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("button",{onClick:()=>t("all"),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 bg-orange-500 bg-opacity-20 text-orange-400",children:(0,Mt.jsx)("span",{children:"All"})},"all")})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-950 overflow-hidden",children:(0,Mt.jsx)("div",{className:"flex flex-col h-full",children:(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading staggered installation records..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:async()=>{try{d(!0);const e=await ma();o(e),m(null)}catch(e){console.error("Failed to refresh staggered installation records:",e),m("Failed to refresh staggered installation records. Please try again.")}finally{d(!1)}},className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"space-y-0",children:x.length>0?x.map(e=>(0,Mt.jsx)("div",{onClick:()=>(e=>{l(e)})(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800 ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsx)("div",{className:"text-white font-medium",children:e.fullName}),(0,Mt.jsxs)("div",{className:"text-white",children:["\u20b1",e.amount.toFixed(2)]})]}),(0,Mt.jsx)("div",{className:"text-white text-sm mr-4",children:e.count})]})},e.id)):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No staggered installation records found matching your filters"})})})})})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(ua,{staggeredInstallationRecord:n})]})]})},ha=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{console.log("MassRebate component mounted")},[]);(0,r.useEffect)(()=>{(async()=>{try{o(!0),setTimeout(()=>{l([]),d(null),o(!1)},1e3)}catch(e){console.error("Failed to fetch Mass Rebate records:",e),d("Failed to load Mass Rebate records. Please try again."),l([]),o(!1)}})()},[]);const u=async()=>{o(!0),setTimeout(()=>{o(!1)},1e3)};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Mass Rebate"}),(0,Mt.jsx)("div",{children:(0,Mt.jsxs)("button",{className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm",onClick:()=>alert("Add new mass rebate"),children:[(0,Mt.jsx)("span",{className:"font-bold",children:"+"}),(0,Mt.jsx)("span",{children:"Add"})]})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search Mass Rebate records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:u,disabled:i,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:i?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:i?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading Mass Rebate records..."})]}):c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:c}),(0,Mt.jsx)("button",{onClick:u,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):n.length>0?(0,Mt.jsx)("div",{className:"p-4",children:(0,Mt.jsx)("p",{className:"text-white",children:"Mass Rebate records would be displayed here"})}):(0,Mt.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[(0,Mt.jsx)("h1",{className:"text-orange-500 text-2xl mb-4",children:"Mass Rebate Component"}),(0,Mt.jsx)("p",{className:"text-lg",children:"No rebate records found"})]})})})]})})]})},pa=Jt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ga=Jt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),ya=Jt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),fa=Jt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ba=e=>{let{smsBlastRecord:t}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:t.title||"NOTICE TO THE PUBLIC"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsxs)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsx)(fa,{size:16}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"mb-6",children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"message"}),(0,Mt.jsxs)("div",{className:"text-white whitespace-pre-wrap break-words",children:[(0,Mt.jsx)("p",{className:"font-medium mb-3",children:t.title||"NOTICE TO THE PUBLIC"}),(0,Mt.jsx)("p",{className:"mb-4",children:t.message||"This is to inform everyone that Mr. ELMER F. SOLIMAN, former Sales Agent is no longer employed to our company. He's NOT AUTHORIZED to transact any business, impose any fees, or pull out modems and other peripherals on behalf of Switch Fiber.\n\nReport immediately if you encountered any transactions from Mr. Elmer Soliman. Contact us at (Globe) 0915 407 7565 or (Smart) 0919 486 9998"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"modified date"}),(0,Mt.jsx)("p",{className:"text-white",children:t.modifiedDate||"6/28/2024 9:38:30 AM"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"modified email"}),(0,Mt.jsx)("p",{className:"text-white",children:t.modifiedEmail||"heatherlynn.hernandez@switchfiber.ph"})]}),t.recipients&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"recipients"}),(0,Mt.jsx)("p",{className:"text-white",children:t.recipients})]}),t.status&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"status"}),(0,Mt.jsx)("p",{className:"text-white",children:t.status})]}),t.barangay&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"barangay"}),(0,Mt.jsx)("p",{className:"text-white",children:t.barangay})]}),t.city&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"city"}),(0,Mt.jsx)("p",{className:"text-white",children:t.city})]}),t.messageType&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"message type"}),(0,Mt.jsx)("p",{className:"text-white",children:t.messageType})]}),t.targetGroup&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"target group"}),(0,Mt.jsx)("p",{className:"text-white",children:t.targetGroup})]}),t.deliveryStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"delivery status"}),(0,Mt.jsx)("p",{className:"text-white",children:t.deliveryStatus})]}),void 0!==t.deliveryRate&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"delivery rate"}),(0,Mt.jsxs)("p",{className:"text-white",children:[t.deliveryRate,"%"]})]}),void 0!==t.failedCount&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"failed count"}),(0,Mt.jsx)("p",{className:"text-white",children:t.failedCount})]}),t.remarks&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"remarks"}),(0,Mt.jsx)("p",{className:"text-white",children:t.remarks})]})]})})]})},va=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)("All"),[i,o]=(0,r.useState)("All"),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{m(!0),setTimeout(()=>{const e=[{id:"1",barangay:"All",city:"All",message:"NOTICE TO THE PUBLIC This is to inform everyone that Mr. ELMER F. SOLIMAN, former Sales Agent is no longer employed to our company...",modifiedDate:"6/29/2024 9:38:30 AM",modifiedEmail:"heatherlynn.hernandez@switchfib...",userEmail:"heatherlynn.hernandez@switchfib..."},{id:"2",barangay:"Pila Pila",city:"Binangonan",message:"CUSTOMER ADVISORY Our customers in the affected areas of Barangay Libid, Lunsad and Pila pila will experience degraded or no...",modifiedDate:"5/22/2024 7:22:57 PM",modifiedEmail:"heatherlynn.hernandez@switchfib...",userEmail:"heatherlynn.hernandez@switchfib..."},{id:"3",barangay:"Lunsad",city:"Binangonan",message:"CUSTOMER ADVISORY Our customers in the affected areas of Barangay Libid, Lunsad and Pila pila will experience degraded or no...",modifiedDate:"5/22/2024 7:22:38 PM",modifiedEmail:"heatherlynn.hernandez@switchfib...",userEmail:"heatherlynn.hernandez@switchfib..."},{id:"4",barangay:"Libid",city:"Binangonan",message:"CUSTOMER ADVISORY Our customers in the affected areas of Barangay Libid, Lunsad and Pila pila will experience degraded or no...",modifiedDate:"5/22/2024 7:21:16 PM",modifiedEmail:"heatherlynn.hernandez@switchfib...",userEmail:"heatherlynn.hernandez@switchfib..."},{id:"5",barangay:"All",city:"All",message:"\u26a0\ufe0f CUSTOMER ADVISORY \u26a0\ufe0f To our valued subscribers: We'd like to inform you that Switch Fiber will be performing security maint...",modifiedDate:"12/28/2023 1:29:37 PM",modifiedEmail:"heatherlynn.hernandez@switchfib...",userEmail:"heatherlynn.hernandez@switchfib..."},{id:"6",barangay:"All",city:"All",message:"NETWORK ADVISORY To our valued subscribers: This is to inform you that the emergency maintenance is successfully complete...",modifiedDate:"12/13/2023 11:21:00 AM",modifiedEmail:"hhernandez.support@switchfiber.ph",userEmail:"hhernandez.support@switchfiber.ph"},{id:"7",barangay:"All",city:"All",message:"MAINTENANCE ADVISORY To our valued subscribers: As part of our emergency maintenance, we will be migrating affected subsc...",modifiedDate:"12/12/2023 9:09:18 PM",modifiedEmail:"gibson.lizardo@switchfiber.ph",userEmail:"gibson.lizardo@switchfiber.ph"},{id:"8",barangay:"All",city:"All",message:"MAINTENANCE ADVISORY December 12, 2023 To our valued subscribers: We'd like to inform you that Switch Fiber will be perform...",modifiedDate:"12/12/2023 5:12:56 PM",modifiedEmail:"hhernandez.support@switchfiber.ph",userEmail:"hhernandez.support@switchfiber.ph"},{id:"9",barangay:"All",city:"All",message:"This is Switch Fiber Service Advisory: Sorry for the inconvenience. We are presently having technical issues that may be affecting...",modifiedDate:"12/11/2023 6:21:30 PM",modifiedEmail:"hhernandez.support@switchfiber.ph",userEmail:"hhernandez.support@switchfiber.ph"},{id:"10",barangay:"All",city:"All",message:"This is Switch Fiber Service Advisory: Sorry for the inconvenience. We are presently having technical issues that may be affecting...",modifiedDate:"12/11/2023 11:28:15 AM",modifiedEmail:"hhernandez.support@switchfiber.ph",userEmail:"hhernandez.support@switchfiber.ph"}];t(e),s(e),h(null),m(!1)},1e3)}catch(e){console.error("Failed to fetch SMS Blast records:",e),h("Failed to load SMS Blast records. Please try again."),t([]),s([]),m(!1)}})()},[]),(0,r.useEffect)(()=>{if(0===e.length)return;let t=[...e];if("All"!==n&&(t=t.filter(e=>e.barangay===n)),"All"!==i&&(t=t.filter(e=>e.city===i)),c){const e=c.toLowerCase();t=t.filter(t=>t.message.toLowerCase().includes(e)||t.modifiedEmail.toLowerCase().includes(e)||t.userEmail.toLowerCase().includes(e))}s(t)},[e,n,i,c]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex justify-between items-center",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"SMS Blast"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsxs)("button",{onClick:()=>{alert("Add new SMS Blast clicked")},className:"flex items-center space-x-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded",children:[(0,Mt.jsx)(pa,{size:18}),(0,Mt.jsx)("span",{children:"Add"})]}),(0,Mt.jsx)("button",{className:"p-2 bg-gray-800 rounded hover:bg-gray-700",children:(0,Mt.jsx)(ga,{size:18,className:"text-white"})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:u?(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-gray-400",children:"Loading SMS Blast records..."})}):x?(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-red-500",children:x})}):(0,Mt.jsxs)("div",{className:"h-full overflow-auto",children:[(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"barangay"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"city"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"message"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"modified date"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"modified email"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"user email"}),(0,Mt.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,Mt.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:a.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer",onClick:()=>(e=>{g(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.barangay}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.city}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-sm text-white max-w-md truncate",children:e.message}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.modifiedDate}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.modifiedEmail}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.userEmail}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Mt.jsx)(Kt,{className:"h-5 w-5 text-gray-400"})})]},e.id))})]}),0===a.length&&(0,Mt.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Mt.jsx)("p",{className:"text-gray-400",children:"No SMS Blast records found matching your criteria."})})]})})]}),p&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{g(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(ba,{smsBlastRecord:p})]})]})},ja=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(""),[x,h]=(0,r.useState)("All"),[p,g]=(0,r.useState)("All"),[y,f]=(0,r.useState)("All");(0,r.useEffect)(()=>{(async()=>{try{o(!0),setTimeout(()=>{const e=[];t(e),s(e),o(!1)},1e3)}catch(e){console.error("Failed to fetch SMS Blast logs:",e),d("Failed to load SMS Blast logs. Please try again."),t([]),s([]),o(!1)}})()},[]),(0,r.useEffect)(()=>{if(0===e.length)return;let t=[...e];if("All"!==x&&(t=t.filter(e=>e.status===x)),"All"!==p&&(t=t.filter(e=>e.provider===p)),"All"!==y&&(t=t.filter(e=>e.messageType===y)),u){const e=u.toLowerCase();t=t.filter(t=>t.recipientNumber.toLowerCase().includes(e)||t.messageId.toLowerCase().includes(e)||t.failureReason&&t.failureReason.toLowerCase().includes(e))}s(t)},[e,x,p,y,u]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex justify-between items-center",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"SMS Blast Logs"}),(0,Mt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Mt.jsx)("button",{className:"p-2 bg-gray-800 rounded hover:bg-gray-700",children:(0,Mt.jsx)(ga,{size:18,className:"text-white"})})})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:i?(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-gray-400",children:"Loading SMS Blast logs..."})}):c?(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-red-500",children:c})}):0===a.length?(0,Mt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-gray-400",children:"No items"})}):(0,Mt.jsx)("div",{className:"h-full overflow-auto",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"message id"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"recipient"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"sent date"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"provider"}),(0,Mt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"message type"}),(0,Mt.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,Mt.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:a.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer",onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.messageId}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.recipientNumber}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Mt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Delivered"===e.status?"bg-green-900 text-green-200":"Failed"===e.status?"bg-red-900 text-red-200":"Pending"===e.status?"bg-yellow-900 text-yellow-200":"bg-blue-900 text-blue-200"),children:e.status})}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.sentDate}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.provider}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.messageType}),(0,Mt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Mt.jsx)(Kt,{className:"h-5 w-5 text-gray-400"})})]},e.id))})]})})})]}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-md bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsxs)("div",{className:"p-6 h-full overflow-y-auto",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"SMS Log Details"}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Message ID"}),(0,Mt.jsx)("p",{className:"text-white",children:n.messageId})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Recipient"}),(0,Mt.jsx)("p",{className:"text-white",children:n.recipientNumber})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Status"}),(0,Mt.jsx)("p",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Delivered"===n.status?"bg-green-900 text-green-200":"Failed"===n.status?"bg-red-900 text-red-200":"Pending"===n.status?"bg-yellow-900 text-yellow-200":"bg-blue-900 text-blue-200"),children:n.status})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Sent Date"}),(0,Mt.jsx)("p",{className:"text-white",children:n.sentDate})]}),n.deliveryDate&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Delivery Date"}),(0,Mt.jsx)("p",{className:"text-white",children:n.deliveryDate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Provider"}),(0,Mt.jsx)("p",{className:"text-white",children:n.provider})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Message Type"}),(0,Mt.jsx)("p",{className:"text-white",children:n.messageType})]}),n.failureReason&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Failure Reason"}),(0,Mt.jsx)("p",{className:"text-white",children:n.failureReason})]}),void 0!==n.cost&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Cost"}),(0,Mt.jsxs)("p",{className:"text-white",children:["\u20b1",n.cost.toFixed(2)]})]}),n.barangay&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"Barangay"}),(0,Mt.jsx)("p",{className:"text-white",children:n.barangay})]}),n.city&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm text-gray-400 uppercase mb-1",children:"City"}),(0,Mt.jsx)("p",{className:"text-white",children:n.city})]})]})]})]})]})},Na=Jt("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),wa=Jt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ka=e=>{var t;let{disconnectionRecord:a}=e;const s="".concat(a.accountNo," | ").concat(a.customerName," | ").concat(a.address);return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:s}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Account No."}),(0,Mt.jsxs)("p",{className:"text-red-500",children:[a.accountNo," | ",a.customerName," | ",a.address]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"id"}),(0,Mt.jsx)("p",{className:"text-white",children:a.splynxId||"202509181547536099"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Mikrotik ID"}),(0,Mt.jsx)("p",{className:"text-white",children:a.mikrotikId||"*1528"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Provider"}),(0,Mt.jsx)("p",{className:"text-white",children:a.provider||"SWITCH"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Username"}),(0,Mt.jsx)("p",{className:"text-white",children:a.username||"manucaye0220251214"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Date"}),(0,Mt.jsx)("p",{className:"text-white",children:a.date||"9/18/2025 3:47:54 PM"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Remarks"}),(0,Mt.jsx)("p",{className:"text-white",children:a.remarks||"Pullout"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("p",{className:"text-white",children:a.barangay||"Tatala"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"City"}),(0,Mt.jsx)("p",{className:"text-white",children:a.city||"Binangonan"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Date Format"}),(0,Mt.jsx)("p",{className:"text-white",children:a.dateFormat||(null===(t=a.date)||void 0===t?void 0:t.split(" ")[0])||"9/18/2025"})]})]})})]})},Sa=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(["date","accountNo","username","remarks","splynxId","mikrotikId","provider"]);(0,r.useEffect)(()=>{(async()=>{try{d(!0),setTimeout(()=>{o([{id:"1",accountNo:"202305171",customerName:"Emelyn G Manucay",address:"0033 Sitio Kay Habagat St, Tatala, Binangonan, Rizal",remarks:"Pullout",splynxId:"202509181547536099",mikrotikId:"*1528",provider:"SWITCH",username:"manucaye0220251214",date:"9/18/2025 3:47:54 PM",barangay:"Tatala",city:"Binangonan",dateFormat:"9/18/2025",cityId:1},{id:"2",accountNo:"202402023",customerName:"Maria Santos",address:"456 Oak St, Lunsad, Binangonan, Rizal",remarks:"Intermittent connection",splynxId:"SPL67890",mikrotikId:"MK54321",provider:"SWITCH",username:"maria.santos456",date:"9/19/2025 10:15:43 AM",barangay:"Lunsad",city:"Binangonan",dateFormat:"9/19/2025",cityId:1},{id:"3",accountNo:"202403045",customerName:"Robert Reyes",address:"789 Pine St, Libid, Binangonan, Rizal",remarks:"Non-payment",splynxId:"SPL24680",mikrotikId:"MK13579",provider:"SWITCH",username:"robert.reyes789",date:"9/21/2025 09:05:11 AM",barangay:"Libid",city:"Binangonan",dateFormat:"9/21/2025",cityId:1}]),m(null),d(!1)},1e3)}catch(e){console.error("Failed to fetch disconnection logs:",e),m("Failed to load disconnection logs. Please try again."),o([]),d(!1)}})()},[]);const p=(0,r.useMemo)(()=>{const e=[{id:"all",name:"All",count:i.length}],t=new Map;return i.forEach(e=>{if(void 0!==e.cityId){const a=t.get(e.cityId)||0;t.set(e.cityId,a+1)}}),t.forEach((t,a)=>{e.push({id:String(a),name:g(a),count:t})}),e},[i]);function g(e){return{1:"Binangonan",2:"Cardona"}[e]||"City ".concat(e)}const y=(0,r.useMemo)(()=>i.filter(t=>{const s="all"===e||void 0!==t.cityId&&t.cityId===Number(e),r=""===a||t.customerName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.accountNo.includes(a);return s&&r}),[i,e,a]),f=async()=>{try{d(!0),setTimeout(()=>{o([{id:"1",accountNo:"202305171",customerName:"Emelyn G Manucay",address:"0033 Sitio Kay Habagat St, Tatala, Binangonan, Rizal",remarks:"Pullout",splynxId:"202509181547536099",mikrotikId:"*1528",provider:"SWITCH",username:"manucaye0220251214",date:"9/18/2025 3:47:54 PM",barangay:"Tatala",city:"Binangonan",dateFormat:"9/18/2025",cityId:1},{id:"2",accountNo:"202402023",customerName:"Maria Santos",address:"456 Oak St, Lunsad, Binangonan, Rizal",remarks:"Intermittent connection",splynxId:"SPL67890",mikrotikId:"MK54321",provider:"SWITCH",username:"maria.santos456",date:"9/19/2025 10:15:43 AM",barangay:"Lunsad",city:"Binangonan",dateFormat:"9/19/2025",cityId:1},{id:"3",accountNo:"202403045",customerName:"Robert Reyes",address:"789 Pine St, Libid, Binangonan, Rizal",remarks:"Non-payment",splynxId:"SPL24680",mikrotikId:"MK13579",provider:"SWITCH",username:"robert.reyes789",date:"9/21/2025 09:05:11 AM",barangay:"Libid",city:"Binangonan",dateFormat:"9/21/2025",cityId:1}]),m(null),d(!1)},1e3)}catch(e){console.error("Failed to refresh disconnection logs:",e),m("Failed to refresh disconnection logs. Please try again."),d(!1)}},b=(e,t)=>{switch(t){case"date":return e.date||(e.disconnectionDate?e.disconnectionDate.split(" ")[0]:"-");case"accountNo":case"accountNo":return(0,Mt.jsx)("span",{className:"text-red-400",children:e.accountNo});case"username":return e.username||"-";case"remarks":case"remarks":return e.remarks||"-";case"splynxId":return e.splynxId||"-";case"mikrotikId":return e.mikrotikId||"-";case"provider":return e.provider||"SWITCH";case"status":return(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Na,{className:"h-3 w-3 text-red-400 fill-red-400"}),(0,Mt.jsx)("span",{className:"text-xs text-red-400",children:e.status})]});case"customerName":return e.customerName;case"address":return(0,Mt.jsx)("span",{title:e.address,children:e.address});case"contactNumber":return e.contactNumber||"-";case"emailAddress":return e.emailAddress||"-";case"plan":return e.plan||"-";case"balance":return e.balance?"\u20b1 ".concat(e.balance.toFixed(2)):"-";case"disconnectionDate":return e.disconnectionDate||"-";case"disconnectedBy":return e.disconnectedBy||"-";case"reason":return e.reason||"-";case"appliedDate":return e.appliedDate||"-";case"reconnectionFee":return e.reconnectionFee?"\u20b1 ".concat(e.reconnectionFee.toFixed(2)):"-";case"daysDisconnected":return void 0!==e.daysDisconnected?e.daysDisconnected:"-";case"disconnectionCode":return e.disconnectionCode||"-";default:return"-"}},v=[{key:"date",label:"Date",width:"min-w-36"},{key:"accountNo",label:"Account No.",width:"min-w-32"},{key:"username",label:"Username",width:"min-w-36"},{key:"remarks",label:"Remarks",width:"min-w-40"},{key:"splynxId",label:"Splynx ID",width:"min-w-32"},{key:"mikrotikId",label:"Mikrotik ID",width:"min-w-32"},{key:"provider",label:"Provider",width:"min-w-28"},{key:"status",label:"Status",width:"min-w-28"},{key:"customerName",label:"Full Name",width:"min-w-40"},{key:"address",label:"Address",width:"min-w-56"},{key:"contactNumber",label:"Contact Number",width:"min-w-36"},{key:"emailAddress",label:"Email Address",width:"min-w-48"},{key:"plan",label:"Plan",width:"min-w-40"},{key:"balance",label:"Account Balance",width:"min-w-32"},{key:"disconnectionDate",label:"Disconnection Date",width:"min-w-36"},{key:"disconnectedBy",label:"Disconnected By",width:"min-w-36"},{key:"reason",label:"Reason",width:"min-w-40"},{key:"appliedDate",label:"Applied Date",width:"min-w-32"},{key:"reconnectionFee",label:"Reconnection Fee",width:"min-w-36"},{key:"daysDisconnected",label:"Days Disconnected",width:"min-w-36"},{key:"disconnectionCode",label:"Disconnection Code",width:"min-w-36"}].filter(e=>x.includes(e.key));return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Disconnection Logs"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:p.map(a=>(0,Mt.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(wa,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search disconnection logs...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:f,disabled:c,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:c?"Loading...":"Refresh"})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading disconnection logs..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:f,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"overflow-x-auto overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsx)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:v.map((e,t)=>(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 ".concat(e.width," whitespace-nowrap ").concat(t<v.length-1?"border-r border-gray-700":""),children:e.label},e.key))})}),(0,Mt.jsx)("tbody",{children:y.length>0?y.map(e=>(0,Mt.jsx)("tr",{className:"border-b border-gray-800 hover:bg-gray-900 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:v.map((t,a)=>(0,Mt.jsx)("td",{className:"py-4 px-3 text-white whitespace-nowrap ".concat(a<v.length-1?"border-r border-gray-800":""),children:b(e,t.key)},t.key))},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:v.length,className:"px-4 py-12 text-center text-gray-400",children:"No disconnection logs found matching your filters"})})})]})})})})]})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(ka,{disconnectionRecord:n})]})]})},Ca=e=>{let{reconnectionRecord:t}=e;const a="".concat(t.accountNo," | ").concat(t.customerName," | ").concat(t.address);return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:a}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Account No."}),(0,Mt.jsxs)("p",{className:"text-red-500",children:[t.accountNo," | ",t.customerName," | ",t.address]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"id"}),(0,Mt.jsx)("p",{className:"text-white",children:t.splynxId||"202509181617722"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Mikrotik ID"}),(0,Mt.jsx)("p",{className:"text-white",children:t.mikrotikId||"*1C7E"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("p",{className:"text-white",children:t.provider||"SWITCH"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Username"}),(0,Mt.jsx)("p",{className:"text-white",children:t.username||"santosg0701251450"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Date"}),(0,Mt.jsx)("p",{className:"text-white",children:t.date||"9/18/2025 4:17:22 PM"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Plan"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("p",{className:"text-white",children:t.plan||"SwitchLite - P699"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Reconnection Fee"}),(0,Mt.jsxs)("p",{className:"text-white",children:["\u20b1",void 0!==t.reconnectionFee?t.reconnectionFee.toFixed(2):"0.00"]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Remarks"}),(0,Mt.jsx)("p",{className:"text-white",children:t.remarks||"Transaction"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("p",{className:"text-white",children:t.barangay||"Tatala"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"City"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("p",{className:"text-white",children:t.city||"Binangonan"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-sm uppercase text-gray-500 mb-2",children:"Date Format"}),(0,Mt.jsx)("p",{className:"text-white",children:t.dateFormat||"9/18/2025"})]})]})})]})},_a=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(["date","accountNo","username","reconnectionFee","plan","remarks","splynxId","mikrotikId","provider"]);(0,r.useEffect)(()=>{(async()=>{try{d(!0),setTimeout(()=>{o([{id:"1",accountNo:"202305171",customerName:"Emelyn G Manucay",address:"0033 Sitio Kay Habagat St, Tatala, Binangonan, Rizal",remarks:"Service restored",splynxId:"202509181547536099",mikrotikId:"*1528",provider:"SWITCH",username:"manucaye0220251214",date:"9/20/2025 3:47:54 PM",barangay:"Tatala",city:"Binangonan",dateFormat:"9/20/2025",cityId:1,reconnectionFee:500,plan:"SwitchLite - P699"},{id:"2",accountNo:"202402023",customerName:"Maria Santos",address:"456 Oak St, Lunsad, Binangonan, Rizal",remarks:"Payment received",splynxId:"SPL67890",mikrotikId:"MK54321",provider:"SWITCH",username:"maria.santos456",date:"9/21/2025 10:15:43 AM",barangay:"Lunsad",city:"Binangonan",dateFormat:"9/21/2025",cityId:1,reconnectionFee:750,plan:"SwitchPro - P1299"},{id:"3",accountNo:"202403045",customerName:"Robert Reyes",address:"789 Pine St, Libid, Binangonan, Rizal",remarks:"Issue resolved",splynxId:"SPL24680",mikrotikId:"MK13579",provider:"SWITCH",username:"robert.reyes789",date:"9/22/2025 09:05:11 AM",barangay:"Libid",city:"Binangonan",dateFormat:"9/22/2025",cityId:1,reconnectionFee:1e3,plan:"SwitchMax - P1599"}]),m(null),d(!1)},1e3)}catch(e){console.error("Failed to fetch reconnection logs:",e),m("Failed to load reconnection logs. Please try again."),o([]),d(!1)}})()},[]);const p=(0,r.useMemo)(()=>{const e=[{id:"all",name:"All",count:i.length}],t=new Map;return i.forEach(e=>{if(void 0!==e.cityId){const a=t.get(e.cityId)||0;t.set(e.cityId,a+1)}}),t.forEach((t,a)=>{e.push({id:String(a),name:g(a),count:t})}),e},[i]);function g(e){return{1:"Binangonan",2:"Cardona"}[e]||"City ".concat(e)}const y=(0,r.useMemo)(()=>i.filter(t=>{const s="all"===e||void 0!==t.cityId&&t.cityId===Number(e),r=""===a||t.customerName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.accountNo.includes(a);return s&&r}),[i,e,a]),f=async()=>{try{d(!0),setTimeout(()=>{o([{id:"1",accountNo:"202305171",customerName:"Emelyn G Manucay",address:"0033 Sitio Kay Habagat St, Tatala, Binangonan, Rizal",remarks:"Service restored",splynxId:"202509181547536099",mikrotikId:"*1528",provider:"SWITCH",username:"manucaye0220251214",date:"9/20/2025 3:47:54 PM",barangay:"Tatala",city:"Binangonan",dateFormat:"9/20/2025",cityId:1,reconnectionFee:500,plan:"SwitchLite - P699"},{id:"2",accountNo:"202402023",customerName:"Maria Santos",address:"456 Oak St, Lunsad, Binangonan, Rizal",remarks:"Payment received",splynxId:"SPL67890",mikrotikId:"MK54321",provider:"SWITCH",username:"maria.santos456",date:"9/21/2025 10:15:43 AM",barangay:"Lunsad",city:"Binangonan",dateFormat:"9/21/2025",cityId:1,reconnectionFee:750,plan:"SwitchPro - P1299"},{id:"3",accountNo:"202403045",customerName:"Robert Reyes",address:"789 Pine St, Libid, Binangonan, Rizal",remarks:"Issue resolved",splynxId:"SPL24680",mikrotikId:"MK13579",provider:"SWITCH",username:"robert.reyes789",date:"9/22/2025 09:05:11 AM",barangay:"Libid",city:"Binangonan",dateFormat:"9/22/2025",cityId:1,reconnectionFee:1e3,plan:"SwitchMax - P1599"}]),m(null),d(!1)},1e3)}catch(e){console.error("Failed to refresh reconnection logs:",e),m("Failed to refresh reconnection logs. Please try again."),d(!1)}},b=(e,t)=>{switch(t){case"date":return e.date||(e.reconnectionDate?e.reconnectionDate.split(" ")[0]:"-");case"accountNo":return(0,Mt.jsx)("span",{className:"text-red-400",children:e.accountNo});case"username":return e.username||"-";case"reconnectionFee":return e.reconnectionFee?"\u20b1 ".concat(e.reconnectionFee.toFixed(2)):"-";case"plan":return e.plan||"-";case"remarks":return e.remarks||"-";case"splynxId":return e.splynxId||"-";case"mikrotikId":return e.mikrotikId||"-";case"provider":return e.provider||"-";case"status":return(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Na,{className:"h-3 w-3 text-green-400 fill-green-400"}),(0,Mt.jsx)("span",{className:"text-xs text-green-400",children:"Reconnected"})]});case"customerName":return e.customerName;case"address":return(0,Mt.jsx)("span",{title:e.address,children:e.address});case"contactNumber":return e.contactNumber||"-";case"emailAddress":return e.emailAddress||"-";case"balance":return e.balance?"\u20b1 ".concat(e.balance.toFixed(2)):"-";case"reconnectionDate":return e.reconnectionDate||"-";case"reconnectedBy":return e.reconnectedBy||"-";case"reason":return e.reason||"-";case"appliedDate":return e.appliedDate||"-";case"daysDisconnected":return void 0!==e.daysDisconnected?e.daysDisconnected:"-";case"reconnectionCode":return e.reconnectionCode||"-";default:return"-"}},v=[{key:"date",label:"Date",width:"min-w-36"},{key:"accountNo",label:"Account No.",width:"min-w-32"},{key:"username",label:"Username",width:"min-w-36"},{key:"reconnectionFee",label:"Reconnection Fee",width:"min-w-40"},{key:"plan",label:"Plan",width:"min-w-40"},{key:"remarks",label:"Remarks",width:"min-w-40"},{key:"splynxId",label:"Splynx ID",width:"min-w-32"},{key:"mikrotikId",label:"Mikrotik ID",width:"min-w-32"},{key:"provider",label:"Provider",width:"min-w-28"},{key:"status",label:"Status",width:"min-w-28"},{key:"customerName",label:"Full Name",width:"min-w-40"},{key:"address",label:"Address",width:"min-w-56"},{key:"contactNumber",label:"Contact Number",width:"min-w-36"},{key:"emailAddress",label:"Email Address",width:"min-w-48"},{key:"balance",label:"Account Balance",width:"min-w-32"},{key:"reconnectionDate",label:"Reconnection Date",width:"min-w-36"},{key:"reconnectedBy",label:"Reconnected By",width:"min-w-36"},{key:"reason",label:"Reason",width:"min-w-40"},{key:"appliedDate",label:"Applied Date",width:"min-w-32"},{key:"daysDisconnected",label:"Days Disconnected",width:"min-w-36"},{key:"reconnectionCode",label:"Reconnection Code",width:"min-w-36"}].filter(e=>x.includes(e.key));return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Reconnection Logs"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:p.map(a=>(0,Mt.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(wa,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search reconnection logs...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:f,disabled:c,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:c?"Loading...":"Refresh"})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading reconnection logs..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:f,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"overflow-x-auto overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsx)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:v.map((e,t)=>(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 ".concat(e.width," whitespace-nowrap ").concat(t<v.length-1?"border-r border-gray-700":""),children:e.label},e.key))})}),(0,Mt.jsx)("tbody",{children:y.length>0?y.map(e=>(0,Mt.jsx)("tr",{className:"border-b border-gray-800 hover:bg-gray-900 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:v.map((t,a)=>(0,Mt.jsx)("td",{className:"py-4 px-3 text-white whitespace-nowrap ".concat(a<v.length-1?"border-r border-gray-800":""),children:b(e,t.key)},t.key))},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:v.length,className:"px-4 py-12 text-center text-gray-400",children:"No reconnection logs found matching your filters"})})})]})})})})]})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(Ca,{reconnectionRecord:n})]})]})},Ea=Jt("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Pa=Jt("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Aa=Jt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),La=Jt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ta=Jt("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Da=Jt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),za=Jt("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Ia=Jt("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Ra=Jt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ma=Jt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Oa=Jt("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Ba=Jt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Fa=Jt("file-chart-column-increasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]),Ua=Jt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),qa=Jt("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),Wa=Jt("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Va=Jt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ha=Jt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ja=Jt("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ga=Jt("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),$a=Jt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ka=Jt("router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]),Qa=Jt("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),Ya=Jt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Xa=Jt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Za=e=>{let{activeSection:t,onSectionChange:a,onLogout:s,isCollapsed:n}=e;const[l,i]=(0,r.useState)([]),o=[{id:"dashboard",label:"Dashboard",icon:Ea},{id:"billing",label:"Billing",icon:Pa},{id:"users",label:"Users",icon:Aa,children:[{id:"user-management",label:"Users Management",icon:La},{id:"organization-management",label:"Organization Management",icon:Ta},{id:"group-management",label:"Group Management",icon:Da}]},{id:"application-management",label:"Application",icon:za},{id:"job-order",label:"Job Order",icon:Ia},{id:"service-order",label:"Service Order",icon:Ia},{id:"application-visit",label:"Application Visit",icon:Ra},{id:"payment-portal",label:"Payment Portal",icon:Ma},{id:"transaction-list",label:"Transaction List",icon:Oa},{id:"transactions-pending-list",label:"Transactions Pending List",icon:Ba},{id:"expenses-log",label:"Expenses Log",icon:Fa},{id:"daily-expenses",label:"Daily Expenses",icon:Ua},{id:"customer-map",label:"Customer Map",icon:qa},{id:"sales-agent-list",label:"Sales Agent List",icon:Wa},{id:"soa",label:"SOA",icon:Va},{id:"invoice",label:"Invoice",icon:Oa},{id:"overdue",label:"Overdue",icon:Ba},{id:"dc-notice",label:"DC Notice",icon:wa},{id:"discounts",label:"Discounts",icon:Ha},{id:"advance-payment",label:"Advance Payment",icon:Pa},{id:"staggered-payment",label:"Staggered Payment",icon:Ua},{id:"staggered-installation",label:"Staggered Installation",icon:Ua},{id:"mass-rebate",label:"Mass Rebate",icon:Ma},{id:"sms-blast",label:"SMS Blast",icon:Ja},{id:"sms-blast-logs",label:"SMS Blast Logs",icon:Ga},{id:"disconnected-logs",label:"Disconnected Logs",icon:wa},{id:"reconnection-logs",label:"Reconnection Logs",icon:Fa},{id:"inventory-category-list",label:"Inventory Category List",icon:Ga},{id:"configuration",label:"Configuration",icon:$a,children:[{id:"location-list",label:"Location List",icon:Ra},{id:"plan-list",label:"Plan List",icon:Ga},{id:"router-models",label:"Router Models",icon:Ka},{id:"lcp",label:"LCP",icon:Qa},{id:"nap",label:"NAP",icon:Qa},{id:"lcp-nap-list",label:"LCP NAP List",icon:Ra},{id:"inventory",label:"Inventory",icon:Ya},{id:"logs",label:"Logs",icon:Va},{id:"soa-generation",label:"SOA Generation",icon:Fa},{id:"invoice-generation",label:"Invoice Generation",icon:Oa}]}],c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=e.children&&e.children.length>0,o=l.includes(e.id),d=r&&e.children.some(e=>t===e.id),u=(e.id,t===e.id),m=e.icon;return(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("button",{onClick:()=>{var t;r?(t=e.id,i(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])):a(e.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors ".concat(s>0?"pl-8":"pl-4"," ").concat(u?"bg-orange-500 bg-opacity-20 text-orange-400 border-r-2 border-orange-500":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(m,{className:"mr-3 h-5 w-5 text-gray-400"}),!n&&(0,Mt.jsx)("span",{children:e.label})]}),r&&!n&&(0,Mt.jsx)(Kt,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(o?"transform rotate-90":"")})]}),r&&o&&!n&&(0,Mt.jsx)("div",{children:e.children.map(e=>c(e,s+1))})]},e.id)};return(0,Mt.jsxs)("div",{className:"".concat(n?"w-16":"w-64"," h-full bg-gray-800 border-r border-gray-600 flex flex-col transition-all duration-300 ease-in-out"),children:[(0,Mt.jsx)("nav",{className:"flex-1 py-4 overflow-y-auto scrollbar-thin scrollbar-track-gray-700 scrollbar-thumb-gray-500 hover:scrollbar-thumb-gray-400",children:o.map(e=>c(e))}),(0,Mt.jsx)("div",{className:"p-4 border-t border-gray-600",children:(0,Mt.jsxs)("button",{onClick:s,className:"w-full px-4 py-3 text-gray-300 hover:text-white border border-gray-500 rounded hover:bg-gray-700 transition-colors text-sm flex items-center justify-center",children:[(0,Mt.jsx)(Xa,{className:"h-4 w-4 mr-2"}),!n&&"Logout"]})})]})},es=e=>{let{onToggleSidebar:t,onSearch:a}=e;const[s,n]=(0,r.useState)(""),[l,i]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=()=>{const e=new Date,t=e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric"}),a=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});i("".concat(t," ").concat(a))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]);return(0,Mt.jsxs)("header",{className:"bg-gray-800 border-b border-gray-600 h-16 flex items-center px-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Mt.jsx)("button",{onClick:()=>{t&&t()},className:"text-gray-400 hover:text-white p-2 transition-colors cursor-pointer",type:"button",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Mt.jsx)("h1",{className:"text-white text-xl font-bold",children:"SYNC"})]}),(0,Mt.jsx)("div",{className:"flex-1 flex justify-center",children:(0,Mt.jsxs)("div",{className:"relative w-80",children:[(0,Mt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Mt.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Mt.jsx)("input",{type:"text",placeholder:"Search here...",value:s,onChange:e=>{n(e.target.value),null===a||void 0===a||a(e.target.value)},className:"w-full bg-gray-700 text-white placeholder-gray-400 pl-10 pr-4 py-2 rounded border border-gray-500 focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500"})]})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Mt.jsx)("div",{className:"text-gray-300 text-sm",children:l}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Mt.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,Mt.jsx)("svg",{className:"h-5 w-5 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]})]})},ts=Jt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),as=Jt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ss=Jt("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),rs=Jt("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),ns=()=>{const e=[{title:"TODAY'S SALES",value:"\u20b10",subtitle:"0%",icon:ts},{title:"SUBSCRIPTIONS",value:"0",subtitle:"",icon:Aa},{title:"IP ADDRESSES",value:"0",subtitle:"0 used IPs",icon:as},{title:"HOTSPOT USERS",value:"0",subtitle:"0 online",icon:ss},{title:"TOTAL TICKETS",value:"0",subtitle:"0 Open",icon:rs},{title:"INVOICES",value:"0",subtitle:"0 Unpaid",icon:Oa}];return(0,Mt.jsx)("div",{className:"bg-gray-950 text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Dashboard Overview"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Your business management system overview and key metrics"})]}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:e.map((e,t)=>{const a=e.icon;return(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Mt.jsx)(a,{className:"h-5 w-5 text-gray-400"})}),(0,Mt.jsx)("h3",{className:"text-xs font-medium text-gray-400 mb-2 uppercase tracking-wider",children:e.title}),(0,Mt.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:e.value}),e.subtitle&&(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:e.subtitle})]},t)})}),(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SYSTEM STATISTICS"}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mt.jsx)("span",{className:"text-gray-300 text-sm",children:"Memory"}),(0,Mt.jsx)("span",{className:"text-white text-sm",children:"0%"})]}),(0,Mt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Mt.jsx)("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"0%"}})})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mt.jsx)("span",{className:"text-gray-300 text-sm",children:"Hard Disk Space"}),(0,Mt.jsx)("span",{className:"text-white text-sm",children:"0%"})]}),(0,Mt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Mt.jsx)("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"0%"}})})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mt.jsx)("span",{className:"text-gray-300 text-sm",children:"CPU"}),(0,Mt.jsx)("span",{className:"text-white text-sm",children:"0%"})]}),(0,Mt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Mt.jsx)("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:"0%"}})})]})]})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"INVOICE SUMMARY"}),(0,Mt.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"relative w-full h-32",children:(0,Mt.jsxs)("svg",{className:"w-full h-full",children:[(0,Mt.jsx)("defs",{children:(0,Mt.jsxs)("linearGradient",{id:"invoiceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,Mt.jsx)("stop",{offset:"0%",stopColor:"#06b6d4"}),(0,Mt.jsx)("stop",{offset:"100%",stopColor:"#3b82f6"})]})}),(0,Mt.jsx)("polyline",{fill:"none",stroke:"url(#invoiceGradient)",strokeWidth:"2",points:"0,64 50,64 100,64 150,64 200,64 250,64 300,64 350,64 400,64"}),[0,50,100,150,200,250,300,350,400].map((e,t)=>(0,Mt.jsx)("circle",{cx:e,cy:64,r:"3",fill:"#06b6d4"},t))]})})}),(0,Mt.jsxs)("div",{className:"mt-4",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"2025-09-17"}),(0,Mt.jsx)("div",{className:"text-sm text-green-400",children:"Grand Total: 0"})]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"TRANSACTION SUMMARY"}),(0,Mt.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"relative w-full h-32",children:(0,Mt.jsxs)("svg",{className:"w-full h-full",children:[(0,Mt.jsx)("defs",{children:(0,Mt.jsxs)("linearGradient",{id:"transactionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,Mt.jsx)("stop",{offset:"0%",stopColor:"#10b981"}),(0,Mt.jsx)("stop",{offset:"100%",stopColor:"#059669"})]})}),(0,Mt.jsx)("polyline",{fill:"none",stroke:"url(#transactionGradient)",strokeWidth:"2",points:"0,64 50,64 100,64 150,64 200,64 250,64 300,64 350,64 400,64"}),[0,50,100,150,200,250,300,350,400].map((e,t)=>(0,Mt.jsx)("circle",{cx:e,cy:64,r:"3",fill:"#10b981"},t))]})})}),(0,Mt.jsxs)("div",{className:"mt-4",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"2025-09-17"}),(0,Mt.jsx)("div",{className:"text-sm text-green-400",children:"Grand Total: 0"})]})]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white",children:"RECENT TICKETS"}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Mt.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]})}),(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 border-b border-gray-700",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"SUBJECT"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"CUSTOMER"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"CONTACT NUMBER"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"STATUS"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"LAST UPDATED"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"PRIORITY"}),(0,Mt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"CATEGORY"})]})}),(0,Mt.jsx)("tbody",{children:(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-400",children:"You don't have any open tickets assigned to you."})})})]})})]})]})})},ls=async()=>{try{return(await Rt.get("/users")).data}catch(e){throw console.error("Get users API error:",e.message),e}},is=async e=>{try{return(await Rt.post("/users",e)).data}catch(t){throw console.error("Create user API error:",t.message),t}},os=async(e,t)=>{try{return(await Rt.put("/users/".concat(e),t)).data}catch(a){throw console.error("Update user API error:",a.message),a}},cs=async e=>{try{return(await Rt.delete("/users/".concat(e))).data}catch(t){throw console.error("Delete user API error:",t.message),t}},ds=async()=>(await Rt.get("/organizations")).data,us=async e=>(await Rt.post("/organizations",e)).data,ms=async(e,t)=>(await Rt.put("/organizations/".concat(e),t)).data,xs=async e=>(await Rt.delete("/organizations/".concat(e))).data,hs=async()=>(await Rt.get("/groups")).data,ps=async e=>(await Rt.post("/groups",e)).data,gs=async(e,t)=>(await Rt.put("/groups/".concat(e),t)).data,ys=async e=>(await Rt.delete("/groups/".concat(e))).data,fs=async e=>(await Rt.get("/logs",{params:e})).data,bs=async e=>(await Rt.get("/logs/stats",{params:{days:e}})).data,vs=async e=>(await Rt.get("/logs/export",{params:e})).data,js=e=>{let{items:t}=e;return(0,Mt.jsx)("div",{className:"px-6 py-3",children:(0,Mt.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,Mt.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:t.map((e,a)=>(0,Mt.jsxs)("li",{className:"inline-flex items-center",children:[a>0&&(0,Mt.jsx)("svg",{className:"w-4 h-4 text-gray-400 mx-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Mt.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.onClick?(0,Mt.jsx)("button",{onClick:e.onClick,className:"text-sm font-medium ".concat(a===t.length-1?"text-white":"text-gray-400 hover:text-gray-300 cursor-pointer"),children:e.label}):e.href?(0,Mt.jsx)("a",{href:e.href,className:"text-sm font-medium ".concat(a===t.length-1?"text-white":"text-gray-400 hover:text-gray-300"),children:e.label}):(0,Mt.jsx)("span",{className:"text-sm font-medium ".concat(a===t.length-1?"text-white":"text-gray-400 hover:text-gray-300"),children:e.label})]},a))})})})},Ns=[{value:"",label:"Select Salutation"},{value:"Mr",label:"Mr"},{value:"Ms",label:"Ms"},{value:"Mrs",label:"Mrs"},{value:"Dr",label:"Dr"},{value:"Prof",label:"Prof"}],ws=e=>{let{onCancel:t,onUserCreated:a}=e;const[s,n]=(0,r.useState)({salutation:"",full_name:"",username:"",email:"",mobile_number:"",password:"",org_id:void 0}),[l,i]=(0,r.useState)(""),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)({});(0,r.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await ds();e.success&&e.data&&c(e.data)}catch(e){console.error("Failed to load organizations:",e)}},p=e=>{const{name:t,value:a}=e.target;if("confirmPassword"===t)i(a);else if("org_id"===t){const e=a&&""!==a?parseInt(a,10):void 0;n(a=>he(he({},a),{},{[t]:e}))}else n(e=>he(he({},e),{},{[t]:a}));m[t]&&x(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Users",onClick:t},{label:"Add User"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Add New User"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Create a new user account in the system"})]}),m.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:m.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Salutation"}),(0,Mt.jsx)("select",{name:"salutation",value:s.salutation,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:border-gray-400",children:Ns.map(e=>(0,Mt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,Mt.jsx)("input",{type:"text",name:"full_name",value:s.full_name,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.full_name?"border-red-600":"border-gray-600"),placeholder:"Enter full name",required:!0}),m.full_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.full_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username *"}),(0,Mt.jsx)("input",{type:"text",name:"username",value:s.username,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.username?"border-red-600":"border-gray-600"),placeholder:"Enter username",required:!0}),m.username&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.username})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),(0,Mt.jsx)("input",{type:"email",name:"email",value:s.email,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.email?"border-red-600":"border-gray-600"),placeholder:"Enter email address",required:!0}),m.email&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mobile Number"}),(0,Mt.jsx)("input",{type:"tel",name:"mobile_number",value:s.mobile_number,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.mobile_number?"border-red-600":"border-gray-600"),placeholder:"Enter mobile number"}),m.mobile_number&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.mobile_number})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization"}),(0,Mt.jsxs)("select",{name:"org_id",value:s.org_id||"",onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white focus:outline-none focus:border-gray-400 ".concat(m.org_id?"border-red-600":"border-gray-600"),children:[(0,Mt.jsx)("option",{value:"",children:"No Organization (Optional)"}),o.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.organization_name},e.id))]}),m.org_id&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.org_id})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password *"}),(0,Mt.jsx)("input",{type:"password",name:"password",value:s.password,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.password?"border-red-600":"border-gray-600"),placeholder:"Enter password",required:!0}),m.password&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.password})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password *"}),(0,Mt.jsx)("input",{type:"password",name:"confirmPassword",value:l,onChange:p,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(m.confirmPassword?"border-red-600":"border-gray-600"),placeholder:"Confirm password",required:!0}),m.confirmPassword&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.confirmPassword})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:t,disabled:d,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e,t,a;const r={};return null!==(e=s.full_name)&&void 0!==e&&e.trim()||(r.full_name="Full name is required"),null!==(t=s.username)&&void 0!==t&&t.trim()?s.username.length<3&&(r.username="Username must be at least 3 characters"):r.username="Username is required",null!==(a=s.email)&&void 0!==a&&a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(r.email="Please enter a valid email address"):r.email="Email is required",s.password?s.password.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required",s.password!==l&&(r.confirmPassword="Passwords do not match"),s.mobile_number&&s.mobile_number.trim()&&!/^[+]?[0-9\s\-\(\)]+$/.test(s.mobile_number)&&(r.mobile_number="Mobile number format is invalid"),x(r),0===Object.keys(r).length})()){u(!0);try{const e={full_name:s.full_name.trim(),username:s.username.trim().toLowerCase(),email:s.email.trim().toLowerCase(),password:s.password};s.salutation&&s.salutation.trim()&&""!==s.salutation&&(e.salutation=s.salutation.trim()),s.mobile_number&&s.mobile_number.trim()&&(e.mobile_number=s.mobile_number.trim()),s.org_id&&s.org_id>0&&(e.org_id=s.org_id);const r=await is(e);r.success&&r.data?(a(r.data),t()):x({general:r.message||"Failed to create user"})}catch(m){var e,r,n,i,o,c,d;if(console.error("Failed to create user"),422===(null===(e=m.response)||void 0===e?void 0:e.status))if(null!==(r=m.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.errors){const e={},t=m.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),x(e)}else null!==(i=m.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.message?x({general:m.response.data.message}):x({general:"Validation error: Please check all required fields"});else x({general:(null===(c=m.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||m.message||"Failed to create user"})}finally{u(!1)}}},disabled:d,className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium disabled:opacity-50",children:d?"Creating...":"Create User"})]})]})]})})]})},ks=[{value:"",label:"Select Salutation"},{value:"Mr",label:"Mr"},{value:"Ms",label:"Ms"},{value:"Mrs",label:"Mrs"},{value:"Dr",label:"Dr"},{value:"Prof",label:"Prof"}],Ss=e=>{let{user:t,onCancel:a,onUserUpdated:s}=e;const[n,l]=(0,r.useState)({salutation:(null===t||void 0===t?void 0:t.salutation)||"",full_name:(null===t||void 0===t?void 0:t.full_name)||"",username:(null===t||void 0===t?void 0:t.username)||"",email:(null===t||void 0===t?void 0:t.email_address)||"",mobile_number:(null===t||void 0===t?void 0:t.mobile_number)||"",org_id:null===t||void 0===t?void 0:t.org_id}),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)({});if((0,r.useEffect)(()=>{x()},[]),(0,r.useEffect)(()=>{t&&l({salutation:t.salutation||"",full_name:t.full_name||"",username:t.username||"",email:t.email_address||"",mobile_number:t.mobile_number||"",org_id:t.org_id})},[t]),!t)return console.error("EditUserForm received invalid user data"),(0,Mt.jsx)("div",{className:"p-6",children:(0,Mt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded p-4 text-red-200",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Invalid User Data"}),(0,Mt.jsx)("p",{children:"Cannot edit user: No user data provided."}),(0,Mt.jsx)("button",{onClick:a,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Back to Users"})]})});const x=async()=>{try{const e=await ds();e.success&&e.data&&o(e.data)}catch(e){console.error("Failed to load organizations:",e)}},h=e=>{const{name:t,value:a}=e.target;if("org_id"===t){const e=a&&""!==a?parseInt(a,10):void 0;l(a=>he(he({},a),{},{[t]:e}))}else l(e=>he(he({},e),{},{[t]:a}));u[t]&&m(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Users",onClick:a},{label:"Edit User"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Edit User"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Update user information"})]}),u.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:u.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Salutation"}),(0,Mt.jsx)("select",{name:"salutation",value:n.salutation||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:border-gray-400",children:ks.map(e=>(0,Mt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,Mt.jsx)("input",{type:"text",name:"full_name",value:n.full_name||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(u.full_name?"border-red-600":"border-gray-600"),placeholder:"Enter full name",required:!0}),u.full_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.full_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username *"}),(0,Mt.jsx)("input",{type:"text",name:"username",value:n.username||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(u.username?"border-red-600":"border-gray-600"),placeholder:"Enter username",required:!0}),u.username&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.username})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),(0,Mt.jsx)("input",{type:"email",name:"email",value:n.email||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(u.email?"border-red-600":"border-gray-600"),placeholder:"Enter email address",required:!0}),u.email&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mobile Number"}),(0,Mt.jsx)("input",{type:"tel",name:"mobile_number",value:n.mobile_number||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(u.mobile_number?"border-red-600":"border-gray-600"),placeholder:"Enter mobile number"}),u.mobile_number&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.mobile_number})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization (Optional)"}),(0,Mt.jsxs)("select",{name:"org_id",value:n.org_id||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:border-gray-400",children:[(0,Mt.jsx)("option",{value:"",children:"No Organization"}),i.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.organization_name},e.id))]})]}),(0,Mt.jsxs)("div",{className:"md:col-span-2",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password (optional)"}),(0,Mt.jsx)("input",{type:"password",name:"password",value:n.password||"",onChange:h,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(u.password?"border-red-600":"border-gray-600"),placeholder:"Leave blank to keep current password"}),u.password&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.password}),(0,Mt.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Leave blank to keep current password. Minimum 8 characters if changing."})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:a,disabled:c,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e,t,a;const s={};return null!==(e=n.full_name)&&void 0!==e&&e.trim()||(s.full_name="Full name is required"),null!==(t=n.username)&&void 0!==t&&t.trim()?n.username.length<3&&(s.username="Username must be at least 3 characters"):s.username="Username is required",null!==(a=n.email)&&void 0!==a&&a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(s.email="Please enter a valid email address"):s.email="Email is required",n.password&&n.password.length<8&&(s.password="Password must be at least 8 characters"),n.mobile_number&&n.mobile_number.trim()&&!/^[+]?[0-9\s\-\(\)]+$/.test(n.mobile_number)&&(s.mobile_number="Mobile number format is invalid"),m(s),0===Object.keys(s).length})()){d(!0);try{const r={};var e;if(void 0!==n.salutation&&n.salutation!==(t.salutation||"")&&(r.salutation=n.salutation.trim()||void 0),n.full_name&&n.full_name.trim()!==(t.full_name||"")&&(r.full_name=n.full_name.trim()),n.username&&n.username.trim()!==(t.username||"")&&(r.username=n.username.trim()),n.email&&n.email.trim()!==(t.email_address||"")&&(r.email=n.email.trim()),n.mobile_number!==(t.mobile_number||""))r.mobile_number=(null===(e=n.mobile_number)||void 0===e?void 0:e.trim())||void 0;const l=t.org_id||void 0;(n.org_id||void 0)!==l&&(r.org_id=n.org_id&&n.org_id>0?n.org_id:void 0),n.password&&n.password.trim()&&(r.password=n.password);const i=await os(t.user_id,r);i.success&&i.data?(s(i.data),a()):m({general:i.message||"Failed to update user"})}catch(h){var r,l,i,o,c,u,x;if(console.error("Update user error:",h),422===(null===(r=h.response)||void 0===r?void 0:r.status))if(null!==(l=h.response)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.errors){const e={},t=h.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),m(e)}else null!==(o=h.response)&&void 0!==o&&null!==(c=o.data)&&void 0!==c&&c.message?m({general:h.response.data.message}):m({general:"Validation error: Please check all required fields"});else m({general:(null===(u=h.response)||void 0===u||null===(x=u.data)||void 0===x?void 0:x.message)||h.message||"Failed to update user"})}finally{d(!1)}}},disabled:c,className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:c?"Updating...":"Update User"})]})]})]})})]})},Cs=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(1),[p,g]=(0,r.useState)(10);(0,r.useEffect)(()=>{y()},[]);const y=async()=>{s(!0);try{const e=await ls();e.success&&e.data&&t(e.data)}catch(e){console.error("Failed to load users:",e)}finally{s(!1)}},f=e.filter(e=>e.username.toLowerCase().includes(n.toLowerCase())||e.email_address.toLowerCase().includes(n.toLowerCase())||e.full_name.toLowerCase().includes(n.toLowerCase())),b=f.length,v=Math.ceil(b/p),j=(x-1)*p,N=j+p,w=f.slice(j,N),k=0===b?0:j+1,S=Math.min(N,b);(0,r.useEffect)(()=>{h(1)},[n]);const C=e=>{h(e)},_=()=>{o(!1)},E=e=>{if(!e)return console.error("Received invalid user from creation"),void alert("Warning: Failed to receive user data. Please refresh the page.");t(t=>[...t,e]),o(!1)},P=()=>{d(null)},A=e=>{t(t=>t.map(t=>t.user_id===e.user_id?e:t)),d(null)};return i?(0,Mt.jsx)(ws,{onCancel:_,onUserCreated:E}):c?(0,Mt.jsx)(Ss,{user:c,onCancel:P,onUserUpdated:A}):(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Users"}]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:[(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"User Management"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage system users and their permissions"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search users by name, username, or email...",value:n,onChange:e=>l(e.target.value),className:"px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-100 w-80"}),(0,Mt.jsx)("button",{onClick:()=>{o(!0)},className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium",children:"Add New User"})]}),a?(0,Mt.jsx)("div",{className:"text-center py-8",children:(0,Mt.jsx)("p",{className:"text-gray-400",children:"Loading users..."})}):(0,Mt.jsx)("div",{className:"bg-gray-800 rounded border border-gray-600 overflow-hidden",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"",children:[(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Name"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Username"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Email"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Mobile"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Organization"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Created"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Actions"})]})}),(0,Mt.jsx)("tbody",{children:0===w.length?(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"No users found"})}):w.map(e=>{var t;return(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[(0,Mt.jsxs)("td",{className:"px-4 py-4 text-sm text-white",children:[e.salutation&&(0,Mt.jsx)("span",{className:"text-gray-400 mr-1",children:e.salutation}),e.full_name]}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white",children:e.username}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.email_address}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.mobile_number||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:(null===(t=e.organization)||void 0===t?void 0:t.organization_name)||"No Organization"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(e.created_at).toLocaleDateString()}),(0,Mt.jsx)("td",{className:"px-4 py-4",children:(0,Mt.jsxs)("div",{className:"flex gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{if(!e)return console.error("Cannot edit user: No user data"),void alert("Cannot edit user: No user data");d(e)})(e),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900 rounded transition-colors",title:"Edit user",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Mt.jsx)("button",{onClick:()=>(e=>{m(e)})(e),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900 rounded transition-colors",title:"Delete user",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.user_id)})})]})})}),b>0&&(0,Mt.jsx)("div",{className:"mt-4",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mt.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",k," to ",S," of ",b," entries"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"Show"}),(0,Mt.jsxs)("select",{value:p,onChange:e=>{return t=Number(e.target.value),g(t),void h(1);var t},className:"px-3 py-1 bg-gray-800 border border-gray-600 rounded text-white text-sm focus:outline-none focus:border-gray-400",children:[(0,Mt.jsx)("option",{value:10,children:"10"}),(0,Mt.jsx)("option",{value:25,children:"25"}),(0,Mt.jsx)("option",{value:50,children:"50"}),(0,Mt.jsx)("option",{value:100,children:"100"})]}),(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"entries"})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Mt.jsx)("button",{onClick:()=>C(x-1),disabled:1===x||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v>0&&Array.from({length:v},(e,t)=>t+1).filter(e=>Math.abs(e-x)<=2||1===e||e===v).map((e,t,a)=>{const s=a[t-1],n=s&&e-s>1;return(0,Mt.jsxs)(r.Fragment,{children:[n&&(0,Mt.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),(0,Mt.jsx)("button",{onClick:()=>C(e),className:"px-3 py-1 text-sm border rounded ".concat(x===e?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"),children:e})]},e)}),(0,Mt.jsx)("button",{onClick:()=>C(x+1),disabled:x===v||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),u&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700 max-w-md w-full mx-4",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Confirm Delete User"}),(0,Mt.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete user "',u.full_name,'" (',u.username,")? This action cannot be undone."]}),(0,Mt.jsxs)("div",{className:"flex gap-4",children:[(0,Mt.jsx)("button",{onClick:()=>{m(null)},className:"px-4 py-2 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if(u)try{const e=await cs(u.user_id);if(e.success)t(e=>e.filter(e=>e.user_id!==u.user_id)),m(null);else{const t=e.message||"Failed to delete user";alert(t)}}catch(s){var e,a;console.error("Failed to delete user:",s);const t=(null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||s.message||"Failed to delete user";alert(t)}},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete User"})]})]})})]})]})},_s=e=>{let{onCancel:t,onOrganizationCreated:a}=e;const[s,n]=(0,r.useState)({organization_name:"",address:"",contact_number:"",email_address:""}),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)({}),d=e=>{const{name:t,value:a}=e.target;n(e=>he(he({},e),{},{[t]:a})),o[t]&&c(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Organizations",onClick:t},{label:"Add Organization"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Add New Organization"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Create a new organization in the system"})]}),o.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:o.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization Name *"}),(0,Mt.jsx)("input",{type:"text",name:"organization_name",value:s.organization_name,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.organization_name?"border-red-600":"border-gray-600"),placeholder:"Enter organization name",required:!0}),o.organization_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.organization_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address"}),(0,Mt.jsx)("textarea",{name:"address",value:s.address,onChange:d,rows:3,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.address?"border-red-600":"border-gray-600"),placeholder:"Enter organization address"}),o.address&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contact Number"}),(0,Mt.jsx)("input",{type:"text",name:"contact_number",value:s.contact_number,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.contact_number?"border-red-600":"border-gray-600"),placeholder:"Enter contact number"}),o.contact_number&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.contact_number})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,Mt.jsx)("input",{type:"email",name:"email_address",value:s.email_address,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.email_address?"border-red-600":"border-gray-600"),placeholder:"Enter email address"}),o.email_address&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.email_address})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:t,disabled:l,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e;const t={};return null!==(e=s.organization_name)&&void 0!==e&&e.trim()||(t.organization_name="Organization name is required"),c(t),0===Object.keys(t).length})()){i(!0);try{const e={organization_name:s.organization_name.trim(),address:s.address.trim()||null,contact_number:s.contact_number.trim()||null,email_address:s.email_address.trim()||null},r=await us(e);if(r.success&&r.data){if(console.log("Organization creation response:",r.data),!r.data||"object"!==typeof r.data)return console.error("Invalid response data:",r.data),void c({general:"Failed to create organization. Please try again."});a(r.data),t()}else c({general:r.message||"Failed to create organization"})}catch(m){var e,r,n,l,o,d,u;if(console.error("Create organization error:",m),422===(null===(e=m.response)||void 0===e?void 0:e.status))if(null!==(r=m.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.errors){const e={},t=m.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),c(e)}else null!==(l=m.response)&&void 0!==l&&null!==(o=l.data)&&void 0!==o&&o.message?c({general:m.response.data.message}):c({general:"Validation error: Please check all required fields"});else c({general:(null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||m.message||"Failed to create organization"})}finally{i(!1)}}},disabled:l,className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium disabled:opacity-50",children:l?"Creating...":"Create Organization"})]})]})]})})]})},Es=e=>{let{organization:t,onCancel:a,onOrganizationUpdated:s}=e;const[n,l]=(0,r.useState)({organization_name:(null===t||void 0===t?void 0:t.organization_name)||"",address:(null===t||void 0===t?void 0:t.address)||"",contact_number:(null===t||void 0===t?void 0:t.contact_number)||"",email_address:(null===t||void 0===t?void 0:t.email_address)||""}),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({});if((0,r.useEffect)(()=>{t&&l({organization_name:t.organization_name||"",address:t.address||"",contact_number:t.contact_number||"",email_address:t.email_address||""})},[t]),!t)return console.error("EditOrganizationForm received invalid organization data"),(0,Mt.jsx)("div",{className:"p-6",children:(0,Mt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded p-4 text-red-200",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Invalid Organization Data"}),(0,Mt.jsx)("p",{children:"Cannot edit organization: No organization data provided."}),(0,Mt.jsx)("button",{onClick:a,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Back to Organizations"})]})});const u=e=>{const{name:t,value:a}=e.target;l(e=>he(he({},e),{},{[t]:a})),c[t]&&d(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Organizations",onClick:a},{label:"Edit Organization"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Edit Organization"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Update organization information"})]}),c.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:c.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization Name *"}),(0,Mt.jsx)("input",{type:"text",name:"organization_name",value:n.organization_name,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.organization_name?"border-red-600":"border-gray-600"),placeholder:"Enter organization name",required:!0}),c.organization_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.organization_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address"}),(0,Mt.jsx)("textarea",{name:"address",value:n.address,onChange:u,rows:3,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.address?"border-red-600":"border-gray-600"),placeholder:"Enter organization address"}),c.address&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contact Number"}),(0,Mt.jsx)("input",{type:"text",name:"contact_number",value:n.contact_number,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.contact_number?"border-red-600":"border-gray-600"),placeholder:"Enter contact number"}),c.contact_number&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.contact_number})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,Mt.jsx)("input",{type:"email",name:"email_address",value:n.email_address,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.email_address?"border-red-600":"border-gray-600"),placeholder:"Enter email address"}),c.email_address&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.email_address})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:a,disabled:i,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e;const t={};return null!==(e=n.organization_name)&&void 0!==e&&e.trim()||(t.organization_name="Organization name is required"),d(t),0===Object.keys(t).length})()){o(!0);try{const e={};n.organization_name.trim()!==(t.organization_name||"")&&(e.organization_name=n.organization_name.trim()),n.address!==(t.address||"")&&(e.address=n.address.trim()||null),n.contact_number!==(t.contact_number||"")&&(e.contact_number=n.contact_number.trim()||null),n.email_address!==(t.email_address||"")&&(e.email_address=n.email_address.trim()||null);const r=await ms(t.id,e);r.success&&r.data?(s(r.data),a()):d({general:r.message||"Failed to update organization"})}catch(x){var e,r,l,i,c,u,m;if(console.error("Update organization error:",x),422===(null===(e=x.response)||void 0===e?void 0:e.status))if(null!==(r=x.response)&&void 0!==r&&null!==(l=r.data)&&void 0!==l&&l.errors){const e={},t=x.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),d(e)}else null!==(i=x.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.message?d({general:x.response.data.message}):d({general:"Validation error: Please check all required fields"});else d({general:(null===(u=x.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||x.message||"Failed to update organization"})}finally{o(!1)}}},disabled:i,className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:i?"Updating...":"Update Organization"})]})]})]})})]})},Ps=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(1),[p,g]=(0,r.useState)(10);(0,r.useEffect)(()=>{y()},[]);const y=async()=>{s(!0);try{console.log("Loading organizations...");const e=await ds();console.log("Organizations API response:",e),e.success&&e.data?(console.log("Organizations data:",e.data),t(e.data)):console.error("API returned success=false or no data:",e)}catch(r){var e,a;console.error("Failed to load organizations:",r),console.error("Error details:",{message:r.message,response:null===(e=r.response)||void 0===e?void 0:e.data,status:null===(a=r.response)||void 0===a?void 0:a.status})}finally{s(!1)}},f=e.filter(e=>e.organization_name.toLowerCase().includes(n.toLowerCase())||e.address&&e.address.toLowerCase().includes(n.toLowerCase())||e.email_address&&e.email_address.toLowerCase().includes(n.toLowerCase())),b=f.length,v=Math.ceil(b/p),j=(x-1)*p,N=j+p,w=f.slice(j,N),k=0===b?0:j+1,S=Math.min(N,b);(0,r.useEffect)(()=>{h(1)},[n]);const C=e=>{h(e)},_=()=>{o(!1)},E=e=>{if(!e)return console.error("Received invalid organization from creation"),void alert("Warning: Failed to receive organization data. Please refresh the page.");console.log("Organization created successfully:",e),t(t=>[...t,e]),o(!1)},P=()=>{d(null)},A=e=>{t(t=>t.map(t=>t.id===e.id?e:t)),d(null)};return i?(0,Mt.jsx)(_s,{onCancel:_,onOrganizationCreated:E}):c?(0,Mt.jsx)(Es,{organization:c,onCancel:P,onOrganizationUpdated:A}):(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Organizations"}]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:[(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Organization Management"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage organizations and their settings"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search organizations by name, address, or email...",value:n,onChange:e=>l(e.target.value),className:"px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-100 w-80"}),(0,Mt.jsx)("button",{onClick:()=>{o(!0)},className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium",children:"Add New Organization"})]}),a?(0,Mt.jsx)("div",{className:"text-center py-8",children:(0,Mt.jsx)("p",{className:"text-gray-400",children:"Loading organizations..."})}):(0,Mt.jsx)("div",{className:"bg-gray-800 rounded border border-gray-600 overflow-hidden",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"",children:[(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Name"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Address"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Contact Number"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Email"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Created"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Updated"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Actions"})]})}),(0,Mt.jsx)("tbody",{children:0===w.length?(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"No organizations found"})}):w.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white font-medium",children:e.organization_name}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.address||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.contact_number||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.email_address||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(e.created_at).toLocaleDateString()}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(e.updated_at).toLocaleDateString()}),(0,Mt.jsx)("td",{className:"px-4 py-4",children:(0,Mt.jsxs)("div",{className:"flex gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{if(!e)return console.error("Cannot edit organization: No organization data"),void alert("Cannot edit organization: No organization data");d(e)})(e),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900 rounded transition-colors",title:"Edit organization",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Mt.jsx)("button",{onClick:()=>(e=>{m(e)})(e),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900 rounded transition-colors",title:"Delete organization",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})}),b>0&&(0,Mt.jsx)("div",{className:"mt-4",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mt.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",k," to ",S," of ",b," entries"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"Show"}),(0,Mt.jsxs)("select",{value:p,onChange:e=>{return t=Number(e.target.value),g(t),void h(1);var t},className:"px-3 py-1 bg-gray-800 border border-gray-600 rounded text-white text-sm focus:outline-none focus:border-gray-400",children:[(0,Mt.jsx)("option",{value:10,children:"10"}),(0,Mt.jsx)("option",{value:25,children:"25"}),(0,Mt.jsx)("option",{value:50,children:"50"}),(0,Mt.jsx)("option",{value:100,children:"100"})]}),(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"entries"})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Mt.jsx)("button",{onClick:()=>C(x-1),disabled:1===x||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v>0&&Array.from({length:v},(e,t)=>t+1).filter(e=>Math.abs(e-x)<=2||1===e||e===v).map((e,t,a)=>{const s=a[t-1],n=s&&e-s>1;return(0,Mt.jsxs)(r.Fragment,{children:[n&&(0,Mt.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),(0,Mt.jsx)("button",{onClick:()=>C(e),className:"px-3 py-1 text-sm border rounded ".concat(x===e?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"),children:e})]},e)}),(0,Mt.jsx)("button",{onClick:()=>C(x+1),disabled:x===v||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),u&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700 max-w-md w-full mx-4",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Confirm Delete Organization"}),(0,Mt.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete organization "',u.organization_name,'"? This action cannot be undone.']}),(0,Mt.jsxs)("div",{className:"flex gap-4",children:[(0,Mt.jsx)("button",{onClick:()=>{m(null)},className:"px-4 py-2 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if(u)try{const e=await xs(u.id);if(e.success)t(e=>e.filter(e=>e.id!==u.id)),m(null);else{const t=e.message||"Failed to delete organization";alert(t)}}catch(s){var e,a;console.error("Failed to delete organization:",s);const t=(null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||s.message||"Failed to delete organization";alert(t)}},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete Organization"})]})]})})]})]})},As=e=>{let{onCancel:t,onGroupCreated:a}=e;const[s,n]=(0,r.useState)({group_name:"",fb_page_link:"",fb_messenger_link:"",template:"",company_name:"",portal_url:"",hotline:"",email:""}),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)({}),d=e=>{const{name:t,value:a}=e.target;n(e=>he(he({},e),{},{[t]:a})),o[t]&&c(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Groups",onClick:t},{label:"Add Group"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Add New Group"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Create a new group in the system"})]}),o.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:o.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Mt.jsxs)("div",{className:"md:col-span-2",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Group Name *"}),(0,Mt.jsx)("input",{type:"text",name:"group_name",value:s.group_name,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.group_name?"border-red-600":"border-gray-600"),placeholder:"Enter group name",required:!0}),o.group_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.group_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Name"}),(0,Mt.jsx)("input",{type:"text",name:"company_name",value:s.company_name,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.company_name?"border-red-600":"border-gray-600"),placeholder:"Enter company name"}),o.company_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.company_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,Mt.jsx)("input",{type:"email",name:"email",value:s.email,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.email?"border-red-600":"border-gray-600"),placeholder:"Enter email address"}),o.email&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hotline"}),(0,Mt.jsx)("input",{type:"text",name:"hotline",value:s.hotline,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.hotline?"border-red-600":"border-gray-600"),placeholder:"Enter hotline number"}),o.hotline&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.hotline})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Portal URL"}),(0,Mt.jsx)("input",{type:"url",name:"portal_url",value:s.portal_url,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.portal_url?"border-red-600":"border-gray-600"),placeholder:"Enter portal URL"}),o.portal_url&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.portal_url})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook Page Link"}),(0,Mt.jsx)("input",{type:"url",name:"fb_page_link",value:s.fb_page_link,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.fb_page_link?"border-red-600":"border-gray-600"),placeholder:"Enter Facebook page link"}),o.fb_page_link&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.fb_page_link})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook Messenger Link"}),(0,Mt.jsx)("input",{type:"url",name:"fb_messenger_link",value:s.fb_messenger_link,onChange:d,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.fb_messenger_link?"border-red-600":"border-gray-600"),placeholder:"Enter Facebook Messenger link"}),o.fb_messenger_link&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.fb_messenger_link})]}),(0,Mt.jsxs)("div",{className:"md:col-span-2",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template"}),(0,Mt.jsx)("textarea",{name:"template",value:s.template,onChange:d,rows:3,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(o.template?"border-red-600":"border-gray-600"),placeholder:"Enter template content"}),o.template&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:o.template})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:t,disabled:l,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e;const t={};return null!==(e=s.group_name)&&void 0!==e&&e.trim()||(t.group_name="Group name is required"),s.email&&s.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&(t.email="Please enter a valid email address"),c(t),0===Object.keys(t).length})()){i(!0);try{const e={group_name:s.group_name.trim(),fb_page_link:s.fb_page_link.trim()||null,fb_messenger_link:s.fb_messenger_link.trim()||null,template:s.template.trim()||null,company_name:s.company_name.trim()||null,portal_url:s.portal_url.trim()||null,hotline:s.hotline.trim()||null,email:s.email.trim()||null},r=await ps(e);if(r.success&&r.data){if(console.log("Group creation response:",r.data),!r.data||"object"!==typeof r.data)return console.error("Invalid response data:",r.data),void c({general:"Failed to create group. Please try again."});a(r.data),t()}else c({general:r.message||"Failed to create group"})}catch(m){var e,r,n,l,o,d,u;if(console.error("Create group error:",m),422===(null===(e=m.response)||void 0===e?void 0:e.status))if(null!==(r=m.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.errors){const e={},t=m.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),c(e)}else null!==(l=m.response)&&void 0!==l&&null!==(o=l.data)&&void 0!==o&&o.message?c({general:m.response.data.message}):c({general:"Validation error: Please check all required fields"});else c({general:(null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||m.message||"Failed to create group"})}finally{i(!1)}}},disabled:l,className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium disabled:opacity-50",children:l?"Creating...":"Create Group"})]})]})]})})]})},Ls=e=>{let{group:t,onCancel:a,onGroupUpdated:s}=e;const[n,l]=(0,r.useState)({group_name:(null===t||void 0===t?void 0:t.group_name)||"",fb_page_link:(null===t||void 0===t?void 0:t.fb_page_link)||"",fb_messenger_link:(null===t||void 0===t?void 0:t.fb_messenger_link)||"",template:(null===t||void 0===t?void 0:t.template)||"",company_name:(null===t||void 0===t?void 0:t.company_name)||"",portal_url:(null===t||void 0===t?void 0:t.portal_url)||"",hotline:(null===t||void 0===t?void 0:t.hotline)||"",email:(null===t||void 0===t?void 0:t.email)||""}),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({});if((0,r.useEffect)(()=>{t&&l({group_name:t.group_name||"",fb_page_link:t.fb_page_link||"",fb_messenger_link:t.fb_messenger_link||"",template:t.template||"",company_name:t.company_name||"",portal_url:t.portal_url||"",hotline:t.hotline||"",email:t.email||""})},[t]),!t)return console.error("EditGroupForm received invalid group data"),(0,Mt.jsx)("div",{className:"p-6",children:(0,Mt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded p-4 text-red-200",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Invalid Group Data"}),(0,Mt.jsx)("p",{children:"Cannot edit group: No group data provided."}),(0,Mt.jsx)("button",{onClick:a,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Back to Groups"})]})});const u=e=>{const{name:t,value:a}=e.target;l(e=>he(he({},e),{},{[t]:a})),c[t]&&d(e=>he(he({},e),{},{[t]:""}))};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Groups",onClick:a},{label:"Edit Group"}]}),(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Edit Group"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Update group information"})]}),c.general&&(0,Mt.jsx)("div",{className:"mb-6 p-4 bg-red-900 border border-red-600 rounded text-red-200",children:c.general}),(0,Mt.jsxs)("div",{className:"max-w-2xl",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Mt.jsxs)("div",{className:"md:col-span-2",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Group Name *"}),(0,Mt.jsx)("input",{type:"text",name:"group_name",value:n.group_name,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.group_name?"border-red-600":"border-gray-600"),placeholder:"Enter group name",required:!0}),c.group_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.group_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Name"}),(0,Mt.jsx)("input",{type:"text",name:"company_name",value:n.company_name,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.company_name?"border-red-600":"border-gray-600"),placeholder:"Enter company name"}),c.company_name&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.company_name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,Mt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.email?"border-red-600":"border-gray-600"),placeholder:"Enter email address"}),c.email&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hotline"}),(0,Mt.jsx)("input",{type:"text",name:"hotline",value:n.hotline,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.hotline?"border-red-600":"border-gray-600"),placeholder:"Enter hotline number"}),c.hotline&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.hotline})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Portal URL"}),(0,Mt.jsx)("input",{type:"url",name:"portal_url",value:n.portal_url,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.portal_url?"border-red-600":"border-gray-600"),placeholder:"Enter portal URL"}),c.portal_url&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.portal_url})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook Page Link"}),(0,Mt.jsx)("input",{type:"url",name:"fb_page_link",value:n.fb_page_link,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.fb_page_link?"border-red-600":"border-gray-600"),placeholder:"Enter Facebook page link"}),c.fb_page_link&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.fb_page_link})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook Messenger Link"}),(0,Mt.jsx)("input",{type:"url",name:"fb_messenger_link",value:n.fb_messenger_link,onChange:u,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.fb_messenger_link?"border-red-600":"border-gray-600"),placeholder:"Enter Facebook Messenger link"}),c.fb_messenger_link&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.fb_messenger_link})]}),(0,Mt.jsxs)("div",{className:"md:col-span-2",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template"}),(0,Mt.jsx)("textarea",{name:"template",value:n.template,onChange:u,rows:3,className:"w-full px-4 py-3 bg-gray-900 border rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-400 ".concat(c.template?"border-red-600":"border-gray-600"),placeholder:"Enter template content"}),c.template&&(0,Mt.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c.template})]})]}),(0,Mt.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,Mt.jsx)("button",{onClick:a,disabled:i,className:"px-6 py-3 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium disabled:opacity-50",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{var e;const t={};return null!==(e=n.group_name)&&void 0!==e&&e.trim()||(t.group_name="Group name is required"),n.email&&n.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(t.email="Please enter a valid email address"),d(t),0===Object.keys(t).length})()){o(!0);try{const e={};n.group_name.trim()!==(t.group_name||"")&&(e.group_name=n.group_name.trim()),n.fb_page_link!==(t.fb_page_link||"")&&(e.fb_page_link=n.fb_page_link.trim()||null),n.fb_messenger_link!==(t.fb_messenger_link||"")&&(e.fb_messenger_link=n.fb_messenger_link.trim()||null),n.template!==(t.template||"")&&(e.template=n.template.trim()||null),n.company_name!==(t.company_name||"")&&(e.company_name=n.company_name.trim()||null),n.portal_url!==(t.portal_url||"")&&(e.portal_url=n.portal_url.trim()||null),n.hotline!==(t.hotline||"")&&(e.hotline=n.hotline.trim()||null),n.email!==(t.email||"")&&(e.email=n.email.trim()||null);const r=await gs(t.id,e);r.success&&r.data?(s(r.data),a()):d({general:r.message||"Failed to update group"})}catch(x){var e,r,l,i,c,u,m;if(console.error("Update group error:",x),422===(null===(e=x.response)||void 0===e?void 0:e.status))if(null!==(r=x.response)&&void 0!==r&&null!==(l=r.data)&&void 0!==l&&l.errors){const e={},t=x.response.data.errors;Object.keys(t).forEach(a=>{Array.isArray(t[a])?e[a]=t[a][0]:e[a]=t[a]}),d(e)}else null!==(i=x.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.message?d({general:x.response.data.message}):d({general:"Validation error: Please check all required fields"});else d({general:(null===(u=x.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||x.message||"Failed to update group"})}finally{o(!1)}}},disabled:i,className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:i?"Updating...":"Update Group"})]})]})]})})]})},Ts=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(1),[p,g]=(0,r.useState)(10);(0,r.useEffect)(()=>{y()},[]);const y=async()=>{s(!0);try{const e=await hs();e.success&&e.data&&t(e.data)}catch(e){console.error("Failed to load groups:",e)}finally{s(!1)}},f=e.filter(e=>e.group_name.toLowerCase().includes(n.toLowerCase())||e.company_name&&e.company_name.toLowerCase().includes(n.toLowerCase())||e.email&&e.email.toLowerCase().includes(n.toLowerCase())),b=f.length,v=Math.ceil(b/p),j=(x-1)*p,N=j+p,w=f.slice(j,N),k=0===b?0:j+1,S=Math.min(N,b);(0,r.useEffect)(()=>{h(1)},[n]);const C=e=>{h(e)},_=()=>{o(!1)},E=e=>{if(!e)return console.error("Received invalid group from creation"),void alert("Warning: Failed to receive group data. Please refresh the page.");console.log("Group created successfully:",e),t(t=>[...t,e]),o(!1)},P=()=>{d(null)},A=e=>{t(t=>t.map(t=>t.id===e.id?e:t)),d(null)};return i?(0,Mt.jsx)(As,{onCancel:_,onGroupCreated:E}):c?(0,Mt.jsx)(Ls,{group:c,onCancel:P,onGroupUpdated:A}):(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)(js,{items:[{label:"Groups"}]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-600 overflow-hidden text-white",children:[(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Group Management"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage user groups and their settings"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search groups by name, company, or email...",value:n,onChange:e=>l(e.target.value),className:"px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-gray-100 w-80"}),(0,Mt.jsx)("button",{onClick:()=>{o(!0)},className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium",children:"Add New Group"})]}),a?(0,Mt.jsx)("div",{className:"text-center py-8",children:(0,Mt.jsx)("p",{className:"text-gray-400",children:"Loading groups..."})}):(0,Mt.jsx)("div",{className:"bg-gray-800 rounded border border-gray-600 overflow-hidden",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"",children:[(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Group Name"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Company Name"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Email"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Hotline"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Modified Date"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Actions"})]})}),(0,Mt.jsx)("tbody",{children:0===w.length?(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No groups found"})}):w.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white font-medium",children:e.group_name}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.company_name||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.email||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.hotline||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.modified_date?new Date(e.modified_date).toLocaleDateString():"-"}),(0,Mt.jsx)("td",{className:"px-4 py-4",children:(0,Mt.jsxs)("div",{className:"flex gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{if(!e)return console.error("Cannot edit group: No group data"),void alert("Cannot edit group: No group data");d(e)})(e),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900 rounded transition-colors",title:"Edit group",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Mt.jsx)("button",{onClick:()=>(e=>{m(e)})(e),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900 rounded transition-colors",title:"Delete group",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})}),b>0&&(0,Mt.jsx)("div",{className:"mt-4",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mt.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",k," to ",S," of ",b," entries"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"Show"}),(0,Mt.jsxs)("select",{value:p,onChange:e=>{return t=Number(e.target.value),g(t),void h(1);var t},className:"px-3 py-1 bg-gray-800 border border-gray-600 rounded text-white text-sm focus:outline-none focus:border-gray-400",children:[(0,Mt.jsx)("option",{value:10,children:"10"}),(0,Mt.jsx)("option",{value:25,children:"25"}),(0,Mt.jsx)("option",{value:50,children:"50"}),(0,Mt.jsx)("option",{value:100,children:"100"})]}),(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"entries"})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Mt.jsx)("button",{onClick:()=>C(x-1),disabled:1===x||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v>0&&Array.from({length:v},(e,t)=>t+1).filter(e=>Math.abs(e-x)<=2||1===e||e===v).map((e,t,a)=>{const s=a[t-1],n=s&&e-s>1;return(0,Mt.jsxs)(r.Fragment,{children:[n&&(0,Mt.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),(0,Mt.jsx)("button",{onClick:()=>C(e),className:"px-3 py-1 text-sm border rounded ".concat(x===e?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"),children:e})]},e)}),(0,Mt.jsx)("button",{onClick:()=>C(x+1),disabled:x===v||0===v,className:"px-3 py-1 text-sm bg-gray-800 border border-gray-600 rounded text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),u&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700 max-w-md w-full mx-4",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Confirm Delete Group"}),(0,Mt.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete group "',u.group_name,'"? This action cannot be undone.']}),(0,Mt.jsxs)("div",{className:"flex gap-4",children:[(0,Mt.jsx)("button",{onClick:()=>{m(null)},className:"px-4 py-2 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if(u)try{const e=await ys(u.id);if(e.success)t(e=>e.filter(e=>e.id!==u.id)),m(null);else{const t=e.message||"Failed to delete group";alert(t)}}catch(s){var e,a;console.error("Failed to delete group:",s);const t=(null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||s.message||"Failed to delete group";alert(t)}},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete Group"})]})]})})]})]})},Ds=Jt("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),zs=Jt("arrow-right-from-line",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M21 12H7",key:"13ipq5"}],["path",{d:"m15 18 6-6-6-6",key:"6tx3qv"}]]),Is=Jt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Rs=Jt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ms=Jt("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Os=Jt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Bs=Jt("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),Fs=Jt("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Us=Jt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qs=Jt("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Ws=Jt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Vs=Jt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Hs=async e=>{try{const t=await Rt.get("/applications/".concat(e));if(!t.data.application)throw new Error("Application not found in API response");return t.data.application}catch(t){throw console.error("Error fetching application details:",t),new Error("Failed to fetch application details: ".concat(t.message))}},Js=async(e,t)=>{const a=await Rt.put("/applications/".concat(e),t);if(!a.data.application)throw new Error("Failed to update application");return a.data.application},Gs=e=>{let{title:t,message:a,confirmText:s,cancelText:r,onConfirm:n,onCancel:l,isOpen:i}=e;return i?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded shadow-lg p-6 max-w-md",children:[(0,Mt.jsx)("div",{className:"mb-4",children:(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-white",children:t})}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-6",children:a}),(0,Mt.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Mt.jsx)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",onClick:l,children:r}),(0,Mt.jsx)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded",onClick:n,children:s})]})]})}):null},$s=Jt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ks=Jt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Qs=async(e,t)=>{try{const a=e.toString();return(await Rt.put("/job-orders/".concat(a),t)).data}catch(a){throw console.error("Error updating job order:",a),a}},Ys=async()=>{try{return(await Rt.get("/job-orders/lookup/contract-templates")).data.data}catch(e){return console.error("Error fetching contract templates:",e),[]}},Xs=async()=>{try{return(await Rt.get("/billing-statuses")).data.data}catch(e){return console.error("Error fetching billing statuses:",e),[]}},Zs={getAll:async()=>{try{return(await Rt.get("/locations")).data}catch(e){throw console.error("Error fetching locations:",e),e}},getById:async e=>{try{return(await Rt.get("/locations/".concat(e))).data}catch(t){throw console.error("Error fetching location:",t),t}},create:async e=>{try{return(await Rt.post("/locations",e)).data}catch(t){throw console.error("Error creating location:",t),t}},update:async(e,t)=>{try{return(await Rt.put("/locations/".concat(e),t)).data}catch(a){throw console.error("Error updating location:",a),a}},delete:async e=>{try{return(await Rt.delete("/locations/".concat(e))).data}catch(t){throw console.error("Error deleting location:",t),t}},getByType:async e=>{try{return(await Rt.get("/locations/type/".concat(e))).data}catch(t){throw console.error("Error fetching locations by type:",t),t}},getChildren:async e=>{try{return(await Rt.get("/locations/parent/".concat(e))).data}catch(t){throw console.error("Error fetching child locations:",t),t}},toggleStatus:async e=>{try{return(await Rt.patch("/locations/".concat(e,"/toggle-status"))).data}catch(t){throw console.error("Error toggling location status:",t),t}}},er=e=>{let{isOpen:t,onClose:a,onSave:s,applicationData:n}=e;const l=(()=>{try{const e=localStorage.getItem("authData");if(e)return JSON.parse(e)}catch(e){console.error("Error getting current user:",e)}return null})(),i=(null===l||void 0===l?void 0:l.email)||"unknown@ampere.com",[o,c]=(0,r.useState)({timestamp:(new Date).toLocaleString("sv-SE").replace(" "," "),provider:"",status:"",referredBy:"",firstName:"",middleInitial:"",lastName:"",contactNumber:"",email:"",address:"",barangay:"",city:"",region:"",choosePlan:"",remarks:"",installationFee:0,contractTemplate:"0",billingDay:"30",isLastDayOfMonth:!1,onsiteStatus:"In Progress",assignedEmail:"",modifiedBy:i,modifiedDate:(new Date).toLocaleString("sv-SE").replace(" "," "),installationLandmark:""}),[d,u]=(0,r.useState)({}),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)([]),[g,y]=(0,r.useState)(!0),[f,b]=(0,r.useState)([]),[v,j]=(0,r.useState)([]),[N,w]=(0,r.useState)([]),[k,S]=(0,r.useState)(!0),[C,_]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&(async()=>{try{y(!0),S(!0);const e=[{id:99001,name:"Metro Manila",type:"region",isActive:!0,createdAt:"",updatedAt:""},{id:99002,name:"Rizal",type:"region",isActive:!0,createdAt:"",updatedAt:""}],t=[{id:99003,name:"Binangonan",type:"city",isActive:!0,createdAt:"",updatedAt:""},{id:99004,name:"Antipolo",type:"city",isActive:!0,createdAt:"",updatedAt:""}],a=[{id:99005,name:"Almanza Dos",type:"borough",isActive:!0,createdAt:"",updatedAt:""},{id:99006,name:"San Isidro",type:"borough",isActive:!0,createdAt:"",updatedAt:""}],[s,r,n,l]=await Promise.all([Ys(),Zs.getByType("region").catch(()=>({success:!1,data:[]})),Zs.getByType("city").catch(()=>({success:!1,data:[]})),Zs.getByType("borough").catch(()=>({success:!1,data:[]}))]);p(s);const i=[...e,...r.data||[]],o=[...t,...n.data||[]],c=[...a,...l.data||[]];console.log("Loaded regions:",i),console.log("Loaded cities:",o),console.log("Loaded barangays:",c);const d=["SwitchConnect - P799","SwitchConnect - P999","SwitchConnect - P1299","SwitchConnect - P1599"];_(d),console.log("Loaded plans:",d),b(i),j(o),w(c)}catch(e){console.error("Failed to load lookup data:",e)}finally{y(!1),S(!1)}})()},[t]),(0,r.useEffect)(()=>{console.log("JO Form Modal - useEffect triggered"),console.log("JO Form Modal - Full applicationData:",JSON.stringify(n,null,2)),n&&t?(console.log("JO Form - Application Data exists and modal is open"),console.log("JO Form - Referred By value:",n.referred_by),console.log("JO Form - First Name:",n.first_name),console.log("JO Form - Last Name:",n.last_name),c(e=>{const t=he(he({},e),{},{referredBy:n.referred_by||"",firstName:n.first_name||"",middleInitial:n.middle_initial||"",lastName:n.last_name||"",contactNumber:n.mobile_number||"",email:n.email_address||"",address:n.installation_address||"",barangay:n.barangay||"",city:n.city||"",region:n.region||"",choosePlan:n.desired_plan||"",installationLandmark:n.landmark||""});return console.log("JO Form - New form data to set:",JSON.stringify(t,null,2)),t})):console.log("JO Form - No applicationData available or modal closed")},[n,t]);const E=(e,t)=>{c(a=>{const s=he(he({},a),{},{[e]:t});return"isLastDayOfMonth"===e&&!0===t&&(s.billingDay="0"),s}),d[e]&&u(t=>he(he({},t),{},{[e]:""}))},P=(e,t)=>{c(a=>{if("installationFee"===e)return he(he({},a),{},{[e]:t?a[e]+.01:Math.max(0,a[e]-.01)});if("billingDay"===e){const s=parseInt(a[e])||1,r=t?s+1:Math.max(1,s-1);return he(he({},a),{},{[e]:r.toString()})}{const s=parseInt(a[e])||0,r=t?s+1:Math.max(0,s-1);return he(he({},a),{},{[e]:r.toString()})}})};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"JO Assign Form"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{console.log("Save button clicked - JO Assign Form",o);const e=he(he({},o),{},{modifiedBy:i,modifiedDate:(new Date).toLocaleString("sv-SE").replace(" "," ")});c(e);const t=(()=>{const e={};o.firstName.trim()||(e.firstName="First Name is required"),o.lastName.trim()||(e.lastName="Last Name is required"),o.contactNumber.trim()?/^[0-9+\-\s()]+$/.test(o.contactNumber.trim())||(e.contactNumber="Please enter a valid contact number"):e.contactNumber="Contact Number is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",o.address.trim()||(e.address="Address is required"),o.installationFee<0&&(e.installationFee="Installation fee cannot be negative");const t=parseInt(o.billingDay);if(o.isLastDayOfMonth||(isNaN(t)||t<1?e.billingDay="Billing Day must be at least 1":t>1e3&&(e.billingDay="Billing Day cannot exceed 1000")),o.contractTemplate&&"0"!==o.contractTemplate){const t=parseInt(o.contractTemplate);isNaN(t)&&(e.contractTemplate="Contract Template must be a valid number")}return u(e),0===Object.keys(e).length})();if(console.log("Form validation result:",t),!t)return console.log("Form validation failed. Errors:",d),void alert("Please fill in all required fields before saving.");if(null===n||void 0===n||!n.id)return console.error("No application ID available"),void alert("Missing application ID. Cannot create job order.");x(!0);try{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const a=e=>void 0===e||null===e||""===e||"None"===e||"All"===e?null:String(e),s=(new Date).toISOString().slice(0,19).replace("T"," ");return{application_id:e,timestamp:t.timestamp?new Date(t.timestamp).toISOString().slice(0,19).replace("T"," "):s,installation_fee:t.installationFee||0,billing_day:t.isLastDayOfMonth?0:parseInt(t.billingDay)||30,billing_status_id:1,modem_router_sn:a(t.contractTemplate),onsite_status:t.onsiteStatus||"In Progress",onsite_remarks:a(t.remarks),contract_link:null,username:null,created_by_user_email:t.modifiedBy,updated_by_user_email:t.modifiedBy}}(n.id,e);console.log("Final job order data being sent to API:",JSON.stringify(t,null,2));const r=await(async e=>{try{return(await Rt.post("/job-orders",e)).data}catch(t){throw console.error("Error creating job order:",t),t}})(t);if(console.log("Job Order created successfully:",r),!r.success)throw new Error(r.message||"Failed to create job order");console.log("Job order saved successfully with data:",r.data),alert("Job Order created successfully!"),u({}),s(r.data),a()}catch(b){var r,l,m,h,p,g,y,f;console.error("Error creating job order:",b),console.error("Error response:",b.response),console.error("Validation errors:",null===(r=b.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.errors);let e="Unknown error occurred";if(null!==(m=b.response)&&void 0!==m&&null!==(h=m.data)&&void 0!==h&&h.errors){const t=b.response.data.errors,a=Object.entries(t).map(e=>{let[t,a]=e;const s=Array.isArray(a)?a:[a];return"".concat(t,": ").concat(s.join(", "))}).join("\n");e="Validation failed:\n".concat(a)}else b instanceof Error?e=b.message:null!==(p=b.response)&&void 0!==p&&null!==(g=p.data)&&void 0!==g&&g.message?e=b.response.data.message:null!==(y=b.response)&&void 0!==y&&null!==(f=y.data)&&void 0!==f&&f.error?e=b.response.data.error:"string"===typeof b&&(e=b);alert("Failed to create job order: ".concat(e))}finally{x(!1)}},disabled:m,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:m?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Timestamp",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"datetime-local",value:o.timestamp,onChange:e=>E("timestamp",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Provider",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.provider,onChange:e=>E("provider",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Provider 1",children:"Provider 1"}),(0,Mt.jsx)("option",{value:"Provider 2",children:"Provider 2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.status,onChange:e=>E("status",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),(0,Mt.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,Mt.jsx)("option",{value:"For Confirmation",children:"For Confirmation"}),(0,Mt.jsx)("option",{value:"Cancelled",children:"Cancelled"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Referred By"}),(0,Mt.jsx)("input",{type:"text",value:o.referredBy,onChange:e=>E("referredBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["First Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.firstName,onChange:e=>E("firstName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.firstName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.firstName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.firstName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Middle Initial"}),(0,Mt.jsx)("input",{type:"text",value:o.middleInitial,onChange:e=>E("middleInitial",e.target.value),maxLength:1,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Last Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.lastName,onChange:e=>E("lastName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lastName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.lastName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.lastName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contact Number",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.contactNumber,onChange:e=>E("contactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.contactNumber?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.contactNumber&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contactNumber})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Applicant Email Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.email,onChange:e=>E("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.email?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.email&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.email})]})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.address,onChange:e=>E("address",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.address?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.address&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.barangay,onChange:e=>E("barangay",e.target.value),disabled:k,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50",children:[o.barangay&&!N.find(e=>e.name===o.barangay)&&(0,Mt.jsx)("option",{value:o.barangay,children:o.barangay}),(0,Mt.jsx)("option",{value:"",children:"Select Barangay"}),N.map(e=>(0,Mt.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),k&&(0,Mt.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Loading barangays..."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["City",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.city,onChange:e=>E("city",e.target.value),disabled:k,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50",children:[o.city&&!v.find(e=>e.name===o.city)&&(0,Mt.jsx)("option",{value:o.city,children:o.city}),(0,Mt.jsx)("option",{value:"",children:"Select City"}),v.map(e=>(0,Mt.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),k&&(0,Mt.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Loading cities..."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.region,onChange:e=>E("region",e.target.value),disabled:k,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50",children:[o.region&&!f.find(e=>e.name===o.region)&&(0,Mt.jsx)("option",{value:o.region,children:o.region}),(0,Mt.jsx)("option",{value:"",children:"Select Region"}),f.map(e=>(0,Mt.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),k&&(0,Mt.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Loading regions..."})]})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Choose Plan",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.choosePlan,onChange:e=>E("choosePlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[o.choosePlan&&!C.includes(o.choosePlan)&&(0,Mt.jsx)("option",{value:o.choosePlan,children:o.choosePlan}),(0,Mt.jsx)("option",{value:"",children:"Select Plan"}),C.map((e,t)=>(0,Mt.jsx)("option",{value:e,children:e},t))]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),(0,Mt.jsx)("textarea",{value:o.remarks,onChange:e=>E("remarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 resize-none"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Installation Fee",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("span",{className:"px-3 text-gray-400",children:"\u20b1"}),(0,Mt.jsx)("input",{type:"number",step:"0.01",min:"0",value:0===o.installationFee?"":o.installationFee,onChange:e=>(e=>{if(""===e||"-"===e)c(e=>he(he({},e),{},{installationFee:0}));else{const t=parseFloat(e);isNaN(t)||c(e=>he(he({},e),{},{installationFee:t}))}d.installationFee&&u(e=>he(he({},e),{},{installationFee:""}))})(e.target.value),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield] ".concat(d.installationFee?"border-red-500":""),placeholder:"0.00"})]}),d.installationFee&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.installationFee})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contract Template",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"number",value:o.contractTemplate,onChange:e=>E("contractTemplate",e.target.value),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none ".concat(d.contractTemplate?"border-red-500":"")}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>P("contractTemplate",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>P("contractTemplate",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]}),d.contractTemplate&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contractTemplate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Billing Day",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"number",min:"1",max:"1000",value:o.billingDay,onChange:e=>E("billingDay",e.target.value),disabled:o.isLastDayOfMonth,className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ".concat(d.billingDay?"border-red-500":"")}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>P("billingDay",!1),disabled:o.isLastDayOfMonth,className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>P("billingDay",!0),disabled:o.isLastDayOfMonth,className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Mt.jsx)(pa,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,Mt.jsx)("input",{type:"checkbox",id:"isLastDayOfMonth",checked:o.isLastDayOfMonth,onChange:e=>E("isLastDayOfMonth",e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-700 rounded text-orange-600 focus:ring-orange-500 focus:ring-2"}),(0,Mt.jsx)("label",{htmlFor:"isLastDayOfMonth",className:"ml-2 text-sm text-gray-300 cursor-pointer",children:"Always use last day of the month"})]}),parseInt(o.billingDay)>1e3&&!o.isLastDayOfMonth&&(0,Mt.jsxs)("p",{className:"text-orange-500 text-xs mt-1 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-1",children:"\u26a0"}),"Billing Day count cannot exceed 1000"]}),d.billingDay&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.billingDay})]})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:["Confirmed"===o.status&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Onsite Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.onsiteStatus,onChange:e=>E("onsiteStatus",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Mt.jsx)("option",{value:"Done",children:"Done"}),(0,Mt.jsx)("option",{value:"Failed",children:"Failed"}),(0,Mt.jsx)("option",{value:"Reschedule",children:"Reschedule"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),"Confirmed"===o.status&&"Failed"!==o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Assigned Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.assignedEmail,onChange:e=>E("assignedEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"tech1@ampere.com",children:"tech1@ampere.com"}),(0,Mt.jsx)("option",{value:"tech2@ampere.com",children:"tech2@ampere.com"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.modifiedBy,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed",title:"Auto-populated with logged-in user"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"datetime-local",value:o.modifiedDate,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed",title:"Auto-populated with current timestamp"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Installation Landmark"}),(0,Mt.jsx)("input",{type:"text",value:o.installationLandmark,onChange:e=>E("installationLandmark",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]})]})]})]})}):null},tr=async(e,t)=>{try{return(await Rt.put("/application-visits/".concat(e),t)).data}catch(a){throw console.error("Error updating application visit:",a),a}},ar=e=>{let{isOpen:t,onClose:a,onSave:s,applicationData:n}=e;const l=(()=>{try{const e=localStorage.getItem("authData");if(e)return JSON.parse(e)}catch(e){console.error("Error getting current user:",e)}return null})(),i=(null===l||void 0===l?void 0:l.email)||"unknown@ampere.com";(0,r.useEffect)(()=>{t&&n&&console.log("DEBUG - Initial ApplicationVisitFormModal data:",{applicationData:n,mobile_alt:n.mobile_alt,secondaryNumber:n.secondaryNumber,properties:Object.keys(n||{}),region:n.Region||n.region,city:n.City||n.city,barangay:n.Barangay||n.barangay})},[t,n]);const[o,c]=(0,r.useState)(()=>{const e=(null===n||void 0===n?void 0:n.secondary_mobile_number)||"";return console.log("DEBUG - Initial second contact values:",{secondary_mobile_number:null===n||void 0===n?void 0:n.secondary_mobile_number,initialSecondContact:e}),{firstName:(null===n||void 0===n?void 0:n.first_name)||"",middleInitial:(null===n||void 0===n?void 0:n.middle_initial)||"",lastName:(null===n||void 0===n?void 0:n.last_name)||"",contactNumber:(null===n||void 0===n?void 0:n.mobile_number)||"",secondContactNumber:e,email:(null===n||void 0===n?void 0:n.email_address)||"",address:(null===n||void 0===n?void 0:n.installation_address)||"",barangay:(null===n||void 0===n?void 0:n.barangay)||"",city:(null===n||void 0===n?void 0:n.city)||"",region:(null===n||void 0===n?void 0:n.region)||"",choosePlan:(null===n||void 0===n?void 0:n.desired_plan)||"SwitchConnect - P799",remarks:"",assignedEmail:"",visitBy:"",visitWith:"None",visitWithOther:"",visitType:"Initial Visit",visitNotes:"",status:"Scheduled",createdBy:i,modifiedBy:i}}),[d,u]=(0,r.useState)({}),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&(console.log("DEBUG - Application data loaded:",n),console.log("DEBUG - Second contact field:",n.secondary_mobile_number),c(e=>{const t=n.secondary_mobile_number||"";return console.log("DEBUG - Selected second contact number:",t),he(he({},e),{},{firstName:n.first_name||e.firstName,middleInitial:n.middle_initial||e.middleInitial,lastName:n.last_name||e.lastName,contactNumber:n.mobile_number||e.contactNumber,secondContactNumber:t,email:n.email_address||e.email,address:n.installation_address||e.address,barangay:n.barangay||e.barangay,city:n.city||e.city,region:n.region||e.region,choosePlan:n.desired_plan||e.choosePlan})}))},[n]);const h=(e,t)=>{c(a=>{const s=he(he({},a),{},{[e]:t});return"assignedEmail"===e&&(s.visitBy=t),s}),d[e]&&u(t=>he(he({},t),{},{[e]:""}))};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Application Form Visit"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{console.log("Save button clicked!",o);const e=(()=>{const e={};return o.assignedEmail.trim()||(e.assignedEmail="Assigned Email is required"),u(e),0===Object.keys(e).length})();if(console.log("Form validation result:",e),!e)return console.log("Form validation failed. Errors:",d),void alert("Please fill in all required fields before saving.");if(null===n||void 0===n||!n.id)return console.error("No application ID available"),void alert("Missing application ID. Cannot save visit.");x(!0);try{var t;const e=(e=>{const t=parseInt(e);if(isNaN(t)||t<=0)throw new Error("Invalid application ID: ".concat(e));return console.log("Mapping form data to visit data:",{applicationId:e,parsedAppId:t,assignedEmail:o.assignedEmail,visitStatus:o.status,createdByEmail:i}),{application_id:t,assigned_email:o.assignedEmail,visit_by_user_id:null,visit_with:"Other"!==o.visitWith&&"None"!==o.visitWith?o.visitWith:"Other"===o.visitWith?o.visitWithOther:null,visit_status:o.status,visit_remarks:o.remarks||o.visitNotes||null,application_status:"Scheduled",created_by_user_email:i,updated_by_user_email:i}})(n.id);console.log("Final data being sent to API:",JSON.stringify(e,null,2));const r=await(async e=>{try{if(console.log("Creating application visit with data:",e),console.log("Data types:",{application_id:typeof e.application_id,assigned_email:typeof e.assigned_email,visit_status:typeof e.visit_status}),!e.application_id)throw new Error("application_id is required");const t=await Rt.post("/application-visits",e);if(console.log("Visit created successfully:",t.data),!t.data.success)throw new Error(t.data.message||"Unknown API error");return t.data}catch(n){var t,a,s,r;if(console.error("Error creating application visit:",n),console.error("Error response:",null===(t=n.response)||void 0===t?void 0:t.data),console.error("Error status:",null===(a=n.response)||void 0===a?void 0:a.status),console.error("Error headers:",null===(s=n.response)||void 0===s?void 0:s.headers),null!==(r=n.response)&&void 0!==r&&r.data){const e=n.response.data;console.error("Detailed error data:",e),e.errors&&console.error("Validation errors:",e.errors),e.error&&console.error("Error message:",e.error)}throw n}})(e);if(console.log("Application visit created successfully:",r),!r.success)throw new Error(r.message||"Failed to create application visit");console.log("Visit created successfully with ID:",null===(t=r.data)||void 0===t?void 0:t.id),alert("Visit created successfully!"),u({}),s(e),a()}catch(l){var r;console.error("Error creating application visit:",l);let e="Unknown error occurred",t="";if(l instanceof Error)e=l.message;else if(null!==(r=l.response)&&void 0!==r&&r.data){const a=l.response.data;e=a.message||"Server error occurred",a.errors?t=Object.entries(a.errors).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(Array.isArray(a)?a.join(", "):a)}).join("\n"):a.error&&(t=a.error)}else"string"===typeof l&&(e=l);const a=t?"".concat(e,"\n\nDetails:\n").concat(t):e;alert("Failed to schedule visit:\n\n".concat(a))}finally{x(!1)}},disabled:m,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:m?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["First Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.firstName,onChange:e=>h("firstName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.firstName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.firstName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.firstName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Middle Initial"}),(0,Mt.jsx)("input",{type:"text",value:o.middleInitial,onChange:e=>h("middleInitial",e.target.value),maxLength:1,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Last Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.lastName,onChange:e=>h("lastName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lastName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.lastName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.lastName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contact Number",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.contactNumber,onChange:e=>h("contactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.contactNumber?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.contactNumber&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contactNumber})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Second Contact Number"}),(0,Mt.jsx)("input",{type:"text",value:o.secondContactNumber||"",onChange:e=>h("secondContactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Applicant Email Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.email,onChange:e=>h("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.email?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.email&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.address,onChange:e=>h("address",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.address?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.address&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.barangay,onChange:e=>h("barangay",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.barangay?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500"),placeholder:"From application data"}),d.barangay&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.barangay})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,Mt.jsx)("input",{type:"text",value:o.city,onChange:e=>h("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500",placeholder:"From application data"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.region,onChange:e=>h("region",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.region?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500"),placeholder:"From application data"}),d.region&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.region})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Choose Plan",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("select",{value:o.choosePlan,onChange:e=>h("choosePlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.choosePlan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"SwitchConnect - P799",children:"SwitchConnect - P799"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P999",children:"SwitchConnect - P999"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P1299",children:"SwitchConnect - P1299"})]}),d.choosePlan&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.choosePlan})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),(0,Mt.jsx)("textarea",{value:o.remarks,onChange:e=>h("remarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 resize-none"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Assigned Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("select",{value:o.assignedEmail,onChange:e=>h("assignedEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.assignedEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Assigned Email"}),(0,Mt.jsx)("option",{value:"tech1@ampere.com",children:"tech1@ampere.com"}),(0,Mt.jsx)("option",{value:"tech2@ampere.com",children:"tech2@ampere.com"}),(0,Mt.jsx)("option",{value:"tech3@ampere.com",children:"tech3@ampere.com"})]}),d.assignedEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.assignedEmail})]}),(0,Mt.jsx)("input",{type:"hidden",value:o.visitBy||o.assignedEmail}),(0,Mt.jsx)("input",{type:"hidden",value:o.visitType}),(0,Mt.jsx)("input",{type:"hidden",value:o.status})]})})]})}):null},sr=e=>{let{application:t,onClose:a,onApplicationUpdate:s}=e;const[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)(""),j=e=>{v(e),f(!0)};(0,r.useEffect)(()=>{(async()=>{try{l(!0),o(null);const e=await Hs(t.id);d(e)}catch(e){console.error("Error fetching application details:",e),o(e.message||"Failed to load application details")}finally{l(!1)}})()},[t.id]);he(he({},t),{},{id:(null===c||void 0===c?void 0:c.id)||t.id||"",create_date:(null===c||void 0===c?void 0:c.create_date)||"",create_time:(null===c||void 0===c?void 0:c.create_time)||"",email_address:(null===c||void 0===c?void 0:c.email_address)||t.email_address||"",first_name:(null===c||void 0===c?void 0:c.first_name)||"",middle_initial:(null===c||void 0===c?void 0:c.middle_initial)||"",last_name:(null===c||void 0===c?void 0:c.last_name)||"",mobile_number:(null===c||void 0===c?void 0:c.mobile_number)||t.mobile_number||"",secondary_mobile_number:(null===c||void 0===c?void 0:c.secondary_mobile_number)||"",status:(null===c||void 0===c?void 0:c.status)||"pending",installation_address:(null===c||void 0===c?void 0:c.installation_address)||t.address||"",landmark:(null===c||void 0===c?void 0:c.landmark)||"",region:(null===c||void 0===c?void 0:c.region)||t.region||"",city:(null===c||void 0===c?void 0:c.city)||t.city||"",barangay:(null===c||void 0===c?void 0:c.barangay)||t.barangay||"",village:(null===c||void 0===c?void 0:c.village)||"",desired_plan:(null===c||void 0===c?void 0:c.desired_plan)||"",promo:(null===c||void 0===c?void 0:c.promo)||"",referred_by:(null===c||void 0===c?void 0:c.referred_by)||"",proof_of_billing_url:(null===c||void 0===c?void 0:c.proof_of_billing_url)||"",government_valid_id_url:(null===c||void 0===c?void 0:c.government_valid_id_url)||"",second_government_valid_id_url:(null===c||void 0===c?void 0:c.second_government_valid_id_url)||"",house_front_picture_url:(null===c||void 0===c?void 0:c.house_front_picture_url)||"",document_attachment_url:(null===c||void 0===c?void 0:c.document_attachment_url)||"",other_isp_bill_url:(null===c||void 0===c?void 0:c.other_isp_bill_url)||"",terms_agreed:(null===c||void 0===c?void 0:c.terms_agreed)||!1,fullName:[null===c||void 0===c?void 0:c.first_name,null===c||void 0===c?void 0:c.middle_initial,null===c||void 0===c?void 0:c.last_name].filter(Boolean).join(" ")||t.customerName||"",fullAddress:(null===c||void 0===c?void 0:c.installation_address)||t.address||"",timestamp:null!==c&&void 0!==c&&c.create_date&&null!==c&&void 0!==c&&c.create_time?"".concat(c.create_date," ").concat(c.create_time):t.timestamp||""});return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 p-3 flex items-center justify-between border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"flex items-center",children:(0,Mt.jsx)("h2",{className:"text-white font-semibold text-lg",children:(null===c||void 0===c?void 0:c.first_name)||t.customerName.split(" ")[0]||"None"})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{className:"bg-transparent text-gray-400 hover:text-white p-1 rounded",children:(0,Mt.jsx)(Ds,{size:20})}),(0,Mt.jsx)("button",{className:"bg-transparent text-gray-400 hover:text-white p-1 rounded",onClick:()=>{m(!0)},children:(0,Mt.jsx)(zs,{size:20})}),(0,Mt.jsxs)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded flex items-center",onClick:()=>{g(!0)},children:[(0,Mt.jsx)(Ua,{size:16,className:"mr-1"}),(0,Mt.jsx)("span",{children:"Schedule"})]}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:a,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 py-4 border-b border-gray-800 flex items-center justify-center space-x-8",children:[(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center hover:bg-gray-800 rounded-lg p-2 transition-colors",onClick:()=>j("No Facility"),disabled:n,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Ms,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"No Facility"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center hover:bg-gray-800 rounded-lg p-2 transition-colors",onClick:()=>j("Cancelled"),disabled:n,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Os,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Cancelled"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center hover:bg-gray-800 rounded-lg p-2 transition-colors",onClick:()=>j("No Slot"),disabled:n,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Bs,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"No Slot"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center hover:bg-gray-800 rounded-lg p-2 transition-colors",onClick:()=>j("Duplicate"),disabled:n,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Fs,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Duplicate"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center hover:bg-gray-800 rounded-lg p-2 transition-colors",onClick:()=>j("In Progress"),disabled:n,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Us,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Clear Status"})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:n?(0,Mt.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,Mt.jsx)(qs,{className:"animate-spin text-orange-500",size:32}),(0,Mt.jsx)("span",{className:"ml-3 text-gray-400",children:"Loading application details..."})]}):i?(0,Mt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,Mt.jsx)("div",{className:"text-red-500 mb-4",children:i}),(0,Mt.jsx)("button",{onClick:()=>{o(null),window.location.reload()},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"p-4",children:(0,Mt.jsxs)("div",{className:"space-y-0",children:[(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Referred by:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.referred_by)||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Status"}),(0,Mt.jsx)("div",{className:"text-green-500 flex-1",children:(null===c||void 0===c?void 0:c.status)||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Timestamp"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.timestamp)||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.customer_name)||[null===c||void 0===c?void 0:c.first_name,null===c||void 0===c?void 0:c.middle_initial,null===c||void 0===c?void 0:c.last_name].filter(Boolean).join(" ")||t.customerName||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Address"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:[(null===c||void 0===c?void 0:c.installation_address)||t.address,null===c||void 0===c?void 0:c.village,null===c||void 0===c?void 0:c.barangay,null===c||void 0===c?void 0:c.city,null===c||void 0===c?void 0:c.region].filter(Boolean).join(", ")||"No address"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Landmark"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.landmark)||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Email Address"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.email_address)||t.email_address||"None"})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Mobile Number"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center",children:[(0,Mt.jsx)("span",{children:(null===c||void 0===c?void 0:c.mobile_number)||t.mobile_number||"None"}),((null===c||void 0===c?void 0:c.mobile_number)||t.mobile_number)&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Second Mobile Number"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center",children:[(0,Mt.jsx)("span",{children:(null===c||void 0===c?void 0:c.secondary_mobile_number)||"None"}),(null===c||void 0===c?void 0:c.secondary_mobile_number)&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Desired Plan"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center",children:[(0,Mt.jsx)("span",{children:(null===c||void 0===c?void 0:c.desired_plan)||"None"}),(null===c||void 0===c?void 0:c.desired_plan)&&(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(null===c||void 0===c?void 0:c.government_valid_id_url)&&(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Government Valid ID"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center truncate",children:[(0,Mt.jsx)("span",{className:"truncate",children:c.government_valid_id_url}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",onClick:()=>window.open(c.government_valid_id_url),children:(0,Mt.jsx)(Vs,{size:16})})]})]}),(null===c||void 0===c?void 0:c.terms_agreed)&&(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Terms and Conditions"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:"Agreed"})]}),(null===c||void 0===c?void 0:c.house_front_picture_url)&&(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"House Front Picture"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center truncate",children:[(0,Mt.jsx)("span",{className:"truncate",children:c.house_front_picture_url}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",onClick:()=>window.open(c.house_front_picture_url),children:(0,Mt.jsx)(Vs,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Promo"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===c||void 0===c?void 0:c.promo)||"None"})]})]})})}),(0,Mt.jsx)(Gs,{isOpen:u,title:"Confirm",message:"Are you sure you want to move this application to JO?",confirmText:"Move to JO",cancelText:"Cancel",onConfirm:()=>{m(!1),h(!0)},onCancel:()=>m(!1)}),(0,Mt.jsx)(Gs,{isOpen:y,title:"Confirm Status Change",message:'Are you sure you want to change the status to "'.concat(b,'"?'),confirmText:"Change Status",cancelText:"Cancel",onConfirm:async()=>{try{l(!0),await Js(t.id,{status:b});const e=await Hs(t.id);d(e),f(!1),v(""),s&&s(),alert("Status updated to ".concat(b))}catch(e){o("Failed to update status: ".concat(e.message)),console.error("Status update error:",e)}finally{l(!1)}},onCancel:()=>{f(!1),v("")}}),(0,Mt.jsx)(er,{isOpen:x,onClose:()=>h(!1),onSave:e=>{console.log("Job Order saved successfully:",e),console.log("Application ID:",t.id),h(!1)},applicationData:c}),(0,Mt.jsx)(ar,{isOpen:p,onClose:()=>g(!1),onSave:e=>{console.log("Visit scheduled successfully:",e),console.log("Application ID:",t.id),g(!1)},applicationData:he(he({},c),{},{secondaryNumber:(null===c||void 0===c?void 0:c.mobile_alt)||"",__debug:console.log("DEBUG - Data passed to Visit Modal:",{applicationId:t.id,mobile_alt:null===c||void 0===c?void 0:c.mobile_alt,secondaryNumber:(null===c||void 0===c?void 0:c.mobile_alt)||""})})})]})},rr=async()=>{try{const e=await Rt.get("/cities");console.log("Raw cities response:",e),console.log("Cities response.data:",e.data);const t=e.data;if(Array.isArray(t))return console.log("Successfully retrieved ".concat(t.length," cities from direct array")),t;if(t.success&&Array.isArray(t.data)){const e=t.data;return console.log("Successfully retrieved ".concat(e.length," cities from wrapped response")),e}return console.log("Using empty cities array as fallback. Data type:",typeof t,"Is array:",Array.isArray(t)),[]}catch(e){return console.error("Error fetching cities:",e),console.error("Error details:",e.response?e.response.data:"No response data"),[]}},nr=async e=>{try{const t=await Rt.get("/locations/parent/".concat(e));return t.data.success?t.data.data:[]}catch(t){return console.error("Error fetching child locations:",t),[]}},lr=async()=>(async e=>{try{const t=await Rt.get("/locations/type/".concat(e));return t.data.success?t.data.data:[]}catch(t){return console.error("Error fetching ".concat(e,"s:"),t),[]}})("region"),ir=async()=>{try{const e=(await Rt.get("/regions")).data;return Array.isArray(e)?e:e.success&&Array.isArray(e.data)?e.data:[]}catch(e){return console.error("Error fetching regions:",e),[]}},or=async()=>{try{const e=(await Rt.get("/barangays")).data;return Array.isArray(e)?e:e.success&&Array.isArray(e.data)?e.data:[]}catch(e){return console.error("Error fetching barangays:",e),[]}},cr=async()=>{try{const e=(await Rt.get("/villages")).data;return Array.isArray(e)?e:e.success&&Array.isArray(e.data)?e.data:[]}catch(e){return console.error("Error fetching villages:",e),[]}},dr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await Rt.delete("/regions/".concat(e).concat(t?"?cascade=true":""))}catch(a){throw console.error("Error deleting region:",a),a}},ur=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await Rt.delete("/cities/".concat(e).concat(t?"?cascade=true":""))}catch(a){throw console.error("Error deleting city:",a),a}},mr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await Rt.delete("/barangays/".concat(e).concat(t?"?cascade=true":""))}catch(a){throw console.error("Error deleting barangay:",a),a}},xr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await Rt.delete("/villages/".concat(e).concat(t?"?cascade=true":""))}catch(a){throw console.error("Error deleting village:",a),a}},hr=async()=>{try{const e=await Rt.get("/app-regions");if(e.data.success&&Array.isArray(e.data.data)){return e.data.data}return console.warn("Invalid response format for regions:",e.data),[]}catch(e){return console.error("Error fetching regions:",e),[]}};const pr=new class{constructor(){this.listeners=new Map}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){if(this.listeners.has(e)){const a=this.listeners.get(e),s=a.indexOf(t);-1!==s&&a.splice(s,1)}}emit(e,t){this.listeners.has(e)&&this.listeners.get(e).forEach(e=>e(t))}},gr="locations_updated",yr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([rr(),hr()]);d(e||[]),m(t||[]),g(!0)}catch(e){console.error("Failed to fetch location data:",e),d([]),m([]),g(!0)}})()},[]),(0,r.useEffect)(()=>{p&&b()},[p]);const b=async()=>{try{h(!0);const e=await(async()=>{try{const e=await Rt.get("/applications");return console.log("Application API response:",e.data),e.data&&e.data.applications&&Array.isArray(e.data.applications)?e.data.applications:(console.log("No applications found in API response"),[])}catch(y){throw console.error("Error fetching applications:",y),null!==y&&void 0!==y&&y.response&&console.error("Response error:",y.response.data),y}})();if(console.log("Fetched applications:",e),e&&e.length>0){const t=e.map(e=>{const t=e.region||"",a=e.city||"",s=e.barangay||"",r=e.installation_address||e.address_line||e.address||"",n=[t,a,s,r].filter(Boolean).join(", ");return{id:e.id||"",customerName:e.customer_name||"".concat(e.first_name||""," ").concat(e.middle_initial||""," ").concat(e.last_name||"").trim(),timestamp:e.timestamp||(e.create_date&&e.create_time?"".concat(e.create_date," ").concat(e.create_time):""),address:r,location:e.location||n,status:e.status||"pending",city:a,region:t,barangay:s,email_address:e.email_address,first_name:e.first_name,middle_initial:e.middle_initial,last_name:e.last_name,mobile_number:e.mobile_number,secondary_mobile_number:e.secondary_mobile_number,installation_address:e.installation_address,landmark:e.landmark,desired_plan:e.desired_plan,promo:e.promo,referred_by:e.referred_by,village:e.village,create_date:e.create_date,create_time:e.create_time}});o(t),console.log("Transformed applications:",t)}else console.log("No applications found"),o([]);f(null)}catch(e){console.error("Failed to fetch applications:",e),f("Failed to load applications. Please try again."),o([])}finally{h(!1)}};(0,r.useEffect)(()=>{const e=async()=>{try{console.log("Location updated, refreshing cities...");const e=await rr();console.log("Updated cities:",e),d(e||[])}catch(e){console.error("Failed to refresh cities after location update:",e)}};return pr.on(gr,e),()=>{pr.off(gr,e)}},[]);const v=(0,r.useMemo)(()=>{const e=[{id:"all",name:"All",count:i.length}],t={};return i.forEach(e=>{const a=e.city||"Unknown";t[a]=(t[a]||0)+1}),Object.entries(t).forEach(t=>{let[a,s]=t;e.push({id:a.toLowerCase(),name:a,count:s})}),c.forEach(a=>{t[a.name]||e.push({id:String(a.id),name:a.name,count:0})}),e},[c,i]),j=(0,r.useMemo)(()=>i.filter(t=>{const s="all"===e||t.city&&t.city.toLowerCase()===e||e===(t.city||"").toLowerCase(),r=""===a||t.customerName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.timestamp&&t.timestamp.includes(a);return s&&r}),[i,e,a]);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Applications"}),(0,Mt.jsx)("button",{className:"bg-orange-600 text-white px-3 py-1 rounded text-sm flex items-center space-x-1","aria-label":"Applications",children:(0,Mt.jsx)("span",{children:"Applications"})})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:v.map(a=>(0,Mt.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Va,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat(n?"w-1/3":"flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search applications...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:()=>b(),disabled:x,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:x?"Loading...":"Refresh"})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:x?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading applications..."})]}):y?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:y}),(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):j.length>0?(0,Mt.jsx)("div",{className:"space-y-0",children:j.map(e=>(0,Mt.jsx)("div",{onClick:()=>(e=>{l(e)})(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800 ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),children:(0,Mt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-white font-medium text-sm mb-1 uppercase",children:e.customerName}),(0,Mt.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.create_date&&e.create_time?"".concat(e.create_date," ").concat(e.create_time):e.timestamp||"Not specified"," | ",[e.installation_address||e.address,e.village,e.barangay,e.city,e.region].filter(Boolean).join(", ")]})]}),(0,Mt.jsx)("div",{className:"flex flex-col items-end space-y-1 ml-4 flex-shrink-0",children:e.status&&(0,Mt.jsx)("div",{className:"text-xs px-2 py-1 ".concat("schedule"===e.status.toLowerCase()?"text-green-400":"no facility"===e.status.toLowerCase()?"text-red-400":"cancelled"===e.status.toLowerCase()?"text-red-500":"no slot"===e.status.toLowerCase()?"text-yellow-400":"duplicate"===e.status.toLowerCase()?"text-yellow-500":"in progress"===e.status.toLowerCase()?"text-blue-400":"completed"===e.status.toLowerCase()?"text-green-400":"pending"===e.status.toLowerCase()?"text-orange-400":"text-gray-400"),children:e.status})})]})},e.id))}):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No applications found matching your filters"})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(sr,{application:n,onClose:()=>l(null),onApplicationUpdate:()=>{b()}})})]})},fr=Jt("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),br=Jt("hand-coins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]),vr=Jt("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),jr=e=>{let{isOpen:t,onConfirm:a,onCancel:s,amount:r,description:n,billingRecord:l}=e;return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded shadow-lg p-6 max-w-md",children:[(0,Mt.jsx)("div",{className:"mb-4",children:(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Confirm Transaction"})}),(0,Mt.jsx)("div",{className:"text-gray-300 mb-6",children:(0,Mt.jsx)("p",{className:"mb-2",children:"Are you sure you want to proceed with this transaction?"})}),(0,Mt.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Mt.jsx)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",onClick:s,children:"Cancel"}),(0,Mt.jsx)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded",onClick:a,children:"Confirm Transaction"})]})]})}):null},Nr=Jt("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),wr=e=>{let{isOpen:t,onClose:a,onSave:s,billingRecord:n}=e;const[l,i]=(0,r.useState)(()=>{var e;return{provider:"SWITCH",accountNo:(null===n||void 0===n?void 0:n.applicationId)||"",fullName:(null===n||void 0===n?void 0:n.customerName)||"",contactNo:(null===n||void 0===n?void 0:n.contactNumber)||"",plan:(null===n||void 0===n?void 0:n.plan)||"SwitchLite - P699",accountBalance:(null===n||void 0===n||null===(e=n.accountBalance)||void 0===e?void 0:e.toString())||"0.00",paymentDate:(new Date).toISOString().slice(0,16),receivedPayment:"0.00",processedBy:"",paymentMethod:"",referenceNo:"",orNo:"",transactionType:"Recurring Fee",remarks:"",image:null}}),[o,c]=(0,r.useState)({}),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&i(e=>{var t;return he(he({},e),{},{accountNo:n.applicationId||"",fullName:n.customerName||"",contactNo:n.contactNumber||"",plan:n.plan||"SwitchLite - P699",accountBalance:(null===(t=n.accountBalance)||void 0===t?void 0:t.toString())||"0.00"})})},[n]);const m=(e,t)=>{i(a=>he(he({},a),{},{[e]:t})),o[e]&&c(t=>he(he({},t),{},{[e]:""}))},x=e=>{const t=parseFloat(l.receivedPayment)||0;let a;a="increase"===e?t+.01:Math.max(0,t-.01),i(e=>he(he({},e),{},{receivedPayment:a.toFixed(2)}))};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Transactions Form"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{console.log("Transaction save button clicked!",l);const e=(()=>{const e={};return l.provider.trim()||(e.provider="Provider is required"),l.accountNo.trim()||(e.accountNo="Account No. is required"),l.plan.trim()||(e.plan="Plan is required"),l.accountBalance.trim()||(e.accountBalance="Account Balance is required"),l.paymentDate.trim()||(e.paymentDate="Payment Date is required"),l.receivedPayment.trim()||(e.receivedPayment="Received Payment is required"),l.processedBy.trim()||(e.processedBy="Processed By is required"),l.paymentMethod.trim()||(e.paymentMethod="Payment Method is required"),l.referenceNo.trim()||(e.referenceNo="Reference No. is required"),l.orNo.trim()||(e.orNo="OR No. is required"),l.transactionType.trim()||(e.transactionType="Transaction Type is required"),c(e),0===Object.keys(e).length})();if(console.log("Transaction form validation result:",e),!e)return console.log("Transaction form validation failed. Errors:",o),void alert("Please fill in all required fields before saving.");u(!0);try{console.log("Creating transaction with data:",l),alert("Transaction saved successfully!"),s(l),a()}catch(t){console.error("Error creating transaction:",t),alert("Failed to save transaction: ".concat(t instanceof Error?t.message:"Unknown error"))}finally{u(!1)}},disabled:d,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:d?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Provider",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("select",{value:l.provider,onChange:e=>m("provider",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.provider?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:(0,Mt.jsx)("option",{value:"SWITCH",children:"SWITCH"})}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.provider&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.provider})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Account No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("select",{value:l.accountNo,onChange:e=>m("accountNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.accountNo?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:(0,Mt.jsxs)("option",{value:(null===n||void 0===n?void 0:n.applicationId)||"",children:[(null===n||void 0===n?void 0:n.applicationId)||""," | ",(null===n||void 0===n?void 0:n.customerName)||""," | ",(null===n||void 0===n?void 0:n.address)||""]})}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.accountNo&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.accountNo})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),(0,Mt.jsx)("input",{type:"text",value:l.fullName,onChange:e=>m("fullName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ContactNo"}),(0,Mt.jsx)("input",{type:"text",value:l.contactNo,onChange:e=>m("contactNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Plan",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:l.plan,onChange:e=>m("plan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.plan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"SwitchLite - P699",children:"SwitchLite - P699"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P799",children:"SwitchConnect - P799"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P999",children:"SwitchConnect - P999"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P1299",children:"SwitchConnect - P1299"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.plan&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.plan})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Account Balance",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:"\u20b1 ".concat(l.accountBalance),onChange:e=>m("accountBalance",e.target.value.replace("\u20b1 ","")),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.accountBalance?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),o.accountBalance&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.accountBalance})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Payment Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"datetime-local",value:l.paymentDate,onChange:e=>m("paymentDate",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.paymentDate?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.paymentDate&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.paymentDate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Received Payment",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"flex-1 relative",children:(0,Mt.jsx)("input",{type:"text",value:"\u20b1 ".concat(l.receivedPayment),onChange:e=>m("receivedPayment",e.target.value.replace("\u20b1 ","")),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.receivedPayment?"border-red-500":"border-gray-700"," rounded-l text-white focus:outline-none focus:border-orange-500")})}),(0,Mt.jsxs)("div",{className:"flex flex-col",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>x("increase"),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white border border-gray-700 border-l-0 text-sm",children:(0,Mt.jsx)(pa,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>x("decrease"),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white border border-gray-700 border-l-0 border-t-0 rounded-r text-sm",children:(0,Mt.jsx)(Ks,{size:16})})]})]}),o.receivedPayment&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.receivedPayment})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Processed By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:l.processedBy,onChange:e=>m("processedBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.processedBy?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Processor"}),(0,Mt.jsx)("option",{value:"admin@ampere.com",children:"admin@ampere.com"}),(0,Mt.jsx)("option",{value:"billing@ampere.com",children:"billing@ampere.com"}),(0,Mt.jsx)("option",{value:"finance@ampere.com",children:"finance@ampere.com"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.processedBy&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.processedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Payment Method",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:l.paymentMethod,onChange:e=>m("paymentMethod",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.paymentMethod?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Payment Method"}),(0,Mt.jsx)("option",{value:"Cash",children:"Cash"}),(0,Mt.jsx)("option",{value:"GCash",children:"GCash"}),(0,Mt.jsx)("option",{value:"PayMaya",children:"PayMaya"}),(0,Mt.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,Mt.jsx)("option",{value:"Check",children:"Check"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),o.paymentMethod&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.paymentMethod})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Reference No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:l.referenceNo,onChange:e=>m("referenceNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.referenceNo?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),o.referenceNo&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.referenceNo})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["OR No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:l.orNo,onChange:e=>m("orNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.orNo?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),o.orNo&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.orNo})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Transaction Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["Recurring Fee","Installation Fee","Security Deposit"].map(e=>(0,Mt.jsx)("button",{type:"button",onClick:()=>(e=>{i(t=>he(he({},t),{},{transactionType:e}))})(e),className:"px-4 py-2 rounded text-sm font-medium transition-colors ".concat(l.transactionType===e?"bg-orange-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e},e))}),o.transactionType&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.transactionType})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),(0,Mt.jsx)("textarea",{value:l.remarks,onChange:e=>m("remarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 resize-none"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),(0,Mt.jsx)("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)(Nr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Mt.jsx)("div",{className:"mt-4",children:(0,Mt.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Mt.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-300",children:"Click to upload image"}),(0,Mt.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&i(e=>he(he({},e),{},{image:a}))}})]})}),l.image&&(0,Mt.jsxs)("p",{className:"mt-2 text-xs text-gray-400",children:["Selected: ",l.image.name]})]})})]})]})]})}):null},kr=e=>{var t;let{billingRecord:a,onlineStatusRecords:s=[]}=e;const[n,l]=(0,r.useState)({invoices:!1,paymentPortalLogs:!1,transactions:!1,advancedPayments:!1,discounts:!1,staggeredInstallations:!1,staggeredPayments:!1,serviceOrders:!1,serviceOrderLogs:!1,reconnectionLogs:!1,disconnectedLogs:!1,detailsUpdateLogs:!1,inventoryLogs:!1,onlineStatus:!0,borrowedLogs:!1,planChangeLogs:!1,serviceChargeLogs:!1,changeDueLogs:!1,securityDeposits:!1}),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=e=>{l(t=>he(he({},t),{},{[e]:!t[e]}))},m=s.length>0?s:[{id:"1",status:"Online",accountNo:a.applicationId||"202308029",username:a.username||"vergaraj0917251011",group:a.groupName||"SwitchLite",splynxId:"1"}];return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:[a.applicationId," | ",a.customerName," | ",a.address]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(fr,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(br,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Ia,{size:18})}),(0,Mt.jsx)("button",{onClick:()=>{o(!0)},className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors",children:"Transact"}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center space-x-4 border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Mt.jsx)("button",{className:"flex items-center justify-center w-10 h-10 bg-orange-600 hover:bg-orange-700 text-white rounded-full transition-colors",children:(0,Mt.jsx)(vr,{size:18})}),(0,Mt.jsx)("span",{className:"text-xs text-gray-300",children:"Attachment"})]}),(0,Mt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Mt.jsx)("button",{className:"flex items-center justify-center w-10 h-10 bg-orange-600 hover:bg-orange-700 text-white rounded-full transition-colors",children:(0,Mt.jsx)(Ua,{size:18})}),(0,Mt.jsx)("span",{className:"text-xs text-gray-300",children:"Change Billing Date"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Usage Type"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.usageType||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.customerName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Billing Status"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.status})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.provider||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Billing Day"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:0===a.billingDay?"Every end of month":a.billingDay||"-"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Account No."}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.applicationId})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Date Installed"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.dateInstalled||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.contactNumber||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Second Contact Number"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.secondContactNumber||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.emailAddress||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Address"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:(null===(t=a.address)||void 0===t?void 0:t.split(",")[0])||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Barangay"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.barangay||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"City"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.city||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Region"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.region||""})]}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Address Coordinates"}),(0,Mt.jsx)("div",{className:"w-full h-24 bg-gray-800 border border-gray-700 rounded flex items-center justify-center",children:(0,Mt.jsx)("span",{className:"text-gray-500 text-sm",children:"Map View"})})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Plan"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.plan||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Balance"}),(0,Mt.jsxs)("span",{className:"text-white font-medium",children:["\u20b1",a.accountBalance||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Paid"}),(0,Mt.jsxs)("span",{className:"text-white font-medium",children:["\u20b1",a.totalPaid||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Referred By:"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.referredBy||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Referral Contact No."}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.referralContactNo||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Username"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.username||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Connection Type"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.connectionType||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Router Model"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.routerModel||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Router/Modem SN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.routerModemSN||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Status"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Mt.jsx)("span",{className:"text-green-400 font-medium",children:a.onlineStatus})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Group"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.groupName||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Mikrotik ID"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.mikrotikId||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"LCPNAP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.lcpnap||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"LCP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.lcp||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"NAP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.nap||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"PORT"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.port||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"VLAN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.vlan||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Session IP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.sessionIp||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.modifiedBy||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.modifiedDate||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"House Front Picture"}),a.houseFrontPicture?(0,Mt.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 flex items-center space-x-1",children:[(0,Mt.jsx)("span",{className:"text-sm",children:a.houseFrontPicture}),(0,Mt.jsx)(Vs,{size:14})]}):(0,Mt.jsx)("span",{className:"text-white font-medium"})]})]}),(0,Mt.jsx)("div",{className:"border-t border-gray-700"}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("invoices"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Invoices"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.invoices?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.invoices&&(0,Mt.jsx)("div",{className:"px-6 pb-4",children:(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"})})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("paymentPortalLogs"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Payment Portal Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.paymentPortalLogs?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.paymentPortalLogs&&(0,Mt.jsx)("div",{className:"px-6 pb-4",children:(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"})})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("transactions"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Transactions"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.transactions?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.transactions&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"}),(0,Mt.jsx)("div",{className:"flex justify-end",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Add"})})]})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("onlineStatus"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Online Status"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:m.length})]}),n.onlineStatus?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.onlineStatus&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Status"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Account No."}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Username"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Group"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"SPLYNX ID"})]})}),(0,Mt.jsx)("tbody",{children:m.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"py-2 text-green-400",children:e.status}),(0,Mt.jsx)("td",{className:"py-2 text-red-400",children:e.accountNo}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.username}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.group}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.splynxId})]},e.id))})]})}),(0,Mt.jsx)("div",{className:"flex justify-end mt-4",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Expand"})})]})]}),[{key:"advancedPayments",label:"Related Advanced Payments"},{key:"discounts",label:"Related Discounts"},{key:"staggeredInstallations",label:"Related Staggered Installations"},{key:"staggeredPayments",label:"Related Staggered Payments"},{key:"serviceOrders",label:"Related Service Orders"},{key:"reconnectionLogs",label:"Related Reconnection Logs"},{key:"disconnectedLogs",label:"Related Disconnected Logs"},{key:"detailsUpdateLogs",label:"Related Details Update Logs"},{key:"inventoryLogs",label:"Related Inventory Logs"},{key:"borrowedLogs",label:"Related Borrowed Logs"},{key:"planChangeLogs",label:"Related Plan Change Logs"},{key:"serviceChargeLogs",label:"Related Service Charge Logs"},{key:"changeDueLogs",label:"Related Change Due Logs"},{key:"securityDeposits",label:"Related Security Deposits"}].map(e=>(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u(e.key),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:e.label}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n[e.key]?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n[e.key]&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"}),(0,Mt.jsx)("div",{className:"flex justify-end",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Add"})})]})]},e.key))]}),(0,Mt.jsx)(jr,{isOpen:i,onConfirm:()=>{o(!1),d(!0),console.log("Transaction confirmed for:",a.applicationId)},onCancel:()=>{o(!1)},amount:"\u20b1".concat(a.accountBalance||"0.00"),description:"Transaction for ".concat(a.customerName," - Account: ").concat(a.applicationId),billingRecord:a}),(0,Mt.jsx)(wr,{isOpen:c,onClose:()=>{d(!1)},onSave:e=>{console.log("Transaction form saved:",e),d(!1)},billingRecord:a})]})},Sr=Jt("baggage-claim",[["path",{d:"M22 18H6a2 2 0 0 1-2-2V7a2 2 0 0 0-2-2",key:"4irg2o"}],["path",{d:"M17 14V4a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v10",key:"14fcyx"}],["rect",{width:"13",height:"8",x:"8",y:"6",rx:"1",key:"o6oiis"}],["circle",{cx:"18",cy:"20",r:"2",key:"t9985n"}],["circle",{cx:"9",cy:"20",r:"2",key:"e5v82j"}]]),Cr=e=>{var t;let{billingRecord:a,onlineStatusRecords:s=[]}=e;const[n,l]=(0,r.useState)({invoices:!1,paymentPortalLogs:!1,transactions:!1,advancedPayments:!1,discounts:!1,staggeredInstallations:!1,staggeredPayments:!1,serviceOrders:!1,serviceOrderLogs:!1,reconnectionLogs:!1,disconnectedLogs:!1,detailsUpdateLogs:!1,inventoryLogs:!1,onlineStatus:!0,borrowedLogs:!1,planChangeLogs:!1,serviceChargeLogs:!1,changeDueLogs:!1,securityDeposits:!1}),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=e=>{l(t=>he(he({},t),{},{[e]:!t[e]}))},m=s.length>0?s:[{id:"1",status:"Online",accountNo:a.applicationId||"202308029",username:a.username||"vergaraj0917251011",group:a.groupName||"SwitchLite",splynxId:"1"}];return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:[a.applicationId," | ",a.customerName," | ",a.address]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(fr,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(br,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Sr,{size:18})}),(0,Mt.jsx)("button",{onClick:()=>{o(!0)},className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors",children:"Transact"}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center space-x-4 border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Mt.jsx)("button",{className:"flex items-center justify-center w-10 h-10 bg-orange-600 hover:bg-orange-700 text-white rounded-full transition-colors",children:(0,Mt.jsx)(vr,{size:18})}),(0,Mt.jsx)("span",{className:"text-xs text-gray-300",children:"Attachment"})]}),(0,Mt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Mt.jsx)("button",{className:"flex items-center justify-center w-10 h-10 bg-orange-600 hover:bg-orange-700 text-white rounded-full transition-colors",children:(0,Mt.jsx)(Ua,{size:18})}),(0,Mt.jsx)("span",{className:"text-xs text-gray-300",children:"Change Billing Date"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Usage Type"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.usageType||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.customerName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Billing Status"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.status})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.provider||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Billing Day"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:0===a.billingDay?"Every end of month":a.billingDay||"-"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Account No."}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.applicationId})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Date Installed"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.dateInstalled||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.contactNumber||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Second Contact Number"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.secondContactNumber||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.emailAddress||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Address"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:(null===(t=a.address)||void 0===t?void 0:t.split(",")[0])||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Barangay"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.barangay||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"City"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.city||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Region"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.region||""})]}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Address Coordinates"}),(0,Mt.jsx)("div",{className:"w-full h-24 bg-gray-800 border border-gray-700 rounded flex items-center justify-center",children:(0,Mt.jsx)("span",{className:"text-gray-500 text-sm",children:"Map View"})})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Plan"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.plan||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Balance"}),(0,Mt.jsxs)("span",{className:"text-white font-medium",children:["\u20b1",a.accountBalance||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Paid"}),(0,Mt.jsxs)("span",{className:"text-white font-medium",children:["\u20b1",a.totalPaid||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Referred By:"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.referredBy||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Referral Contact No."}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.referralContactNo||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Username"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.username||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Connection Type"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.connectionType||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Router Model"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.routerModel||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Router/Modem SN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.routerModemSN||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Status"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Mt.jsx)("span",{className:"text-green-400 font-medium",children:a.onlineStatus})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Group"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.groupName||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Mikrotik ID"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.mikrotikId||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"LCPNAP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.lcpnap||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"LCP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.lcp||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"NAP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.nap||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"PORT"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.port||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"VLAN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.vlan||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Session IP"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.sessionIp||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.modifiedBy||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:a.modifiedDate||""})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"House Front Picture"}),a.houseFrontPicture?(0,Mt.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 flex items-center space-x-1",children:[(0,Mt.jsx)("span",{className:"text-sm",children:a.houseFrontPicture}),(0,Mt.jsx)(Vs,{size:14})]}):(0,Mt.jsx)("span",{className:"text-white font-medium"})]})]}),(0,Mt.jsx)("div",{className:"border-t border-gray-700"}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("invoices"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Invoices"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.invoices?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.invoices&&(0,Mt.jsx)("div",{className:"px-6 pb-4",children:(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"})})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("paymentPortalLogs"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Payment Portal Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.paymentPortalLogs?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.paymentPortalLogs&&(0,Mt.jsx)("div",{className:"px-6 pb-4",children:(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"})})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("transactions"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Transactions"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n.transactions?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.transactions&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"}),(0,Mt.jsx)("div",{className:"flex justify-end",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Add"})})]})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u("onlineStatus"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Online Status"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:m.length})]}),n.onlineStatus?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n.onlineStatus&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Status"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Account No."}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Username"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Group"}),(0,Mt.jsx)("th",{className:"text-left py-2 text-gray-400 font-medium",children:"SPLYNX ID"})]})}),(0,Mt.jsx)("tbody",{children:m.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"py-2 text-green-400",children:e.status}),(0,Mt.jsx)("td",{className:"py-2 text-red-400",children:e.accountNo}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.username}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.group}),(0,Mt.jsx)("td",{className:"py-2 text-white",children:e.splynxId})]},e.id))})]})}),(0,Mt.jsx)("div",{className:"flex justify-end mt-4",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Expand"})})]})]}),[{key:"advancedPayments",label:"Related Advanced Payments"},{key:"discounts",label:"Related Discounts"},{key:"staggeredInstallations",label:"Related Staggered Installations"},{key:"staggeredPayments",label:"Related Staggered Payments"},{key:"serviceOrders",label:"Related Service Orders"},{key:"reconnectionLogs",label:"Related Reconnection Logs"},{key:"disconnectedLogs",label:"Related Disconnected Logs"},{key:"detailsUpdateLogs",label:"Related Details Update Logs"},{key:"inventoryLogs",label:"Related Inventory Logs"},{key:"borrowedLogs",label:"Related Borrowed Logs"},{key:"planChangeLogs",label:"Related Plan Change Logs"},{key:"serviceChargeLogs",label:"Related Service Charge Logs"},{key:"changeDueLogs",label:"Related Change Due Logs"},{key:"securityDeposits",label:"Related Security Deposits"}].map(e=>(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>u(e.key),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:e.label}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),n[e.key]?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),n[e.key]&&(0,Mt.jsxs)("div",{className:"px-6 pb-4",children:[(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"}),(0,Mt.jsx)("div",{className:"flex justify-end",children:(0,Mt.jsx)("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Add"})})]})]},e.key))]}),(0,Mt.jsx)(jr,{isOpen:i,onConfirm:()=>{o(!1),d(!0),console.log("Transaction confirmed for:",a.applicationId)},onCancel:()=>{o(!1)},amount:"\u20b1".concat(a.accountBalance||"0.00"),description:"Transaction for ".concat(a.customerName," - Account: ").concat(a.applicationId),billingRecord:a}),(0,Mt.jsx)(wr,{isOpen:c,onClose:()=>{d(!1)},onSave:e=>{console.log("Transaction form saved:",e),d(!1)},billingRecord:a})]})},_r=Dt.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});_r.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e});const Er=async()=>{try{const e=(await _r.get("/billing")).data;return null!==e&&void 0!==e&&e.data&&Array.isArray(e.data)?e.data.map(e=>({id:e.Account_No||e.id,applicationId:e.Account_No||"",customerName:e.Full_Name||"",address:e.Address||"",status:e.Status||"Inactive",balance:parseFloat(e.Account_Balance)||0,onlineStatus:"Active"===e.Status?"Online":"Offline",cityId:null,regionId:null,timestamp:e.Modified_Date||"",billingStatus:e.Billing_Status_ID?"Status ".concat(e.Billing_Status_ID):"",dateInstalled:e.Date_Installed||"",contactNumber:e.Contact_Number||"",secondContactNumber:e.Second_Contact_Number||"",emailAddress:e.email_address||e.Email_Address||"",plan:e.Plan||e.Desired_Plan||"",username:e.Username||"",connectionType:e.Connection_Type||"",routerModel:e.Router_Model||"",routerModemSN:e.Router_Modem_SN||"",lcpnap:e.LCPNAP||"",port:e.PORT||"",vlan:e.VLAN||"",billingDay:"Every end of month"===e.Billing_Day?0:e.Billing_Day||0,totalPaid:0,provider:e.Provider||"",lcp:e.LCP||"",nap:e.NAP||"",modifiedBy:e.Modified_By||"",modifiedDate:e.Modified_Date||"",barangay:e.Barangay||"",city:e.City||"",region:e.Region||""})):[]}catch(e){return console.error("Error fetching billing records:",e),[]}},Pr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null),[y,f]=(0,r.useState)("card"),[b,v]=(0,r.useState)(!1),j=(0,r.useRef)(null),N=[{key:"status",label:"Status",width:"min-w-28"},{key:"billingStatus",label:"Billing Status",width:"min-w-28"},{key:"accountNo",label:"Account No.",width:"min-w-32"},{key:"dateInstalled",label:"Date Installed",width:"min-w-28"},{key:"customerName",label:"Full Name",width:"min-w-40"},{key:"address",label:"Address",width:"min-w-56"},{key:"contactNumber",label:"Contact Number",width:"min-w-36"},{key:"emailAddress",label:"Email Address",width:"min-w-48"},{key:"plan",label:"Plan",width:"min-w-40"},{key:"balance",label:"Account Balance",width:"min-w-32"},{key:"username",label:"Username",width:"min-w-32"},{key:"connectionType",label:"Connection Type",width:"min-w-36"},{key:"routerModel",label:"Router Model",width:"min-w-32"},{key:"routerModemSN",label:"Router/Modem SN",width:"min-w-36"},{key:"lcpnap",label:"LCPNAP",width:"min-w-32"},{key:"port",label:"PORT",width:"min-w-28"},{key:"vlan",label:"VLAN",width:"min-w-24"},{key:"billingDay",label:"Billing Day",width:"min-w-28"},{key:"totalPaid",label:"Total Paid",width:"min-w-28"},{key:"provider",label:"Provider",width:"min-w-24"},{key:"lcp",label:"LCP",width:"min-w-28"},{key:"nap",label:"NAP",width:"min-w-28"},{key:"modifiedBy",label:"Modified By",width:"min-w-32"},{key:"modifiedDate",label:"Modified Date",width:"min-w-36"},{key:"barangay",label:"Barangay",width:"min-w-32"},{key:"city",label:"City",width:"min-w-28"},{key:"region",label:"Region",width:"min-w-28"},{key:"lcpnapport",label:"LCPNAPPORT",width:"min-w-36"},{key:"usageType",label:"Usage Type",width:"min-w-32"},{key:"referredBy",label:"Referred By",width:"min-w-36"},{key:"secondContactNumber",label:"Second Contact Number",width:"min-w-40"},{key:"referrersAccountNumber",label:"Referrer's Account Number",width:"min-w-44"},{key:"relatedInvoices",label:"Related Invoices",width:"min-w-36"},{key:"relatedStatementOfAccount",label:"Related Statement of Account",width:"min-w-52"},{key:"relatedDiscounts",label:"Related Discounts",width:"min-w-36"},{key:"relatedStaggeredInstallation",label:"Related Staggered Installation",width:"min-w-52"},{key:"relatedStaggeredPayments",label:"Related Staggered Payments",width:"min-w-52"},{key:"relatedOverdues",label:"Related Overdues",width:"min-w-36"},{key:"relatedDCNotices",label:"Related DC Notices",width:"min-w-40"},{key:"relatedServiceOrders",label:"Related Service Orders",width:"min-w-44"},{key:"relatedDisconnectedLogs",label:"Related Disconnected Logs",width:"min-w-48"},{key:"relatedReconnectionLogs",label:"Related Reconnection Logs",width:"min-w-48"},{key:"relatedChangeDueLogs",label:"Related Change Due Logs",width:"min-w-48"},{key:"relatedTransactions",label:"Related Transactions",width:"min-w-40"},{key:"relatedDetailsUpdateLogs",label:"Related Details Update Logs",width:"min-w-48"},{key:"computedAddress",label:"_ComputedAddress",width:"min-w-40"},{key:"computedStatus",label:"_ComputedStatus",width:"min-w-36"},{key:"relatedAdvancedPayments",label:"Related Advanced Payments",width:"min-w-48"},{key:"relatedPaymentPortalLogs",label:"Related Payment Portal Logs",width:"min-w-48"},{key:"relatedInventoryLogs",label:"Related Inventory Logs",width:"min-w-44"},{key:"computedAccountNo",label:"_ComputedAccountNo",width:"min-w-44"},{key:"relatedOnlineStatus",label:"Related Online Status",width:"min-w-44"},{key:"group",label:"Group",width:"min-w-28"},{key:"mikrotikId",label:"Mikrotik ID",width:"min-w-32"},{key:"sessionIP",label:"Session IP",width:"min-w-32"},{key:"relatedBorrowedLogs",label:"Related Borrowed Logs",width:"min-w-44"},{key:"relatedPlanChangeLogs",label:"Related Plan Change Logs",width:"min-w-48"},{key:"relatedServiceChargeLogs",label:"Related Service Charge Logs",width:"min-w-48"},{key:"relatedAdjustedAccountLogs",label:"Related Adjusted Account Logs",width:"min-w-52"},{key:"referralContactNo",label:"Referral Contact No.",width:"min-w-40"},{key:"logs",label:"Logs",width:"min-w-24"},{key:"relatedSecurityDeposits",label:"Related Security Deposits",width:"min-w-48"},{key:"relatedApprovedTransactions",label:"Related Approved Transaction",width:"min-w-52"},{key:"relatedAttachments",label:"Related Attachments",width:"min-w-40"}];(0,r.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j]),(0,r.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([rr(),hr()]);d(e||[]),m(t||[])}catch(e){console.error("Failed to fetch location data:",e),d([]),m([])}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{h(!0);const e=await Er();o(e),g(null)}catch(e){console.error("Failed to fetch billing records:",e),g("Failed to load billing records. Please try again."),o([])}finally{h(!1)}})()},[]);(0,r.useMemo)(()=>{const e=new Map(c.map(e=>[e.id,e.name]));return t=>t?e.get(t)||"City ".concat(t):"Unknown City"},[c]);const w=(0,r.useMemo)(()=>{const e=[{id:"all",name:"All",count:i.length}];return c.forEach(t=>{const a=i.filter(e=>e.cityId===t.id).length;e.push({id:String(t.id),name:t.name,count:a})}),e},[c,i]),k=(0,r.useMemo)(()=>i.filter(t=>{const s="all"===e||t.cityId===Number(e),r=""===a||t.customerName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.applicationId.includes(a);return s&&r}),[i,e,a]),S=e=>{l(e)},C=(e,t)=>{var a;switch(t){case"status":return(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Na,{className:"h-3 w-3 ".concat("Online"===e.onlineStatus?"text-green-400 fill-green-400":"text-gray-400 fill-gray-400")}),(0,Mt.jsx)("span",{className:"text-xs ".concat("Online"===e.onlineStatus?"text-green-400":"text-gray-400"),children:e.onlineStatus})]});case"billingStatus":return e.billingStatus||"Active";case"accountNo":return(0,Mt.jsx)("span",{className:"text-red-400",children:e.applicationId});case"dateInstalled":return e.dateInstalled||"-";case"customerName":return e.customerName;case"address":return(0,Mt.jsx)("span",{title:e.address,children:e.address});case"contactNumber":return e.contactNumber||"-";case"emailAddress":return e.emailAddress||"-";case"plan":return e.plan||"-";case"balance":return"\u20b1 ".concat(e.balance.toFixed(2));case"username":return e.username||"-";case"connectionType":return e.connectionType||"-";case"routerModel":return e.routerModel||"-";case"routerModemSN":return e.routerModemSN||"-";case"lcpnap":return e.lcpnap||"-";case"port":return e.port||"-";case"vlan":return e.vlan||"-";case"billingDay":return 0===e.billingDay?"Every end of month":e.billingDay||"-";case"totalPaid":return"\u20b1 ".concat((null===(a=e.totalPaid)||void 0===a?void 0:a.toFixed(2))||"0.00");case"provider":return e.provider||"-";case"lcp":return e.lcp||"-";case"nap":return e.nap||"-";case"modifiedBy":return e.modifiedBy||"-";case"modifiedDate":return e.modifiedDate||"-";case"barangay":return e.barangay||"-";case"city":return e.city||"-";case"region":return e.region||"-";case"lcpnapport":return e.lcpnapport||"-";case"usageType":return e.usageType||"-";case"referredBy":return e.referredBy||"-";case"secondContactNumber":return e.secondContactNumber||"-";case"referrersAccountNumber":return e.referrersAccountNumber||"-";case"group":return e.group||"-";case"mikrotikId":return e.mikrotikId||"-";case"sessionIP":return e.sessionIP||"-";case"referralContactNo":return e.referralContactNo||"-";case"relatedInvoices":case"relatedStatementOfAccount":case"relatedDiscounts":case"relatedStaggeredInstallation":case"relatedStaggeredPayments":case"relatedOverdues":case"relatedDCNotices":case"relatedServiceOrders":case"relatedDisconnectedLogs":case"relatedReconnectionLogs":case"relatedChangeDueLogs":case"relatedTransactions":case"relatedDetailsUpdateLogs":case"relatedAdvancedPayments":case"relatedPaymentPortalLogs":case"relatedInventoryLogs":case"relatedOnlineStatus":case"relatedBorrowedLogs":case"relatedPlanChangeLogs":case"relatedServiceChargeLogs":case"relatedAdjustedAccountLogs":case"relatedSecurityDeposits":case"relatedApprovedTransactions":case"relatedAttachments":case"logs":default:return"-";case"computedAddress":return e.computedAddress||(e.address?e.address.length>25?"".concat(e.address.substring(0,25),"..."):e.address:"-");case"computedStatus":return e.computedStatus||"".concat(e.status||"Inactive"," | P ").concat(e.balance.toFixed(0));case"computedAccountNo":return e.computedAccountNo||"".concat(e.applicationId," | ").concat(e.customerName).concat(e.address?" | "+e.address.substring(0,10)+"...":"")}},_=async()=>{try{h(!0);const e=await Er();o(e),g(null)}catch(e){console.error("Failed to refresh billing records:",e),g("Failed to refresh billing records. Please try again.")}finally{h(!1)}};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Billing Details"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:w.map(a=>(0,Mt.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Pa,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search billing records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("div",{className:"flex space-x-2",children:[(0,Mt.jsxs)("div",{className:"relative z-50",ref:j,children:[(0,Mt.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors flex items-center",onClick:()=>v(!b),children:[(0,Mt.jsx)("span",{children:"card"===y?"Card View":"Table View"}),(0,Mt.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&(0,Mt.jsxs)("div",{className:"fixed right-auto mt-1 w-36 bg-gray-800 border border-gray-700 rounded shadow-lg",children:[(0,Mt.jsx)("button",{onClick:()=>{f("card"),v(!1)},className:"block w-full text-left px-4 py-2 text-sm transition-colors hover:bg-gray-700 ".concat("card"===y?"text-orange-500":"text-white"),children:"Card View"}),(0,Mt.jsx)("button",{onClick:()=>{f("table"),v(!1)},className:"block w-full text-left px-4 py-2 text-sm transition-colors hover:bg-gray-700 ".concat("table"===y?"text-orange-500":"text-white"),children:"Table View"})]})]}),(0,Mt.jsx)("button",{onClick:_,disabled:x,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:x?"Loading...":"Refresh"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:x?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading billing records..."})]}):p?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:p}),(0,Mt.jsx)("button",{onClick:_,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):"card"===y?k.length>0?(0,Mt.jsx)("div",{className:"space-y-0",children:k.map(e=>(0,Mt.jsx)("div",{onClick:()=>S(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800 ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsxs)("div",{className:"text-red-400 font-medium text-sm mb-1",children:[e.applicationId," | ",e.customerName," | ",e.address]}),(0,Mt.jsxs)("div",{className:"text-white text-sm",children:[e.status," | \u20b1 ",e.balance.toFixed(0)]})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[(0,Mt.jsx)(Na,{className:"h-3 w-3 ".concat("Online"===e.onlineStatus?"text-green-400 fill-green-400":"text-gray-400 fill-gray-400")}),(0,Mt.jsx)("span",{className:"text-sm ".concat("Online"===e.onlineStatus?"text-green-400":"text-gray-400"),children:e.onlineStatus})]})]})},e.id))}):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No billing records found matching your filters"}):(0,Mt.jsx)("div",{className:"overflow-x-auto overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsx)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:N.map((e,t)=>(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 ".concat(e.width," whitespace-nowrap ").concat(t<N.length-1?"border-r border-gray-700":""),children:e.label},e.key))})}),(0,Mt.jsx)("tbody",{children:k.length>0?k.map(e=>(0,Mt.jsx)("tr",{className:"border-b border-gray-800 hover:bg-gray-900 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>S(e),children:N.map((t,a)=>(0,Mt.jsx)("td",{className:"py-4 px-3 text-white whitespace-nowrap ".concat(a<N.length-1?"border-r border-gray-800":""),children:C(e,t.key)},t.key))},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:N.length,className:"px-4 py-12 text-center text-gray-400 border-b border-gray-800",children:"No billing records found matching your filters"})})})]})})})})]})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),"card"===y?(0,Mt.jsx)(kr,{billingRecord:n,onlineStatusRecords:[]}):(0,Mt.jsx)(Cr,{billingRecord:n,onlineStatusRecords:[]})]})]})},Ar=e=>{let{transaction:t,onClose:a}=e;const[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),o=e=>"\u20b1".concat(e.toFixed(2)),c=()=>"".concat(t.accountNo," | ").concat(t.fullName," | 0 (A) Ojascastro St, ").concat(t.barangay,", ").concat(t.city,", Rizal");return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Mt.jsx)("h2",{className:"text-white font-medium truncate pr-4",children:c()}),s&&(0,Mt.jsx)("div",{className:"ml-3 animate-pulse text-orange-500 text-sm flex-shrink-0",children:"Loading..."})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:a,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),l&&(0,Mt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-700 text-red-400 p-3 m-3 rounded",children:l}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsx)("div",{className:"mx-auto py-1 px-4 bg-gray-950",children:(0,Mt.jsxs)("div",{className:"space-y-1",children:[(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Account No."}),(0,Mt.jsxs)("div",{className:"text-red-400 flex-1 font-medium flex items-center",children:[c(),(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Transaction ID"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.transactionId})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.fullName})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contact No."}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.contactNo})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Received Payment"}),(0,Mt.jsx)("div",{className:"text-white flex-1 font-bold text-lg",children:o(t.receivedPayment)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Date Processed"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.dateProcessed})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Processed By"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.processedBy,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Payment Method"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.paymentMethod,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Reference No."}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.referenceNo})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"OR No."}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.orNo})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:"shainemiraflor@gmail.com"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.modifiedDate})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"User Email"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:["shainemiraflor@gmail.com",(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Status"}),(0,Mt.jsx)("div",{className:"flex-1 capitalize ".concat("done"===t.status.toLowerCase()?"text-green-500":"pending"===t.status.toLowerCase()?"text-yellow-500":"processing"===t.status.toLowerCase()?"text-blue-500":"text-gray-400"),children:t.status})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.provider,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Transaction Type"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.transactionType})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Payment Date"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.paymentDate})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.barangay,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"City"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.city})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Plan"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.plan,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Account Balance"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:o(t.accountBalance)})]})]})}),(0,Mt.jsx)("div",{className:"mx-auto px-4 bg-gray-950 mt-4",children:(0,Mt.jsxs)("div",{className:"border-t border-gray-800 pt-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Mt.jsx)("h3",{className:"text-white font-medium",children:"Related Invoices"}),(0,Mt.jsx)("span",{className:"ml-2 bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No items"})]})})]})]})},Lr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),x=e=>"\u20b1".concat(e.toFixed(2));(0,r.useEffect)(()=>{(async()=>{try{d(!0),console.log("Fetching transactions..."),await new Promise(e=>setTimeout(e,500));o([{id:"1",dateProcessed:"9/18/2025 4:33:57 PM",accountNo:"202306310",receivedPayment:999,paymentMethod:"Gcash",processedBy:"Sheena Espinoza",fullName:"Jocelyn H Roncales",orNo:"-",referenceNo:"439769168",remarks:"",status:"Done",transactionType:"Recurring Fee",barangay:"Darangan",transactionId:"TXN001",contactNo:"9673080816",modifiedBy:"Sheena Espinoza",modifiedDate:"9/18/2025 4:33:57 PM",provider:"SWITCH",paymentDate:"9/18/2025 4:33:57 PM",city:"Binangonan",plan:"SwitchLite - P699",accountBalance:0,relatedInvoices:"",created_at:"2025-09-18T20:33:57Z",updated_at:"2025-09-18T20:33:57Z"},{id:"2",dateProcessed:"9/18/2025 4:33:17 PM",accountNo:"202307326",receivedPayment:999,paymentMethod:"Gcash",processedBy:"Sheena Espinoza",fullName:"Remar A Colinayo",orNo:"-",referenceNo:"334905555",remarks:"",status:"Done",transactionType:"Recurring Fee",barangay:"Darangan",transactionId:"TXN002",contactNo:"9536424625",modifiedBy:"Sheena Espinoza",modifiedDate:"9/18/2025 4:33:17 PM",provider:"SWITCH",paymentDate:"9/18/2025 4:33:17 PM",city:"Binangonan",plan:"SwitchLite - P699",accountBalance:0,relatedInvoices:"",created_at:"2025-09-18T20:33:17Z",updated_at:"2025-09-18T20:33:17Z"},{id:"3",dateProcessed:"9/18/2025 4:25:27 PM",accountNo:"202304334",receivedPayment:1e3,paymentMethod:"Gcash",processedBy:"Sheena Espinoza",fullName:"Sharon Ivy A Lobarbio",orNo:"-",referenceNo:"436947078",remarks:"",status:"Done",transactionType:"Recurring Fee",barangay:"San Roque",transactionId:"TXN003",contactNo:"9536424625",modifiedBy:"Sheena Espinoza",modifiedDate:"9/18/2025 4:25:27 PM",provider:"SWITCH",paymentDate:"9/18/2025 4:25:27 PM",city:"Angono",plan:"SwitchConnect - P999",accountBalance:0,relatedInvoices:"",created_at:"2025-09-18T20:25:27Z",updated_at:"2025-09-18T20:25:27Z"}]),console.log("Transactions data loaded successfully")}catch(e){console.error("Error fetching transactions:",e),m("Failed to load transactions: ".concat(e.message||"Unknown error"))}finally{d(!1)}})()},[]);const h=[{id:"all",name:"All",count:i.length}],p=new Set;i.forEach(e=>{var t;const a=null===(t=e.city)||void 0===t?void 0:t.toLowerCase();a&&p.add(a)});Array.from(p).forEach(e=>{e&&h.push({id:e,name:e.charAt(0).toUpperCase()+e.slice(1),count:i.filter(t=>{var a;return(null===(a=t.city)||void 0===a?void 0:a.toLowerCase())===e}).length})});const g=i.filter(t=>{var s;const r=null===(s=t.city)||void 0===s?void 0:s.toLowerCase(),n="all"===e||r===e,l=""===a||t.fullName.toLowerCase().includes(a.toLowerCase())||t.accountNo.toLowerCase().includes(a.toLowerCase())||t.referenceNo.toLowerCase().includes(a.toLowerCase());return n&&l}),y=e=>{let{status:t}=e,a="";switch(t.toLowerCase()){case"done":case"completed":a="text-green-500";break;case"pending":a="text-yellow-500";break;case"processing":a="text-blue-500";break;case"failed":case"cancelled":a="text-red-500";break;default:a="text-gray-400"}return(0,Mt.jsx)("span",{className:"".concat(a," capitalize"),children:t})};return c?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-orange-500 mb-3"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Loading transactions..."})]})}):u?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-md p-6 max-w-lg",children:[(0,Mt.jsx)("h3",{className:"text-red-500 text-lg font-medium mb-2",children:"Error"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-4",children:u}),(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded",children:"Retry"})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Transactions"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:h.map(a=>(0,Mt.jsxs)("button",{onClick:()=>{t(a.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Oa,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat("flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-2",children:"Filter"}),(0,Mt.jsx)($s,{className:"h-4 w-4"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-x-auto overflow-y-auto pb-4",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Date Processed"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Account No."}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Received Payment"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Payment Method"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Processed By"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Full Name"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"OR No."}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Reference No."}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Remarks"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Transaction Type"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Image"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Barangay"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Transaction ID"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Contact No"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Modified By"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Modified Date"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Provider"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Payment Date"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"City"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Plan"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Account Balance"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Related Invoices"})]})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:g.length>0?g.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.dateProcessed}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-red-400 font-medium",children:e.accountNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-white font-medium",children:x(e.receivedPayment)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.paymentMethod}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.processedBy}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.fullName}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.orNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.referenceNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate",children:e.remarks||"No remarks"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Mt.jsx)(y,{status:e.status})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.transactionType}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.image||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.barangay}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.transactionId}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.contactNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.modifiedBy}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.modifiedDate}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.provider}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.paymentDate}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.city}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.plan}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:x(e.accountBalance)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.relatedInvoices||"-"})]},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:23,className:"px-4 py-12 text-center text-gray-400",children:i.length>0?"No transactions found matching your filters":"No transactions found."})})})]})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(Ar,{transaction:n,onClose:()=>l(null)})})]})},Tr=e=>{let{isOpen:t,onClose:a,onSave:s}=e;const[n,l]=(0,r.useState)({transactionId:"20250923092348",accountNo:"",receivedPayment:0,dateProcessed:(new Date).toLocaleString("sv-SE").replace(" "," ")+" am",processedBy:"",paymentMethod:"",referenceNo:"",orNo:"",remarks:"",modifiedBy:"ravenampere0123@gmail.com",modifiedDate:(new Date).toLocaleString("sv-SE").replace(" "," ")+" am",userEmail:"ravenampere0123@gmail.com",status:"Pending",transactionType:"Recurring Fee",paymentDate:(new Date).toLocaleString("sv-SE").replace(" "," ")+" am",city:"All",image:""}),[i,o]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),u=(e,t)=>{l(a=>he(he({},a),{},{[e]:t})),i[e]&&o(t=>he(he({},t),{},{[e]:""}))},m=(e,t)=>{l(a=>{if("receivedPayment"===e)return he(he({},a),{},{[e]:t?a[e]+.01:Math.max(0,a[e]-.01)});{const s=parseInt(a[e])||0,r=t?s+1:Math.max(0,s-1);return he(he({},a),{},{[e]:r.toString()})}})};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pending Slice Form"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return n.accountNo.trim()||(e.accountNo="Account No. is required"),n.processedBy.trim()||(e.processedBy="Processed By is required"),n.paymentMethod.trim()||(e.paymentMethod="Payment Method is required"),o(e),0===Object.keys(e).length})()){d(!0);try{console.log("Saving Pending Slice Form data:",n),s(n),a()}catch(e){console.error("Error saving pending slice form:",e)}finally{d(!1)}}},disabled:c,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:c?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Transaction ID",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"text",value:n.transactionId,onChange:e=>u("transactionId",e.target.value),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none"}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>m("transactionId",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>m("transactionId",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Account No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.accountNo,onChange:e=>u("accountNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.accountNo?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"ACC001",children:"ACC001"}),(0,Mt.jsx)("option",{value:"ACC002",children:"ACC002"}),(0,Mt.jsx)("option",{value:"ACC003",children:"ACC003"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.accountNo&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.accountNo})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Received Payment",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("span",{className:"px-3 text-gray-400",children:"\u20b1"}),(0,Mt.jsx)("input",{type:"number",step:"0.01",min:"0",value:n.receivedPayment,onChange:e=>u("receivedPayment",parseFloat(e.target.value)||0),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"0.00"}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>m("receivedPayment",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>m("receivedPayment",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Date Processed",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:n.dateProcessed,onChange:e=>u("dateProcessed",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Processed By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.processedBy,onChange:e=>u("processedBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.processedBy?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Jane Doe",children:"Jane Doe"}),(0,Mt.jsx)("option",{value:"John Smith",children:"John Smith"}),(0,Mt.jsx)("option",{value:"Mike Johnson",children:"Mike Johnson"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.processedBy&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.processedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Payment Method",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.paymentMethod,onChange:e=>u("paymentMethod",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.paymentMethod?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Cash",children:"Cash"}),(0,Mt.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,Mt.jsx)("option",{value:"GCash",children:"GCash"}),(0,Mt.jsx)("option",{value:"Maya",children:"Maya"}),(0,Mt.jsx)("option",{value:"Credit Card",children:"Credit Card"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.paymentMethod&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.paymentMethod})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Reference No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:n.referenceNo,onChange:e=>u("referenceNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["OR No.",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:n.orNo,onChange:e=>u("orNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),(0,Mt.jsx)("textarea",{value:n.remarks,onChange:e=>u("remarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 resize-none"})]})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",children:n.modifiedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:n.modifiedDate,onChange:e=>u("modifiedDate",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["User Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:n.userEmail,onChange:e=>u("userEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.status,onChange:e=>u("status",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-orange-400 focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"Pending",className:"text-orange-400",children:"Pending"}),(0,Mt.jsx)("option",{value:"Processing",className:"text-blue-400",children:"Processing"}),(0,Mt.jsx)("option",{value:"Completed",className:"text-green-400",children:"Completed"}),(0,Mt.jsx)("option",{value:"Cancelled",className:"text-red-400",children:"Cancelled"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Transaction Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["Recurring Fee","Installation Fee","Security Deposit"].map(e=>(0,Mt.jsx)("button",{type:"button",onClick:()=>u("transactionType",e),className:"px-3 py-2 rounded text-sm transition-colors ".concat(n.transactionType===e?"bg-orange-600 text-white border border-orange-600":"bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700"),children:e},e))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Payment Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:n.paymentDate,onChange:e=>u("paymentDate",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.city,onChange:e=>u("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"All",children:"All"}),(0,Mt.jsx)("option",{value:"Angono",children:"Angono"}),(0,Mt.jsx)("option",{value:"Binangonan",children:"Binangonan"}),(0,Mt.jsx)("option",{value:"Cardona",children:"Cardona"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750 transition-colors",children:[(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)(Nr,{className:"mx-auto text-gray-400 mb-2",size:32}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to upload image"})]}),(0,Mt.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&u("image",a.name)}})]})]})]})]})]})}):null},Dr=()=>{const[e,t]=(0,r.useState)(""),[a]=(0,r.useState)([]),[s,n]=(0,r.useState)(!1);return(0,Mt.jsxs)("div",{className:"bg-gray-900 h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-3 border-b border-gray-700 flex items-center justify-between",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Transactions Pending List"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("button",{onClick:()=>{n(!0)},className:"flex items-center px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded transition-colors",children:[(0,Mt.jsx)(pa,{size:18,className:"mr-2"}),"Add"]}),(0,Mt.jsx)("button",{className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:(0,Mt.jsx)(ga,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:0===a.length?(0,Mt.jsx)("div",{className:"text-center text-gray-400",children:(0,Mt.jsx)("p",{className:"text-lg",children:"No items"})}):(0,Mt.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 bg-gray-800",children:[(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Date"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Amount"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Customer"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Description"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Type"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Status"})]})}),(0,Mt.jsx)("tbody",{children:a.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800 cursor-pointer transition-colors",children:[(0,Mt.jsx)("td",{className:"py-3 px-4 text-white",children:e.date}),(0,Mt.jsxs)("td",{className:"py-3 px-4 text-white",children:["\u20b1",e.amount.toLocaleString("en-US",{minimumFractionDigits:2})]}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white",children:e.customer}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white",children:e.description}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white",children:e.type}),(0,Mt.jsx)("td",{className:"py-3 px-4",children:(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-500 bg-opacity-20 text-yellow-400":"processing"===e.status?"bg-blue-500 bg-opacity-20 text-blue-400":"bg-orange-500 bg-opacity-20 text-orange-400"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id))})]})})})})}),(0,Mt.jsx)(Tr,{isOpen:s,onClose:()=>{n(!1)},onSave:e=>{console.log("Saving transaction:",e),n(!1)}})]})},zr=e=>{let{record:t,onClose:a}=e;const[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),o=e=>"\u20b1".concat(e.toFixed(2)),c=e=>{const t=e.toLowerCase();return"completed"===t||"success"===t||"approved"===t||"paid"===t?"text-green-500":"pending"===t?"text-yellow-500":"processing"===t?"text-blue-500":"failed"===t?"text-red-500":"text-gray-400"};return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Mt.jsx)("h2",{className:"text-white font-medium truncate pr-4",children:"".concat(t.accountNo," | ").concat(t.fullName||"Unknown"," | ").concat(t.provider," Payment")}),s&&(0,Mt.jsx)("div",{className:"ml-3 animate-pulse text-orange-500 text-sm flex-shrink-0",children:"Loading..."})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:a,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),l&&(0,Mt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-700 text-red-400 p-3 m-3 rounded",children:l}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsx)("div",{className:"mx-auto py-4 px-4 bg-gray-950",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Reference No"}),(0,Mt.jsx)("div",{className:"text-white flex-1 font-mono",children:t.referenceNo||"".concat(t.accountNo,"-049b6beb4b39a844f8f95b")})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Account No"}),(0,Mt.jsxs)("div",{className:"text-red-400 flex-1 font-medium flex items-center",children:[t.accountNo," | ",t.fullName||"Unknown"," | 0337 B San Roque St Cervo Cpd, ",t.barangay||"Bilibiran",", ",t.city||"Binangonan",", Rizal",(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contact No"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.contactNo})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Account Balance"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:o(t.accountBalance)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Received Payment"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:o(t.receivedPayment)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Date Time"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.dateTime})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Checkout ID"}),(0,Mt.jsx)("div",{className:"text-white flex-1 font-mono",children:t.checkoutId})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Status"}),(0,Mt.jsx)("div",{className:"flex-1 capitalize font-medium ".concat(c(t.status)),children:t.status})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Transaction Status"}),(0,Mt.jsx)("div",{className:"flex-1 capitalize font-medium ".concat(c(t.transactionStatus)),children:t.transactionStatus})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.provider,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Plan"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.plan||"SwitchNet - P999",(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Name"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.fullName||"Unknown"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.barangay||"Bilibiran",(0,Mt.jsx)("button",{className:"ml-2 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"City"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.city||"Binangonan"})]})]})}),(0,Mt.jsx)("div",{className:"mx-auto px-4 bg-gray-950 mt-4",children:(0,Mt.jsxs)("div",{className:"border-t border-gray-800 pt-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Mt.jsx)("h3",{className:"text-white font-medium",children:"Related Invoices"}),(0,Mt.jsx)("span",{className:"ml-2 bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"1"})]}),(0,Mt.jsx)("div",{className:"overflow-x-scroll overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:[(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Invoice Status"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Invoice Date"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Due Date"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Total Amount"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Invoice Payment"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Account No."}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Invoice No."}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-40 whitespace-nowrap",children:"Full Name"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-36 whitespace-nowrap",children:"Contact Number"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-48 whitespace-nowrap",children:"Email Address"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-56 whitespace-nowrap",children:"Address"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-40 whitespace-nowrap",children:"Plan"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Provider"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Remarks"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Invoice Balance"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-48 whitespace-nowrap",children:"Others and Basic Charges"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-36 whitespace-nowrap",children:"Date Processed"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Processed By"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-36 whitespace-nowrap",children:"Payment Method"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Reference"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-40 whitespace-nowrap",children:"Reference No."}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"OR No."}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-32 whitespace-nowrap",children:"Modified By"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-40 whitespace-nowrap",children:"Modified Date"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-40 whitespace-nowrap",children:"Transaction ID"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"Barangay"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-28 whitespace-nowrap",children:"City"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-56 whitespace-nowrap",children:"Related Staggered Payments"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal border-r border-gray-700 bg-gray-800 min-w-56 whitespace-nowrap",children:"Related Collection Requests"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 min-w-48 whitespace-nowrap",children:"Related DC Notices"})]})}),(0,Mt.jsx)("tbody",{children:(0,Mt.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-900",children:[(0,Mt.jsx)("td",{className:"py-4 px-3 border-r border-gray-800 whitespace-nowrap",children:(0,Mt.jsx)("span",{className:"text-green-500 font-medium",children:"Paid"})}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"8/18/2025"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"8/30/2025"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:o(999)}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:o(999)}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-red-400 border-r border-gray-800 whitespace-nowrap",children:t.accountNo}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"INV-001"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.fullName||"Leopoldo III G De Jesus"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.contactNo}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"customer@email.com"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"0337 B San Roque St Cervo Cpd"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.plan||"SwitchNet - P999"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.provider}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"-"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:o(0)}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:o(999)}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"8/18/2025"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"System"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"Online"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.referenceNo}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white font-mono border-r border-gray-800 whitespace-nowrap",children:t.referenceNo}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"OR-001"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"Admin"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:"8/18/2025 9:14:13 PM"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white font-mono border-r border-gray-800 whitespace-nowrap",children:t.checkoutId}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.barangay||"Bilibiran"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-white border-r border-gray-800 whitespace-nowrap",children:t.city||"Binangonan"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-gray-400 border-r border-gray-800 whitespace-nowrap",children:"-"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-gray-400 border-r border-gray-800 whitespace-nowrap",children:"-"}),(0,Mt.jsx)("td",{className:"py-4 px-3 text-gray-400 whitespace-nowrap",children:"-"})]})})]})}),(0,Mt.jsx)("div",{className:"flex justify-end mt-4 mb-6",children:(0,Mt.jsx)("button",{className:"text-orange-500 hover:text-orange-400 text-sm font-medium",children:"Expand"})})]})})]})]})},Ir=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),x=e=>"\u20b1".concat(e.toFixed(2));(0,r.useEffect)(()=>{(async()=>{try{d(!0),console.log("Fetching payment portal records..."),await new Promise(e=>setTimeout(e,500));o([{id:"1",dateTime:"9/18/2025 4:33:57 PM",accountNo:"202306310",receivedPayment:999,status:"Completed",referenceNo:"439769168",contactNo:"9673080816",accountBalance:0,checkoutId:"CHK001",transactionStatus:"Success",provider:"GCash",paymentMethod:"E-Wallet",fullName:"Jocelyn H Roncales",city:"Binangonan",created_at:"2025-09-18T20:33:57Z",updated_at:"2025-09-18T20:33:57Z"},{id:"2",dateTime:"9/18/2025 4:33:17 PM",accountNo:"202307326",receivedPayment:999,status:"Completed",referenceNo:"334905555",contactNo:"9536424625",accountBalance:0,checkoutId:"CHK002",transactionStatus:"Success",provider:"PayMaya",paymentMethod:"E-Wallet",fullName:"Remar A Colinayo",city:"Binangonan",created_at:"2025-09-18T20:33:17Z",updated_at:"2025-09-18T20:33:17Z"},{id:"3",dateTime:"9/18/2025 4:25:27 PM",accountNo:"202304334",receivedPayment:1e3,status:"Pending",referenceNo:"436947078",contactNo:"9536424625",accountBalance:1e3,checkoutId:"CHK003",transactionStatus:"Processing",provider:"BankTransfer",paymentMethod:"Bank Transfer",fullName:"Sharon Ivy A Lobarbio",city:"Angono",created_at:"2025-09-18T20:25:27Z",updated_at:"2025-09-18T20:25:27Z"}]),console.log("Payment portal records loaded successfully")}catch(e){console.error("Error fetching payment portal records:",e),m("Failed to load payment portal records: ".concat(e.message||"Unknown error"))}finally{d(!1)}})()},[]);const h=[{id:"all",name:"All",count:i.length}],p=new Set;i.forEach(e=>{var t;const a=null===(t=e.city)||void 0===t?void 0:t.toLowerCase();a&&p.add(a)});Array.from(p).forEach(e=>{e&&h.push({id:e,name:e.charAt(0).toUpperCase()+e.slice(1),count:i.filter(t=>{var a;return(null===(a=t.city)||void 0===a?void 0:a.toLowerCase())===e}).length})});const g=i.filter(t=>{var s,r;const n=null===(s=t.city)||void 0===s?void 0:s.toLowerCase(),l="all"===e||n===e,i=""===a||(null===(r=t.fullName)||void 0===r?void 0:r.toLowerCase().includes(a.toLowerCase()))||t.accountNo.toLowerCase().includes(a.toLowerCase())||t.referenceNo.toLowerCase().includes(a.toLowerCase());return l&&i}),y=e=>{let{status:t}=e,a="";switch(t.toLowerCase()){case"completed":case"success":a="text-green-500";break;case"pending":case"processing":a="text-yellow-500";break;case"failed":case"cancelled":a="text-red-500";break;default:a="text-gray-400"}return(0,Mt.jsx)("span",{className:"".concat(a," capitalize"),children:t})};return c?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-orange-500 mb-3"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Loading payment portal records..."})]})}):u?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-md p-6 max-w-lg",children:[(0,Mt.jsx)("h3",{className:"text-red-500 text-lg font-medium mb-2",children:"Error"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-4",children:u}),(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded",children:"Retry"})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Payment Portal"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:h.map(a=>(0,Mt.jsxs)("button",{onClick:()=>{t(a.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(as,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat("flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search payment portal records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-2",children:"Filter"}),(0,Mt.jsx)($s,{className:"h-4 w-4"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-x-auto overflow-y-auto pb-4",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Date Time"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Account No"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Received Payment"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Reference No"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Contact No"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Account Balance"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Checkout ID"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Transaction Status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Provider"})]})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:g.length>0?g.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.dateTime}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-red-400 font-medium",children:e.accountNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-white font-medium",children:x(e.receivedPayment)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Mt.jsx)(y,{status:e.status})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.referenceNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.contactNo}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:x(e.accountBalance)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.checkoutId}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Mt.jsx)(y,{status:e.transactionStatus})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.provider})]},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:10,className:"px-4 py-12 text-center text-gray-400",children:i.length>0?"No payment portal records found matching your filters":"No payment portal records found."})})})]})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(zr,{record:n,onClose:()=>l(null)})})]})},Rr=e=>{let{isOpen:t,onClose:a,onSave:s,jobOrderData:n}=e;const l=(()=>{try{const e=localStorage.getItem("authData");if(e)return JSON.parse(e)}catch(e){console.error("Error getting current user:",e)}return null})(),i=(null===l||void 0===l?void 0:l.email)||"unknown@ampere.com",[o,c]=(0,r.useState)({referredBy:"",dateInstalled:"",usageType:"",firstName:"",middleInitial:"",lastName:"",contactNumber:"",secondContactNumber:"",email:"",address:"",barangay:"",city:"",region:"",addressCoordinates:"",choosePlan:"",status:"Confirmed",connectionType:"",routerModel:"",modemSN:"",provider:"",lcp:"",nap:"",port:"",vlan:"",username:"",onsiteStatus:"In Progress",onsiteRemarks:"",signedContractImage:null,setupImage:null,boxReadingImage:null,routerReadingImage:null,clientSignature:null,modifiedBy:i,modifiedDate:(new Date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),contractLink:"",contractTemplate:"1",assignedEmail:"Office",itemName1:"",visitBy:"",visitWith:"",visitWithOther:"",statusRemarks:""}),[d,u]=(0,r.useState)({}),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(n&&t){console.log("JobOrderDoneFormModal - Received jobOrderData:",n);const e=n.Status||n.status||"Confirmed",t=n.Onsite_Status||n.onsite_status||"In Progress";c(a=>he(he({},a),{},{referredBy:n.Referred_By||n.referred_by||"",dateInstalled:n.Date_Installed||n.date_installed||"",usageType:n.Usage_Type||n.usage_type||"",firstName:n.First_Name||n.first_name||"",middleInitial:n.Middle_Initial||n.middle_initial||"",lastName:n.Last_Name||n.last_name||"",contactNumber:n.Mobile_Number||n.Contact_Number||n.mobile_number||n.contact_number||"",secondContactNumber:n.Secondary_Mobile_Number||n.second_contact_number||"",email:n.Email_Address||n.Applicant_Email_Address||n.email_address||n.email||"",address:n.Address||n.Installation_Address||n.address||n.installation_address||"",barangay:n.Barangay||n.barangay||"",city:n.City||n.city||"",region:n.Region||n.region||"",addressCoordinates:n.Address_Coordinates||n.address_coordinates||"",choosePlan:n.Desired_Plan||n.desired_plan||n.Choose_Plan||n.choose_plan||n.plan||"",status:e,connectionType:n.Connection_Type||n.connection_type||"",routerModel:n.Router_Model||n.router_model||"",modemSN:n.Modem_SN||n.modem_sn||"",provider:n.Provider||n.provider||"",lcp:n.LCP||n.lcp||"",nap:n.NAP||n.nap||"",port:n.PORT||n.port||"",vlan:n.VLAN||n.vlan||"",username:n.Username||n.username||"",onsiteStatus:t,onsiteRemarks:n.Onsite_Remarks||n.onsite_remarks||"",contractLink:n.Contract_Link||n.contract_link||"",contractTemplate:(n.Contract_Template||n.contract_template||"1").toString(),assignedEmail:n.Assigned_Email||n.assigned_email||"Office",itemName1:n.Item_Name_1||n.item_name_1||"",visitBy:n.Visit_By||n.visit_by||"",visitWith:n.Visit_With||n.visit_with||"",visitWithOther:n.Visit_With_Other||n.visit_with_other||"",statusRemarks:n.Status_Remarks||n.status_remarks||""}))}},[n,t]);const h=(e,t)=>{c(a=>he(he({},a),{},{[e]:t})),d[e]&&u(t=>he(he({},t),{},{[e]:""}))},p=(e,t)=>{c(a=>he(he({},a),{},{[e]:t})),d[e]&&u(t=>he(he({},t),{},{[e]:""}))},g=(e,t)=>{c(a=>{const s=parseInt(a[e])||1,r=t?s+1:Math.max(1,s-1);return he(he({},a),{},{[e]:r.toString()})})};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Qt,{size:24})}),(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white",children:[o.firstName," ",o.middleInitial," ",o.lastName]})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,className:"px-4 py-2 border border-orange-600 text-orange-600 hover:bg-orange-600 hover:text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{const e=he(he({},o),{},{modifiedBy:i,modifiedDate:(new Date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})});if(c(e),(()=>{const e={};return o.firstName.trim()||(e.firstName="First Name is required"),o.lastName.trim()||(e.lastName="Last Name is required"),o.contactNumber.trim()||(e.contactNumber="Contact Number is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",o.address.trim()||(e.address="Address is required"),o.barangay.trim()||(e.barangay="Barangay is required"),o.city.trim()||(e.city="City is required"),o.region.trim()||(e.region="Region is required"),o.choosePlan.trim()||(e.choosePlan="Choose Plan is required"),o.status.trim()||(e.status="Status is required"),o.provider.trim()||(e.provider="Provider is required"),o.username.trim()||(e.username="Username is required"),"Confirmed"===o.status&&(o.onsiteStatus.trim()||(e.onsiteStatus="Onsite Status is required"),"Done"===o.onsiteStatus&&(o.dateInstalled.trim()||(e.dateInstalled="Date Installed is required"),o.usageType.trim()||(e.usageType="Usage Type is required"),o.addressCoordinates.trim()||(e.addressCoordinates="Address Coordinates is required"),o.connectionType.trim()||(e.connectionType="Connection Type is required"),o.routerModel.trim()||(e.routerModel="Router Model is required"),o.modemSN.trim()||(e.modemSN="Modem SN is required"),o.lcp.trim()||(e.lcp="LCP is required"),o.nap.trim()||(e.nap="NAP is required"),o.port.trim()||(e.port="PORT is required"),o.vlan.trim()||(e.vlan="VLAN is required"),o.onsiteRemarks.trim()||(e.onsiteRemarks="Onsite Remarks is required"),o.signedContractImage||(e.signedContractImage="Signed Contract Image is required"),o.setupImage||(e.setupImage="Setup Image is required"),o.boxReadingImage||(e.boxReadingImage="Box Reading Image is required"),o.routerReadingImage||(e.routerReadingImage="Router Reading Image is required"),o.clientSignature||(e.clientSignature="Client Signature is required"),o.itemName1.trim()||(e.itemName1="Item Name 1 is required"),o.visitBy.trim()||(e.visitBy="Visit By is required"),o.visitWith.trim()||(e.visitWith="Visit With is required"),o.visitWithOther.trim()||(e.visitWithOther="Visit With(Other) is required")),"Reschedule"===o.onsiteStatus&&(o.visitBy.trim()||(e.visitBy="Visit By is required"),o.visitWith.trim()||(e.visitWith="Visit With is required"),o.visitWithOther.trim()||(e.visitWithOther="Visit With(Other) is required"),o.onsiteRemarks.trim()||(e.onsiteRemarks="Onsite Remarks is required"),o.statusRemarks.trim()||(e.statusRemarks="Status Remarks is required"))),o.contractTemplate.trim()||(e.contractTemplate="Contract Template is required"),o.assignedEmail.trim()||(e.assignedEmail="Assigned Email is required"),u(e),0===Object.keys(e).length})())if(null!==n&&void 0!==n&&n.id||null!==n&&void 0!==n&&n.JobOrder_ID){x(!0);try{const t=n.id||n.JobOrder_ID,r=n.Application_ID||n.application_id,l={Referred_By:e.referredBy,First_Name:e.firstName,Middle_Initial:e.middleInitial,Last_Name:e.lastName,Contact_Number:e.contactNumber,Secondary_Mobile_Number:e.secondContactNumber,Email_Address:e.email,Address:e.address,Barangay:e.barangay,City:e.city,Region:e.region,Choose_Plan:e.choosePlan,Status:e.status,Provider:e.provider,Username:e.username,Onsite_Status:e.onsiteStatus,Modified_By:e.modifiedBy,Modified_Date:e.modifiedDate,Contract_Link:e.contractLink,Contract_Template:e.contractTemplate,Assigned_Email:e.assignedEmail};"Confirmed"===e.status&&("Done"===e.onsiteStatus&&(l.Date_Installed=e.dateInstalled,l.Usage_Type=e.usageType,l.Address_Coordinates=e.addressCoordinates,l.Connection_Type=e.connectionType,l.Router_Model=e.routerModel,l.Modem_SN=e.modemSN,l.LCP=e.lcp,l.NAP=e.nap,l.PORT=e.port,l.VLAN=e.vlan,l.Onsite_Remarks=e.onsiteRemarks,l.Item_Name_1=e.itemName1,l.Visit_By=e.visitBy,l.Visit_With=e.visitWith,l.Visit_With_Other=e.visitWithOther),"Reschedule"===e.onsiteStatus&&(l.Visit_By=e.visitBy,l.Visit_With=e.visitWith,l.Visit_With_Other=e.visitWithOther,l.Onsite_Remarks=e.onsiteRemarks,l.Status_Remarks=e.statusRemarks)),console.log("Updating job order with ID:",t),console.log("Job order update data:",l);const i=await Qs(t,l);if(!i.success)throw new Error(i.message||"Job order update failed");if(console.log("Job order updated successfully:",i),r){const t={first_name:e.firstName,middle_initial:e.middleInitial,last_name:e.lastName,mobile_number:e.contactNumber,secondary_mobile_number:e.secondContactNumber,email_address:e.email,installation_address:e.address,barangay:e.barangay,city:e.city,region:e.region,desired_plan:e.choosePlan,referred_by:e.referredBy,status:e.status};console.log("Updating application with ID:",r),console.log("Application update data:",t);const a=await Js(r,t);console.log("Application updated successfully:",a)}else console.warn("No Application_ID found, skipping application table update");alert("Job Order and Application updated successfully!"),u({}),s(e),a()}catch(l){var t,r;console.error("Error updating records:",l);const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||l.message||"Unknown error occurred";alert("Failed to update records: ".concat(e))}finally{x(!1)}}else alert("Cannot update job order: Missing ID");else alert("Please fill in all required fields before saving.")},disabled:m,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white rounded text-sm",children:m?"Saving...":"Save"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Referred By"}),(0,Mt.jsx)("input",{type:"text",value:o.referredBy,onChange:e=>h("referredBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Date Installed",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"date",value:o.dateInstalled,onChange:e=>h("dateInstalled",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.dateInstalled?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.dateInstalled&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Usage Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.usageType,onChange:e=>h("usageType",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.usageType?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Residential",children:"Residential"}),(0,Mt.jsx)("option",{value:"Commercial",children:"Commercial"}),(0,Mt.jsx)("option",{value:"Corporate",children:"Corporate"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.usageType&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["First Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.firstName,onChange:e=>h("firstName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.firstName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.firstName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.firstName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Middle Initial"}),(0,Mt.jsx)("input",{type:"text",value:o.middleInitial,onChange:e=>h("middleInitial",e.target.value),maxLength:1,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Last Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.lastName,onChange:e=>h("lastName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lastName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.lastName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.lastName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contact Number",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.contactNumber,onChange:e=>h("contactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.contactNumber?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.contactNumber&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contactNumber})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Second Contact Number"}),(0,Mt.jsx)("input",{type:"text",value:o.secondContactNumber,onChange:e=>h("secondContactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Applicant Email Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.email,onChange:e=>h("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.email?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.email&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.address,onChange:e=>h("address",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.address?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.address&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.barangay,onChange:e=>h("barangay",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.barangay?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Barangay"}),(0,Mt.jsx)("option",{value:"Pantok",children:"Pantok"}),(0,Mt.jsx)("option",{value:"San Isidro",children:"San Isidro"}),(0,Mt.jsx)("option",{value:"Almanza Dos",children:"Almanza Dos"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.barangay&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.barangay})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["City",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.city,onChange:e=>h("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.city?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.city&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.city})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.region,onChange:e=>h("region",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.region?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.region&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.region})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address Coordinates",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:o.addressCoordinates,onChange:e=>h("addressCoordinates",e.target.value),placeholder:"14.466580, 121.201807",className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.addressCoordinates?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 pr-10")}),(0,Mt.jsx)(Ra,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.addressCoordinates&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Choose Plan",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.choosePlan,onChange:e=>h("choosePlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.choosePlan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Plan"}),o.choosePlan&&!["SwitchNet - P999","SwitchNet - P1299","SwitchNet - P1599"].includes(o.choosePlan)&&(0,Mt.jsx)("option",{value:o.choosePlan,children:o.choosePlan}),(0,Mt.jsx)("option",{value:"SwitchNet - P999",children:"SwitchNet - P999"}),(0,Mt.jsx)("option",{value:"SwitchNet - P1299",children:"SwitchNet - P1299"}),(0,Mt.jsx)("option",{value:"SwitchNet - P1599",children:"SwitchNet - P1599"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.choosePlan&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.choosePlan})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.status,onChange:e=>h("status",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.status?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,Mt.jsx)("option",{value:"For Confirmation",children:"For Confirmation"}),(0,Mt.jsx)("option",{value:"Cancelled",children:"Cancelled"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.status&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.status})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Connection Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Antenna"),className:"py-2 px-4 rounded border ".concat("Antenna"===o.connectionType?"bg-gray-700 border-gray-600":"bg-gray-800 border-gray-700"),children:"Antenna"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Fiber"),className:"py-2 px-4 rounded border ".concat("Fiber"===o.connectionType?"bg-red-600 border-red-700":"bg-gray-800 border-gray-700"),children:"Fiber"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Local"),className:"py-2 px-4 rounded border ".concat("Local"===o.connectionType?"bg-gray-700 border-gray-600":"bg-gray-800 border-gray-700"),children:"Local"})]}),d.connectionType&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Router Model",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.routerModel,onChange:e=>h("routerModel",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.routerModel?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Model A",children:"Model A"}),(0,Mt.jsx)("option",{value:"Model B",children:"Model B"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.routerModel&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modem SN",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.modemSN,onChange:e=>h("modemSN",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.modemSN?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.modemSN&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Provider",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.provider,onChange:e=>h("provider",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.provider?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Provider"}),(0,Mt.jsx)("option",{value:"SWITCH",children:"SWITCH"}),(0,Mt.jsx)("option",{value:"Provider 2",children:"Provider 2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.provider&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.provider})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["LCP",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.lcp,onChange:e=>h("lcp",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lcp?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"LCP1",children:"LCP1"}),(0,Mt.jsx)("option",{value:"LCP2",children:"LCP2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.lcp&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["NAP",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.nap,onChange:e=>h("nap",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.nap?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"NAP1",children:"NAP1"}),(0,Mt.jsx)("option",{value:"NAP2",children:"NAP2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.nap&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["PORT",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.port,onChange:e=>h("port",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.port?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Port1",children:"Port1"}),(0,Mt.jsx)("option",{value:"Port2",children:"Port2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.port&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["VLAN",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.vlan,onChange:e=>h("vlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.vlan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"VLAN10",children:"VLAN10"}),(0,Mt.jsx)("option",{value:"VLAN20",children:"VLAN20"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.vlan&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Username",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.username,onChange:e=>h("username",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.username?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.username&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.username})]}),"Confirmed"===o.status&&("Done"===o.onsiteStatus||"Reschedule"===o.onsiteStatus)&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitBy,onChange:e=>h("visitBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitBy?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Technician 1",children:"Technician 1"}),(0,Mt.jsx)("option",{value:"Technician 2",children:"Technician 2"}),(0,Mt.jsx)("option",{value:"Office",children:"Office"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitBy&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit With",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitWith,onChange:e=>h("visitWith",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitWith?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Technician 1",children:"Technician 1"}),(0,Mt.jsx)("option",{value:"Technician 2",children:"Technician 2"}),(0,Mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitWith&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit With(Other)",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitWithOther,onChange:e=>h("visitWithOther",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitWithOther?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Support Staff",children:"Support Staff"}),(0,Mt.jsx)("option",{value:"Supervisor",children:"Supervisor"}),(0,Mt.jsx)("option",{value:"Manager",children:"Manager"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitWithOther&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),"Confirmed"===o.status&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Onsite Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.onsiteStatus,onChange:e=>h("onsiteStatus",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.onsiteStatus?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Mt.jsx)("option",{value:"Done",children:"Done"}),(0,Mt.jsx)("option",{value:"Failed",children:"Failed"}),(0,Mt.jsx)("option",{value:"Reschedule",children:"Reschedule"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.onsiteStatus&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.onsiteStatus})]}),("Reschedule"===o.onsiteStatus||"Done"===o.onsiteStatus)&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Onsite Remarks",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("textarea",{value:o.onsiteRemarks,onChange:e=>h("onsiteRemarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.onsiteRemarks?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 resize-none")}),d.onsiteRemarks&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Signed Contract Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("signedContractImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.signedContractImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.signedContractImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Setup Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("setupImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.setupImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.setupImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Box Reading Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("boxReadingImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.boxReadingImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.boxReadingImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Router Reading Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("routerReadingImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.routerReadingImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.routerReadingImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Client Signature",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"w-full h-40 bg-gray-800 border border-gray-700 rounded flex items-center justify-center",children:(0,Mt.jsx)("span",{className:"text-gray-400",children:"Signature canvas placeholder"})}),d.clientSignature&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.modifiedBy,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:o.modifiedDate,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed pr-10"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contract Link"}),(0,Mt.jsx)("input",{type:"text",value:o.contractLink,onChange:e=>h("contractLink",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contract Template",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"number",value:o.contractTemplate,onChange:e=>h("contractTemplate",e.target.value),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none"}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>g("contractTemplate",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>g("contractTemplate",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]}),d.contractTemplate&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contractTemplate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Assigned Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.assignedEmail,onChange:e=>h("assignedEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.assignedEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"Office",children:"Office"}),(0,Mt.jsx)("option",{value:"Technical",children:"Technical"}),(0,Mt.jsx)("option",{value:"Billing",children:"Billing"}),(0,Mt.jsx)("option",{value:"Support",children:"Support"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.assignedEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.assignedEmail})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Item Name 1",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.itemName1,onChange:e=>h("itemName1",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.itemName1?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Router",children:"Router"}),(0,Mt.jsx)("option",{value:"Modem",children:"Modem"}),(0,Mt.jsx)("option",{value:"Cable",children:"Cable"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.itemName1&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),"Confirmed"===o.status&&"Reschedule"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status Remarks",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.statusRemarks,onChange:e=>h("statusRemarks",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.statusRemarks?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Customer Request",children:"Customer Request"}),(0,Mt.jsx)("option",{value:"Bad Weather",children:"Bad Weather"}),(0,Mt.jsx)("option",{value:"Technician Unavailable",children:"Technician Unavailable"}),(0,Mt.jsx)("option",{value:"Equipment Issue",children:"Equipment Issue"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.statusRemarks&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]})]})}):null},Mr=e=>{let{isOpen:t,onClose:a,onSave:s,jobOrderData:n}=e;const l=(()=>{try{const e=localStorage.getItem("authData");if(e)return JSON.parse(e)}catch(e){console.error("Error getting current user:",e)}return null})(),i=(null===l||void 0===l?void 0:l.email)||"unknown@ampere.com",[o,c]=(0,r.useState)({referredBy:"",dateInstalled:"",usageType:"",firstName:"",middleInitial:"",lastName:"",contactNumber:"",secondContactNumber:"",email:"",address:"",barangay:"",city:"",region:"",addressCoordinates:"",choosePlan:"",status:"Confirmed",connectionType:"",routerModel:"",modemSN:"",provider:"",lcp:"",nap:"",port:"",vlan:"",username:"",onsiteStatus:"In Progress",onsiteRemarks:"",signedContractImage:null,setupImage:null,boxReadingImage:null,routerReadingImage:null,clientSignature:null,modifiedBy:i,modifiedDate:(new Date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),contractLink:"",contractTemplate:"1",assignedEmail:"Office",itemName1:"",visitBy:"",visitWith:"",visitWithOther:"",statusRemarks:""}),[d,u]=(0,r.useState)({}),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(n&&t){console.log("JobOrderEditFormModal - Received jobOrderData:",n);const e=n.Status||n.status||"Confirmed",t=n.Onsite_Status||n.onsite_status||"In Progress";c(a=>he(he({},a),{},{referredBy:n.Referred_By||n.referred_by||"",dateInstalled:n.Date_Installed||n.date_installed||"",usageType:n.Usage_Type||n.usage_type||"",firstName:n.First_Name||n.first_name||"",middleInitial:n.Middle_Initial||n.middle_initial||"",lastName:n.Last_Name||n.last_name||"",contactNumber:n.Mobile_Number||n.Contact_Number||n.mobile_number||n.contact_number||"",secondContactNumber:n.Secondary_Mobile_Number||n.second_contact_number||"",email:n.Email_Address||n.Applicant_Email_Address||n.email_address||n.email||"",address:n.Address||n.Installation_Address||n.address||n.installation_address||"",barangay:n.Barangay||n.barangay||"",city:n.City||n.city||"",region:n.Region||n.region||"",addressCoordinates:n.Address_Coordinates||n.address_coordinates||"",choosePlan:n.Desired_Plan||n.desired_plan||n.Choose_Plan||n.choose_plan||n.plan||"",status:e,connectionType:n.Connection_Type||n.connection_type||"",routerModel:n.Router_Model||n.router_model||"",modemSN:n.Modem_SN||n.modem_sn||"",provider:n.Provider||n.provider||"",lcp:n.LCP||n.lcp||"",nap:n.NAP||n.nap||"",port:n.PORT||n.port||"",vlan:n.VLAN||n.vlan||"",username:n.Username||n.username||"",onsiteStatus:t,onsiteRemarks:n.Onsite_Remarks||n.onsite_remarks||"",contractLink:n.Contract_Link||n.contract_link||"",contractTemplate:(n.Contract_Template||n.contract_template||"1").toString(),assignedEmail:n.Assigned_Email||n.assigned_email||"Office",itemName1:n.Item_Name_1||n.item_name_1||"",visitBy:n.Visit_By||n.visit_by||"",visitWith:n.Visit_With||n.visit_with||"",visitWithOther:n.Visit_With_Other||n.visit_with_other||"",statusRemarks:n.Status_Remarks||n.status_remarks||""}))}},[n,t]);const h=(e,t)=>{c(a=>he(he({},a),{},{[e]:t})),d[e]&&u(t=>he(he({},t),{},{[e]:""}))},p=(e,t)=>{c(a=>he(he({},a),{},{[e]:t})),d[e]&&u(t=>he(he({},t),{},{[e]:""}))},g=(e,t)=>{c(a=>{const s=parseInt(a[e])||1,r=t?s+1:Math.max(1,s-1);return he(he({},a),{},{[e]:r.toString()})})};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Qt,{size:24})}),(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white",children:[o.firstName," ",o.middleInitial," ",o.lastName]})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,className:"px-4 py-2 border border-orange-600 text-orange-600 hover:bg-orange-600 hover:text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{const e=he(he({},o),{},{modifiedBy:i,modifiedDate:(new Date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})});if(c(e),(()=>{const e={};return o.firstName.trim()||(e.firstName="First Name is required"),o.lastName.trim()||(e.lastName="Last Name is required"),o.contactNumber.trim()||(e.contactNumber="Contact Number is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",o.address.trim()||(e.address="Address is required"),o.barangay.trim()||(e.barangay="Barangay is required"),o.city.trim()||(e.city="City is required"),o.region.trim()||(e.region="Region is required"),o.choosePlan.trim()||(e.choosePlan="Choose Plan is required"),o.status.trim()||(e.status="Status is required"),o.provider.trim()||(e.provider="Provider is required"),o.username.trim()||(e.username="Username is required"),"Confirmed"===o.status&&(o.onsiteStatus.trim()||(e.onsiteStatus="Onsite Status is required"),"Done"===o.onsiteStatus&&(o.dateInstalled.trim()||(e.dateInstalled="Date Installed is required"),o.usageType.trim()||(e.usageType="Usage Type is required"),o.addressCoordinates.trim()||(e.addressCoordinates="Address Coordinates is required"),o.connectionType.trim()||(e.connectionType="Connection Type is required"),o.routerModel.trim()||(e.routerModel="Router Model is required"),o.modemSN.trim()||(e.modemSN="Modem SN is required"),o.lcp.trim()||(e.lcp="LCP is required"),o.nap.trim()||(e.nap="NAP is required"),o.port.trim()||(e.port="PORT is required"),o.vlan.trim()||(e.vlan="VLAN is required"),o.onsiteRemarks.trim()||(e.onsiteRemarks="Onsite Remarks is required"),o.signedContractImage||(e.signedContractImage="Signed Contract Image is required"),o.setupImage||(e.setupImage="Setup Image is required"),o.boxReadingImage||(e.boxReadingImage="Box Reading Image is required"),o.routerReadingImage||(e.routerReadingImage="Router Reading Image is required"),o.clientSignature||(e.clientSignature="Client Signature is required"),o.itemName1.trim()||(e.itemName1="Item Name 1 is required"),o.visitBy.trim()||(e.visitBy="Visit By is required"),o.visitWith.trim()||(e.visitWith="Visit With is required"),o.visitWithOther.trim()||(e.visitWithOther="Visit With(Other) is required")),"Reschedule"===o.onsiteStatus&&(o.visitBy.trim()||(e.visitBy="Visit By is required"),o.visitWith.trim()||(e.visitWith="Visit With is required"),o.visitWithOther.trim()||(e.visitWithOther="Visit With(Other) is required"),o.onsiteRemarks.trim()||(e.onsiteRemarks="Onsite Remarks is required"),o.statusRemarks.trim()||(e.statusRemarks="Status Remarks is required"))),o.contractTemplate.trim()||(e.contractTemplate="Contract Template is required"),o.assignedEmail.trim()||(e.assignedEmail="Assigned Email is required"),u(e),0===Object.keys(e).length})())if(null!==n&&void 0!==n&&n.id||null!==n&&void 0!==n&&n.JobOrder_ID){x(!0);try{const t=n.id||n.JobOrder_ID,r=n.Application_ID||n.application_id,l={Referred_By:e.referredBy,First_Name:e.firstName,Middle_Initial:e.middleInitial,Last_Name:e.lastName,Contact_Number:e.contactNumber,Secondary_Mobile_Number:e.secondContactNumber,Email_Address:e.email,Address:e.address,Barangay:e.barangay,City:e.city,Region:e.region,Choose_Plan:e.choosePlan,Status:e.status,Provider:e.provider,Username:e.username,Onsite_Status:e.onsiteStatus,Modified_By:e.modifiedBy,Modified_Date:e.modifiedDate,Contract_Link:e.contractLink,Contract_Template:e.contractTemplate,Assigned_Email:e.assignedEmail};"Confirmed"===e.status&&("Done"===e.onsiteStatus&&(l.Date_Installed=e.dateInstalled,l.Usage_Type=e.usageType,l.Address_Coordinates=e.addressCoordinates,l.Connection_Type=e.connectionType,l.Router_Model=e.routerModel,l.Modem_SN=e.modemSN,l.LCP=e.lcp,l.NAP=e.nap,l.PORT=e.port,l.VLAN=e.vlan,l.Onsite_Remarks=e.onsiteRemarks,l.Item_Name_1=e.itemName1,l.Visit_By=e.visitBy,l.Visit_With=e.visitWith,l.Visit_With_Other=e.visitWithOther),"Reschedule"===e.onsiteStatus&&(l.Visit_By=e.visitBy,l.Visit_With=e.visitWith,l.Visit_With_Other=e.visitWithOther,l.Onsite_Remarks=e.onsiteRemarks,l.Status_Remarks=e.statusRemarks)),console.log("Updating job order with ID:",t),console.log("Job order update data:",l);const i=await Qs(t,l);if(!i.success)throw new Error(i.message||"Job order update failed");if(console.log("Job order updated successfully:",i),r){const t={first_name:e.firstName,middle_initial:e.middleInitial,last_name:e.lastName,mobile_number:e.contactNumber,secondary_mobile_number:e.secondContactNumber,email_address:e.email,installation_address:e.address,barangay:e.barangay,city:e.city,region:e.region,desired_plan:e.choosePlan,referred_by:e.referredBy,status:e.status};console.log("Updating application with ID:",r),console.log("Application update data:",t);const a=await Js(r,t);console.log("Application updated successfully:",a)}else console.warn("No Application_ID found, skipping application table update");alert("Job Order and Application updated successfully!"),u({}),s(e),a()}catch(l){var t,r;console.error("Error updating records:",l);const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||l.message||"Unknown error occurred";alert("Failed to update records: ".concat(e))}finally{x(!1)}}else alert("Cannot update job order: Missing ID");else alert("Please fill in all required fields before saving.")},disabled:m,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white rounded text-sm",children:m?"Saving...":"Save"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Referred By"}),(0,Mt.jsx)("input",{type:"text",value:o.referredBy,onChange:e=>h("referredBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Date Installed",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"date",value:o.dateInstalled,onChange:e=>h("dateInstalled",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.dateInstalled?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.dateInstalled&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Usage Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.usageType,onChange:e=>h("usageType",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.usageType?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Residential",children:"Residential"}),(0,Mt.jsx)("option",{value:"Commercial",children:"Commercial"}),(0,Mt.jsx)("option",{value:"Corporate",children:"Corporate"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.usageType&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["First Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.firstName,onChange:e=>h("firstName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.firstName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.firstName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.firstName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Middle Initial"}),(0,Mt.jsx)("input",{type:"text",value:o.middleInitial,onChange:e=>h("middleInitial",e.target.value),maxLength:1,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Last Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.lastName,onChange:e=>h("lastName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lastName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.lastName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.lastName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contact Number",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.contactNumber,onChange:e=>h("contactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.contactNumber?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.contactNumber&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contactNumber})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Second Contact Number"}),(0,Mt.jsx)("input",{type:"text",value:o.secondContactNumber,onChange:e=>h("secondContactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Applicant Email Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.email,onChange:e=>h("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.email?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.email&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.address,onChange:e=>h("address",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.address?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.address&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.address})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.barangay,onChange:e=>h("barangay",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.barangay?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Barangay"}),(0,Mt.jsx)("option",{value:"Pantok",children:"Pantok"}),(0,Mt.jsx)("option",{value:"San Isidro",children:"San Isidro"}),(0,Mt.jsx)("option",{value:"Almanza Dos",children:"Almanza Dos"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.barangay&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.barangay})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["City",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.city,onChange:e=>h("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.city?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.city&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.city})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.region,onChange:e=>h("region",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.region?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.region&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.region})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Address Coordinates",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:o.addressCoordinates,onChange:e=>h("addressCoordinates",e.target.value),placeholder:"14.466580, 121.201807",className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.addressCoordinates?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 pr-10")}),(0,Mt.jsx)(Ra,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.addressCoordinates&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Choose Plan",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.choosePlan,onChange:e=>h("choosePlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.choosePlan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Plan"}),o.choosePlan&&!["SwitchNet - P999","SwitchNet - P1299","SwitchNet - P1599"].includes(o.choosePlan)&&(0,Mt.jsxs)("option",{value:o.choosePlan,children:[o.choosePlan," (Current)"]}),(0,Mt.jsx)("option",{value:"SwitchNet - P999",children:"SwitchNet - P999"}),(0,Mt.jsx)("option",{value:"SwitchNet - P1299",children:"SwitchNet - P1299"}),(0,Mt.jsx)("option",{value:"SwitchNet - P1599",children:"SwitchNet - P1599"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.choosePlan&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.choosePlan})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.status,onChange:e=>h("status",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.status?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,Mt.jsx)("option",{value:"For Confirmation",children:"For Confirmation"}),(0,Mt.jsx)("option",{value:"Cancelled",children:"Cancelled"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.status&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.status})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Connection Type",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Antenna"),className:"py-2 px-4 rounded border ".concat("Antenna"===o.connectionType?"bg-gray-700 border-gray-600":"bg-gray-800 border-gray-700"),children:"Antenna"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Fiber"),className:"py-2 px-4 rounded border ".concat("Fiber"===o.connectionType?"bg-red-600 border-red-700":"bg-gray-800 border-gray-700"),children:"Fiber"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("connectionType","Local"),className:"py-2 px-4 rounded border ".concat("Local"===o.connectionType?"bg-gray-700 border-gray-600":"bg-gray-800 border-gray-700"),children:"Local"})]}),d.connectionType&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Router Model",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.routerModel,onChange:e=>h("routerModel",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.routerModel?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Model A",children:"Model A"}),(0,Mt.jsx)("option",{value:"Model B",children:"Model B"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.routerModel&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modem SN",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.modemSN,onChange:e=>h("modemSN",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.modemSN?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.modemSN&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Provider",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.provider,onChange:e=>h("provider",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.provider?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Provider"}),(0,Mt.jsx)("option",{value:"SWITCH",children:"SWITCH"}),(0,Mt.jsx)("option",{value:"Provider 2",children:"Provider 2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.provider&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.provider})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["LCP",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.lcp,onChange:e=>h("lcp",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.lcp?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"LCP1",children:"LCP1"}),(0,Mt.jsx)("option",{value:"LCP2",children:"LCP2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.lcp&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["NAP",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.nap,onChange:e=>h("nap",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.nap?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"NAP1",children:"NAP1"}),(0,Mt.jsx)("option",{value:"NAP2",children:"NAP2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.nap&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["PORT",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.port,onChange:e=>h("port",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.port?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Port1",children:"Port1"}),(0,Mt.jsx)("option",{value:"Port2",children:"Port2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.port&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["VLAN",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.vlan,onChange:e=>h("vlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.vlan?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"VLAN10",children:"VLAN10"}),(0,Mt.jsx)("option",{value:"VLAN20",children:"VLAN20"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.vlan&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Username",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:o.username,onChange:e=>h("username",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.username?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),d.username&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.username})]}),"Confirmed"===o.status&&("Done"===o.onsiteStatus||"Reschedule"===o.onsiteStatus)&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitBy,onChange:e=>h("visitBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitBy?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Technician 1",children:"Technician 1"}),(0,Mt.jsx)("option",{value:"Technician 2",children:"Technician 2"}),(0,Mt.jsx)("option",{value:"Office",children:"Office"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitBy&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit With",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitWith,onChange:e=>h("visitWith",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitWith?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Technician 1",children:"Technician 1"}),(0,Mt.jsx)("option",{value:"Technician 2",children:"Technician 2"}),(0,Mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitWith&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Visit With(Other)",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.visitWithOther,onChange:e=>h("visitWithOther",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.visitWithOther?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Support Staff",children:"Support Staff"}),(0,Mt.jsx)("option",{value:"Supervisor",children:"Supervisor"}),(0,Mt.jsx)("option",{value:"Manager",children:"Manager"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.visitWithOther&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]}),"Confirmed"===o.status&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Onsite Status",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.onsiteStatus,onChange:e=>h("onsiteStatus",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.onsiteStatus?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Mt.jsx)("option",{value:"Done",children:"Done"}),(0,Mt.jsx)("option",{value:"Failed",children:"Failed"}),(0,Mt.jsx)("option",{value:"Reschedule",children:"Reschedule"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.onsiteStatus&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.onsiteStatus})]}),("Reschedule"===o.onsiteStatus||"Done"===o.onsiteStatus)&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Onsite Remarks",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("textarea",{value:o.onsiteRemarks,onChange:e=>h("onsiteRemarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.onsiteRemarks?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 resize-none")}),d.onsiteRemarks&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),"Done"===o.onsiteStatus&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Signed Contract Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("signedContractImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.signedContractImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.signedContractImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Setup Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("setupImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.setupImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.setupImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Box Reading Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("boxReadingImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.boxReadingImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.boxReadingImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Router Reading Image",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative w-full h-32 bg-gray-800 border border-gray-700 rounded flex items-center justify-center cursor-pointer hover:bg-gray-750",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>e.target.files&&p("routerReadingImage",e.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),o.routerReadingImage?(0,Mt.jsxs)("div",{className:"text-green-500 flex items-center",children:[(0,Mt.jsx)(Nr,{className:"mr-2",size:20}),"Image uploaded"]}):(0,Mt.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Mt.jsx)(Nr,{size:32}),(0,Mt.jsx)("span",{className:"text-sm mt-2",children:"Click to upload"})]})]}),d.routerReadingImage&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Client Signature",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"w-full h-40 bg-gray-800 border border-gray-700 rounded flex items-center justify-center",children:(0,Mt.jsx)("span",{className:"text-gray-400",children:"Signature canvas placeholder"})}),d.clientSignature&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:o.modifiedBy,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:o.modifiedDate,readOnly:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-700 rounded text-gray-400 cursor-not-allowed pr-10"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contract Link"}),(0,Mt.jsx)("input",{type:"text",value:o.contractLink,onChange:e=>h("contractLink",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Contract Template",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"number",value:o.contractTemplate,onChange:e=>h("contractTemplate",e.target.value),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none"}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>g("contractTemplate",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>g("contractTemplate",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]}),d.contractTemplate&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.contractTemplate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Assigned Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.assignedEmail,onChange:e=>h("assignedEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.assignedEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"Office",children:"Office"}),(0,Mt.jsx)("option",{value:"Technical",children:"Technical"}),(0,Mt.jsx)("option",{value:"Billing",children:"Billing"}),(0,Mt.jsx)("option",{value:"Support",children:"Support"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.assignedEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.assignedEmail})]}),"Confirmed"===o.status&&"Done"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Item Name 1",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.itemName1,onChange:e=>h("itemName1",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.itemName1?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Router",children:"Router"}),(0,Mt.jsx)("option",{value:"Modem",children:"Modem"}),(0,Mt.jsx)("option",{value:"Cable",children:"Cable"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.itemName1&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]}),"Confirmed"===o.status&&"Reschedule"===o.onsiteStatus&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Status Remarks",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:o.statusRemarks,onChange:e=>h("statusRemarks",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(d.statusRemarks?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Customer Request",children:"Customer Request"}),(0,Mt.jsx)("option",{value:"Bad Weather",children:"Bad Weather"}),(0,Mt.jsx)("option",{value:"Technician Unavailable",children:"Technician Unavailable"}),(0,Mt.jsx)("option",{value:"Equipment Issue",children:"Equipment Issue"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]}),d.statusRemarks&&(0,Mt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Mt.jsx)("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-orange-500 text-white text-xs mr-2",children:"!"}),(0,Mt.jsx)("p",{className:"text-orange-500 text-xs",children:"This entry is required"})]})]})]})]})}):null},Or=e=>{let{isOpen:t,onClose:a,onConfirm:s,loading:r=!1}=e;return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:(0,Mt.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-2xl w-full max-w-md",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Confirm"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-8",children:"Are you sure you want to approve this job order?"}),(0,Mt.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,disabled:r,className:"px-6 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:s,disabled:r,className:"px-6 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Processing...":"Approve"})]})]})})}):null},Br=e=>{let{jobOrder:t,onClose:a}=e;const[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)([]);console.log("JobOrderDetails - Full jobOrder object:",t),console.log("JobOrderDetails - Secondary_Mobile_Number:",t.Secondary_Mobile_Number),console.log("JobOrderDetails - Second_Contact_Number:",t.Second_Contact_Number),(0,r.useEffect)(()=>{(async()=>{try{const e=await Xs();p(e)}catch(l){console.error("Error fetching billing statuses:",l)}})()},[]);const g=e=>{if(!e)return"Not Set";if(0===h.length){return{1:"In Progress",2:"Active",3:"Suspended",4:"Cancelled",5:"Overdue"}[e]||"Loading..."}const t=h.find(t=>t.id===e);return t?t.status_name:"Unknown (ID: ".concat(e,")")},y=e=>{if(!e)return"Not scheduled";try{return new Date(e).toLocaleString()}catch(t){return e}},f=()=>[t.First_Name||"",t.Middle_Initial?t.Middle_Initial+".":"",t.Last_Name||""].filter(Boolean).join(" ").trim()||"Unknown Client",b=(e,t)=>{if(!e)return"text-gray-400";if("onsite"===t)switch(e.toLowerCase()){case"done":return"text-green-500";case"reschedule":return"text-blue-500";case"inprogress":case"in progress":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}else switch(e.toLowerCase()){case"done":return"text-green-500";case"pending":return"text-yellow-500";default:return"text-gray-400"}};return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("h2",{className:"text-white font-medium",children:f()}),s&&(0,Mt.jsx)("div",{className:"ml-3 animate-pulse text-orange-500 text-sm",children:"Loading..."})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{className:"bg-gray-800 hover:bg-gray-700 text-white p-1 rounded-sm border border-gray-700 flex items-center justify-center",children:(0,Mt.jsx)(Qt,{size:16})}),(0,Mt.jsx)("button",{className:"bg-gray-800 hover:bg-gray-700 text-white p-1 rounded-sm border border-gray-700 flex items-center justify-center",children:(0,Mt.jsx)(Vs,{size:16})}),(()=>{const e=(t.Onsite_Status||"").toLowerCase(),a=t.billing_status_id||t.Billing_Status_ID;return"done"===e&&1===a})()&&(0,Mt.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-sm flex items-center",onClick:()=>{x(!0)},disabled:s,children:(0,Mt.jsx)("span",{children:"Approve"})}),(0,Mt.jsx)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded-sm flex items-center",onClick:()=>{c(!0)},disabled:s,children:(0,Mt.jsx)("span",{children:"Done"})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:a,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 py-3 border-b border-gray-700 flex items-center justify-center px-4",children:(0,Mt.jsxs)("button",{onClick:()=>{u(!0)},disabled:s,className:"flex flex-col items-center text-center p-2 rounded-md hover:bg-gray-800 transition-colors",children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-2 rounded-full",children:(0,Mt.jsx)("div",{className:"text-white",children:(0,Mt.jsx)(fa,{size:18})})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Edit"})]})}),l&&(0,Mt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-700 text-red-400 p-3 m-3 rounded",children:l}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"max-w-2xl mx-auto py-6 px-4 bg-gray-950",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Timestamp:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:y(t.Timestamp)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Billing Status:"}),(0,Mt.jsx)("div",{className:"".concat(b(g(t.Billing_Status_ID||t.billing_status_id),"billing")," flex-1 capitalize"),children:g(t.Billing_Status_ID||t.billing_status_id)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Billing Day:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:"0"===t.Billing_Day||0===Number(t.Billing_Day)?"Every end of month":t.Billing_Day||"Not set"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Installation Fee:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(e=>{if(null===e||void 0===e)return"\u20b10.00";const t="string"===typeof e?parseFloat(e):e;return"\u20b1".concat(t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))})(t.Installation_Fee)})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Referred By:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Referred_By||"None"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Name of Client:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f()})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Address of Client:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(()=>{const e=[t.Address,t.Village,t.Barangay,t.City,t.Region].filter(Boolean);return e.length>0?e.join(", "):"No address provided"})()})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contact Number:"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.Mobile_Number||t.Contact_Number||"Not provided",(t.Mobile_Number||t.Contact_Number)&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Second Contact Number:"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.Secondary_Mobile_Number||"Not provided",t.Secondary_Mobile_Number&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Email Address:"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.Email_Address||t.Applicant_Email_Address||"Not provided",(t.Email_Address||t.Applicant_Email_Address)&&(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Barangay:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Barangay||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Village:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Village||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"City:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.City||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Region:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Region||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Choose Plan:"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.Desired_Plan||t.Choose_Plan||"Not specified",(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Status Remarks:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Status_Remarks||"No remarks"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Remarks:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Remarks||"No remarks"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Installation Landmark:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Installation_Landmark||"Not provided"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Connection Type:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Connection_Type||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Onsite Status:"}),(0,Mt.jsx)("div",{className:"".concat(b(t.Onsite_Status,"onsite")," flex-1 capitalize"),children:"inprogress"===t.Onsite_Status?"In Progress":t.Onsite_Status||"Not set"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contract Template:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Contract_Template||"Standard"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contract Link:"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 truncate flex items-center",children:[t.Contract_Link||"Not available",t.Contract_Link&&(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Vs,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Username:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Username||"Not provided"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified By:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Modified_By||"System"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified Date:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:y(t.Modified_Date)})]}),(0,Mt.jsxs)("div",{className:"flex pb-4",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Assigned Email:"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.Assigned_Email||"Not assigned"})]})]})})}),(0,Mt.jsx)(Rr,{isOpen:o,onClose:()=>c(!1),onSave:async e=>{try{if(n(!0),!t.id)throw new Error("Cannot update job order: Missing ID");await Qs(t.id,{Onsite_Status:e.onsiteStatus,Modified_By:e.modifiedBy,Modified_Date:e.modifiedDate,Contract_Link:e.contractLink,Contract_Template:e.contractTemplate,Assigned_Email:e.assignedEmail}),alert("Job Order updated successfully!"),c(!1)}catch(a){i("Failed to update job order: ".concat(a.message)),console.error("Update error:",a)}finally{n(!1)}},jobOrderData:t}),(0,Mt.jsx)(Mr,{isOpen:d,onClose:()=>u(!1),onSave:async e=>{try{if(n(!0),!t.id)throw new Error("Cannot update job order: Missing ID");await Qs(t.id,{Referred_By:e.referredBy,Date_Installed:e.dateInstalled,Usage_Type:e.usageType,First_Name:e.firstName,Middle_Initial:e.middleInitial,Last_Name:e.lastName,Contact_Number:e.contactNumber,Second_Contact_Number:e.secondContactNumber,Email_Address:e.email,Address:e.address,Barangay:e.barangay,City:e.city,Region:e.region,Address_Coordinates:e.addressCoordinates,Choose_Plan:e.choosePlan,Status:e.status,Connection_Type:e.connectionType,Router_Model:e.routerModel,Modem_SN:e.modemSN,Provider:e.provider,LCP:e.lcp,NAP:e.nap,PORT:e.port,VLAN:e.vlan,Username:e.username,Onsite_Status:e.onsiteStatus,Onsite_Remarks:e.onsiteRemarks,Modified_By:e.modifiedBy,Modified_Date:e.modifiedDate,Contract_Link:e.contractLink,Contract_Template:e.contractTemplate,Assigned_Email:e.assignedEmail,Item_Name_1:e.itemName1,Visit_By:e.visitBy,Visit_With:e.visitWith,Visit_With_Other:e.visitWithOther,Status_Remarks:e.statusRemarks}),alert("Job Order updated successfully!"),u(!1)}catch(a){i("Failed to update job order: ".concat(a.message)),console.error("Update error:",a)}finally{n(!1)}},jobOrderData:t}),(0,Mt.jsx)(Or,{isOpen:m,onClose:()=>x(!1),onConfirm:async()=>{try{if(n(!0),!t.id)throw new Error("Cannot approve job order: Missing ID");const e=await(async e=>{try{const t=e.toString();return(await Rt.post("/job-orders/".concat(t,"/approve"))).data}catch(l){throw console.error("Error approving job order:",l),l}})(t.id);if(!e.success)throw new Error(e.message||"Failed to approve job order");alert("Job Order approved successfully! Customer, billing account, and technical details have been created."),window.location.reload()}catch(e){i("Failed to approve job order: ".concat(e.message)),console.error("Approve error:",e)}finally{n(!1),x(!1)}},loading:s})]})},Fr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null),y=e=>{if(!e)return"Not scheduled";try{return new Date(e).toLocaleString()}catch(t){return e}},f=e=>{if(!e)return"Not Set";if(0===u.length){return{1:"In Progress",2:"Active",3:"Suspended",4:"Cancelled",5:"Overdue"}[e]||"Loading..."}const t=u.find(t=>t.id===e);return t?t.status_name:"Unknown (ID: ".concat(e,")")};(0,r.useEffect)(()=>{(async()=>{try{var e,t,a;h(!0),console.log("Fetching cities...");const s=await rr();console.log("Found ".concat(s.length," cities")),0===s.length?console.warn("No cities returned from API. This may affect location filtering."):console.log("Cities data sample:",s[0]),d(s),console.log("Fetching billing statuses...");const r=await Xs();console.log("Found ".concat(r.length," billing statuses")),m(r),console.log("Fetching job orders from job_orders table...");const n=await(async()=>{try{console.log("Fetching job orders from database...");const e=await Rt.get("/job-orders");if(console.log("Raw API response:",e),e.data&&e.data.success&&Array.isArray(e.data.data)){const t=e.data.data.map(e=>he(he({},e),{},{id:e.id||e.JobOrder_ID}));return he(he({},e.data),{},{data:t})}return e.data}catch(p){return console.error("Error fetching job orders:",p),{success:!1,data:[],message:p instanceof Error?p.message:"Unknown error fetching job orders"}}})();if(console.log("Job Orders API Response:",n),console.log("Job Orders API Response - First Item:",null===(e=n.data)||void 0===e?void 0:e[0]),console.log("Job Orders API - Secondary_Mobile_Number in first item:",null===(t=n.data)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.Secondary_Mobile_Number),n.success&&Array.isArray(n.data)){console.log("Found ".concat(n.data.length," job orders")),n.data.length>0&&(console.log("First item example:",n.data[0]),console.log("City field example:",n.data[0].City));const e=n.data.map((e,t)=>{const a=e.id||e.JobOrder_ID||String(t);return he(he({},e),{},{id:a,Onsite_Status:e.Onsite_Status||null,Billing_Status:e.Billing_Status||null,Status_Remarks:e.Status_Remarks||null,Installation_Fee:void 0!==e.Installation_Fee?Number(e.Installation_Fee):null,Assigned_Email:e.Assigned_Email||null,Contract_Template:e.Contract_Template||null,Billing_Day:e.Billing_Day||null,Modified_By:e.Modified_By||"System",Modified_Date:e.Modified_Date||null})});o(e),console.log("Job orders data processed successfully")}else console.warn("No job orders returned from API or invalid response format",n),o([])}catch(s){console.error("Error fetching data:",s),g("Failed to load data: ".concat(s.message||"Unknown error"))}finally{h(!1)}})()},[]);const b=e=>[e.First_Name||"",e.Middle_Initial?e.Middle_Initial+".":"",e.Last_Name||""].filter(Boolean).join(" ").trim()||"Unknown Client",v=e=>{const t=[e.Address,e.Village,e.Barangay,e.City,e.Region].filter(Boolean);return t.length>0?t.join(", "):"No address provided"},j=[{id:"all",name:"All",count:i.length}];c.forEach(e=>{const t=i.filter(t=>{const a=(t.City||"").toLowerCase(),s=e.name.toLowerCase();return a.includes(s)||s.includes(a)}).length;j.push({id:e.name.toLowerCase(),name:e.name,count:t})});const N=i.filter(t=>{const s=(t.City||"").toLowerCase(),r="all"===e||s.includes(e)||e.includes(s),n=b(t).toLowerCase(),l=""===a||n.includes(a.toLowerCase())||(t.Address||"").toLowerCase().includes(a.toLowerCase())||(t.Assigned_Email||"").toLowerCase().includes(a.toLowerCase());return r&&l}),w=[{id:"timestamp",label:"Timestamp",width:"whitespace-nowrap"},{id:"fullName",label:"Full Name of Client",width:"whitespace-nowrap"},{id:"address",label:"Full Address of Client",width:"whitespace-nowrap min-w-[180px]"},{id:"onsiteStatus",label:"Onsite Status",width:"whitespace-nowrap"},{id:"billingStatus",label:"Billing Status",width:"whitespace-nowrap"},{id:"statusRemarks",label:"Status Remarks",width:""},{id:"assignedEmail",label:"Assigned Email",width:""},{id:"contractTemplate",label:"Contract Template",width:"whitespace-nowrap"},{id:"billingDay",label:"Billing Day",width:"whitespace-nowrap"},{id:"installationFee",label:"Installation Fee",width:"whitespace-nowrap"},{id:"modifiedBy",label:"Modified By",width:"whitespace-nowrap"},{id:"modifiedDate",label:"Modified Date",width:"whitespace-nowrap"}],k=e=>{let{status:t,type:a}=e;if(!t)return(0,Mt.jsx)("span",{className:"text-gray-400",children:"Unknown"});let s="";if("onsite"===a)switch(t.toLowerCase()){case"done":s="text-green-500";break;case"reschedule":s="text-blue-500";break;case"inprogress":case"in progress":s="text-yellow-500";break;case"failed":s="text-red-500";break;default:s="text-gray-400"}else switch(t.toLowerCase()){case"done":s="text-green-500";break;case"pending":s="text-yellow-500";break;default:s="text-gray-400"}return(0,Mt.jsx)("span",{className:"".concat(s," capitalize"),children:"inprogress"===t?"In Progress":t})};return x?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-orange-500 mb-3"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Loading job orders..."})]})}):p?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-md p-6 max-w-lg",children:[(0,Mt.jsx)("h3",{className:"text-red-500 text-lg font-medium mb-2",children:"Error"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-4",children:p}),(0,Mt.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded",children:"Retry"}),(0,Mt.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsx)("tr",{children:w.map(e=>(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider ".concat(e.width),children:(0,Mt.jsx)("div",{className:"flex items-center",children:e.label})},e.id))})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:w.length,className:"px-4 py-12 text-center text-red-400",children:"Error loading job orders. Please try again."})})})]})}),(0,Mt.jsx)("div",{className:"mt-4 p-4 bg-gray-900 rounded overflow-auto max-h-48",children:(0,Mt.jsx)("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:p.includes("SQLSTATE")?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("span",{className:"text-red-400",children:"Database Error:"}),(0,Mt.jsx)("br",{}),p.includes("Table")?"Table name mismatch - check the database schema":p,(0,Mt.jsx)("br",{}),(0,Mt.jsx)("br",{}),(0,Mt.jsx)("span",{className:"text-yellow-400",children:"Suggestion:"}),(0,Mt.jsx)("br",{}),"Verify that the table 'job_orders' exists in your database."]}):p})})]})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Job Orders"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:j.map(a=>(0,Mt.jsxs)("button",{onClick:()=>{t(a.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Va,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat(n?"w-1/3":"flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search job orders...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-2",children:"Filter"}),(0,Mt.jsx)($s,{className:"h-4 w-4"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-x-auto overflow-y-auto pb-4",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsx)("tr",{children:w.map(e=>(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider ".concat(e.width),children:(0,Mt.jsx)("div",{className:"flex items-center",children:e.label})},e.id))})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:N.length>0?N.map(e=>{return(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:y(e.Timestamp)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:b(e)}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate text-xs whitespace-nowrap overflow-hidden",children:v(e)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs",children:(0,Mt.jsx)(k,{status:e.Onsite_Status,type:"onsite"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs",children:(0,Mt.jsx)(k,{status:f(e.billing_status_id),type:"billing"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate text-xs",children:e.Status_Remarks||"No remarks"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 text-xs",children:e.Assigned_Email||"Unassigned"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap text-xs",children:e.Contract_Template||"Standard"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap text-center text-xs",children:"0"===e.Billing_Day||0===Number(e.Billing_Day)?"Every end of month":e.Billing_Day||"-"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap text-xs",children:(t=e.Installation_Fee,null===t||void 0===t||0===t?"\u20b10.00":"\u20b1".concat(t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap text-xs",children:e.Modified_By||"System"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap text-xs",children:y(e.Modified_Date)})]},e.id);var t}):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:w.length,className:"px-4 py-12 text-center text-gray-400",children:i.length>0?"No job orders found matching your filters":"No job orders found. Create your first job order."})})})]})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(Br,{jobOrder:n,onClose:()=>l(null)})})]})},Ur=e=>{let{serviceOrder:t,onClose:a}=e;return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("div",{className:"flex items-center",children:(0,Mt.jsxs)("h2",{className:"text-white font-medium truncate max-w-md",children:[t.accountNumber," | ",t.fullName," | ",t.contactAddress]})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(za,{size:16})}),(0,Mt.jsxs)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded-sm flex items-center",children:[(0,Mt.jsx)(fa,{size:16,className:"mr-1"}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:a,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"mx-auto py-1 px-4 bg-gray-950",children:(0,Mt.jsxs)("div",{className:"space-y-1",children:[(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Ticket ID"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.ticketId})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Timestamp"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.timestamp})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Account No."}),(0,Mt.jsxs)("div",{className:"text-red-500 flex-1",children:[t.accountNumber," | ",t.fullName," | ",t.fullAddress]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Date Installed"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.dateInstalled})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.fullName})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contact Number"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.contactNumber})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Address"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.fullAddress})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"House Front Picture"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.houseFrontPicture,(0,Mt.jsx)("button",{className:"ml-2 text-white",children:(0,Mt.jsx)(Vs,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Email Address"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.emailAddress})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Plan"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.plan,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.provider,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Username"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.username})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Connection Type"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.connectionType})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Router/Modem SN"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.routerModemSN})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"LCP"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.lcp,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"NAP"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.nap,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"PORT"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.port,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"VLAN"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.vlan,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Concern"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.concern,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Concern Remarks"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.concernRemarks})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit Status"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.visitStatus})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit By"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.visitBy,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit With"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.visitWith,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit With Other"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.visitWithOther,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit Remarks"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.visitRemarks})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.modifiedBy,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.modifiedDate})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"User Email"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.userEmail,(0,Mt.jsx)("button",{className:"ml-2 text-white",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Requested by"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.requestedBy,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Assigned Email"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[t.assignedEmail,(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Support Remarks"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.supportRemarks})]}),(0,Mt.jsxs)("div",{className:"flex py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Service Charge"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:t.serviceCharge})]})]})})})]})},qr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),p=[{id:"timestamp",label:"Timestamp",width:"whitespace-nowrap"},{id:"fullName",label:"Full Name",width:"whitespace-nowrap"},{id:"contactNumber",label:"Contact Number",width:"whitespace-nowrap"},{id:"address",label:"Full Address",width:"whitespace-nowrap min-w-[180px]"},{id:"concern",label:"Concern",width:"whitespace-nowrap"},{id:"concernRemarks",label:"Concern Remarks",width:""},{id:"requestedBy",label:"Requested by",width:"whitespace-nowrap"},{id:"supportStatus",label:"Support Status",width:"whitespace-nowrap"},{id:"assignedEmail",label:"Assigned Email",width:"whitespace-nowrap"},{id:"repairCategory",label:"Repair Category",width:"whitespace-nowrap"},{id:"visitStatus",label:"Visit Status",width:"whitespace-nowrap"},{id:"modifiedBy",label:"Modified By",width:"whitespace-nowrap"},{id:"modifiedDate",label:"Modified Date",width:"whitespace-nowrap"}],g=e=>{if(!e)return"Not scheduled";try{return new Date(e).toLocaleString()}catch(t){return e}};(0,r.useEffect)(()=>{(async()=>{try{m(!0),console.log("Fetching cities...");const e=await rr();d(e||[]),console.log("Fetching service orders from service_order table...");const t=await(async()=>{try{console.log("Fetching service orders from service_order table...");try{const e=await Rt.get("/service-orders");return console.log("Raw API response:",e),e.data}catch(x){console.error("Error fetching service orders from /service-orders endpoint:",x);try{return console.log("Trying alternate endpoint /service_orders..."),(await Rt.get("/service_orders")).data}catch(e){console.error("Error fetching from alternate endpoint:",e)}}return{success:!1,data:[],message:"Service order API endpoints not available",table:"service_order"}}catch(x){return console.error("Error fetching service orders:",x),{success:!1,data:[],message:x instanceof Error?x.message:"Unknown error fetching service orders",table:"service_order"}}})();if(console.log("Service Orders API Response:",t),t.success&&Array.isArray(t.data)){console.log("Found ".concat(t.data.length," service orders"));const e=t.data.map(e=>({id:e.ID||"",ticketId:e.Ticket_ID||"",timestamp:g(e.Timestamp),accountNumber:e.Account_Number||"",fullName:e.Full_Name||"",contactAddress:e.Contact_Address||"",dateInstalled:e.Date_Installed||"",contactNumber:e.Contact_Number||"",fullAddress:e.Full_Address||"",houseFrontPicture:e.House_Front_Picture||"",emailAddress:e.Email_Address||"",plan:e.Plan||"",provider:e.Provider||"",username:e.Username||"",connectionType:e.Connection_Type||"",routerModemSN:e.Router_Modem_SN||"",lcp:e.LCP||"",nap:e.NAP||"",port:e.PORT||"",vlan:e.VLAN||"",concern:e.Concern||"",concernRemarks:e.Concern_Remarks||"",visitStatus:e.Visit_Status||"",visitBy:e.Visit_By||"",visitWith:e.Visit_With||"",visitWithOther:e.Visit_With_Other||"",visitRemarks:e.Visit_Remarks||"",modifiedBy:e.Modified_By||"",modifiedDate:g(e.Modified_Date),userEmail:e.User_Email||"",requestedBy:e.Requested_By||"",assignedEmail:e.Assigned_Email||"",supportRemarks:e.Support_Remarks||"",serviceCharge:e.Service_Charge||"\u20b10.00",repairCategory:e.Repair_Category||"",supportStatus:e.Support_Status||""}));o(e),console.log("Service orders data processed successfully")}else if(console.warn("No service orders returned from API or invalid response format",t),o([]),t.table&&console.info("Table name specified in response: ".concat(t.table)),t.message)if(t.message.includes("SQLSTATE")||t.message.includes("table")){const e="Database error: ".concat(t.message,"\nPossible issue: Service orders might be using 'service_order' table instead of 'service_orders'");h(e),console.error(e)}else h(t.message)}catch(e){console.error("Error fetching data:",e),h("Failed to load data: ".concat(e.message||"Unknown error")),o([])}finally{m(!1)}})()},[]);const y=[{id:"all",name:"All",count:i.length}];if(c.length>0)c.forEach(e=>{const t=i.filter(t=>t.fullAddress.toLowerCase().includes(e.name.toLowerCase())).length;y.push({id:e.name.toLowerCase(),name:e.name,count:t})});else{const e=new Set;i.forEach(t=>{const a=t.fullAddress.split(",");if(a.length>=2){const t=a[a.length-2].trim().toLowerCase();t&&""!==t&&e.add(t)}}),Array.from(e).forEach(e=>{const t=i.filter(t=>t.fullAddress.toLowerCase().includes(e)).length;y.push({id:e,name:e.charAt(0).toUpperCase()+e.slice(1),count:t})})}const f=i.filter(t=>{const s="all"===e||t.fullAddress.toLowerCase().includes(e.toLowerCase()),r=""===a||t.fullName.toLowerCase().includes(a.toLowerCase())||t.fullAddress.toLowerCase().includes(a.toLowerCase())||t.concern&&t.concern.toLowerCase().includes(a.toLowerCase());return s&&r}),b=e=>{let{status:t,type:a}=e;if(!t)return(0,Mt.jsx)("span",{className:"text-gray-400",children:"Unknown"});let s="";if("support"===a)switch(t.toLowerCase()){case"resolved":s="text-green-500";break;case"in-progress":case"in progress":s="text-yellow-500";break;case"pending":s="text-blue-500";break;default:s="text-gray-400"}else switch(t.toLowerCase()){case"completed":s="text-green-500";break;case"scheduled":case"reschedule":s="text-yellow-500";break;case"pending":s="text-blue-500";break;case"cancelled":s="text-red-500";break;default:s="text-gray-400"}return(0,Mt.jsx)("span",{className:"".concat(s," capitalize"),children:"in-progress"===t?"In Progress":t})};return u?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-orange-500 mb-3"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Loading service orders..."})]})}):x?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-md p-6 max-w-lg",children:[(0,Mt.jsx)("h3",{className:"text-red-500 text-lg font-medium mb-2",children:"Error"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-4",children:x}),(0,Mt.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded",children:"Retry"}),(0,Mt.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsx)("tr",{children:p.map(e=>(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider ".concat(e.width),children:(0,Mt.jsx)("div",{className:"flex items-center",children:e.label})},e.id))})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:p.length,className:"px-4 py-12 text-center text-red-400",children:"Error loading service orders. Please try again."})})})]})}),(0,Mt.jsx)("div",{className:"mt-4 p-4 bg-gray-900 rounded overflow-auto max-h-48",children:(0,Mt.jsx)("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:x.includes("SQLSTATE")?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("span",{className:"text-red-400",children:"Database Error:"}),(0,Mt.jsx)("br",{}),x.includes("Table")?"Table name mismatch - check the database schema":x,(0,Mt.jsx)("br",{}),(0,Mt.jsx)("br",{}),(0,Mt.jsx)("span",{className:"text-yellow-400",children:"Suggestion:"}),(0,Mt.jsx)("br",{}),"Verify that the table 'service_order' (singular) or 'service_orders' (plural) exists in your database."]}):x})})]})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Service Orders"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:y.map(a=>(0,Mt.jsxs)("button",{onClick:()=>{t(a.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Va,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat("flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search service orders...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-2",children:"Filter"}),(0,Mt.jsx)($s,{className:"h-4 w-4"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-x-auto overflow-y-auto pb-4",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsx)("tr",{children:p.map(e=>(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider ".concat(e.width),children:(0,Mt.jsx)("div",{className:"flex items-center",children:e.label})},e.id))})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:f.length>0?f.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.timestamp}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.fullName}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.contactNumber}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate text-xs",children:e.fullAddress}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.concern}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate text-xs",children:e.concernRemarks}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.requestedBy}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs",children:(0,Mt.jsx)(b,{status:e.supportStatus,type:"support"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.assignedEmail}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.repairCategory}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs",children:(0,Mt.jsx)(b,{status:e.visitStatus,type:"visit"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.modifiedBy}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300 text-xs",children:e.modifiedDate})]},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:p.length,className:"px-4 py-12 text-center",children:(0,Mt.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,Mt.jsx)("div",{className:"text-gray-400",children:i.length>0?"No service orders found matching your filters":"No service orders found in the service_order table"})})})})})]})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(Ur,{serviceOrder:n,onClose:()=>l(null)})})]})},Wr=Jt("arrow-right-to-line",[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]]),Vr=Jt("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Hr=e=>{let{isOpen:t,onClose:a,onSave:s,visitData:n}=e;(0,r.useEffect)(()=>{t&&n&&console.log("DEBUG - ApplicationVisitStatusModal opened with data:",{visitData:n,id:n.id,barangay:n.barangay,city:n.city,region:n.region,currentStatus:n.visit_status,assignedEmail:n.assigned_email})},[t,n]);const[l,i]=(0,r.useState)(()=>({firstName:(null===n||void 0===n?void 0:n.first_name)||"",middleInitial:(null===n||void 0===n?void 0:n.middle_initial)||"",lastName:(null===n||void 0===n?void 0:n.last_name)||"",contactNumber:(null===n||void 0===n?void 0:n.contact_number)||"",secondContactNumber:(null===n||void 0===n?void 0:n.second_contact_number)||"",email:(null===n||void 0===n?void 0:n.email_address)||"",address:(null===n||void 0===n?void 0:n.address)||"",barangay:(null===n||void 0===n?void 0:n.barangay)||"",city:(null===n||void 0===n?void 0:n.city)||"",region:(null===n||void 0===n?void 0:n.region)||"",choosePlan:(null===n||void 0===n?void 0:n.choose_plan)||"SwitchConnect - P799",remarks:(null===n||void 0===n?void 0:n.visit_remarks)||"",assignedEmail:(null===n||void 0===n?void 0:n.assigned_email)||"",modifiedBy:"current_user@ampere.com"})),[o,c]=(0,r.useState)({}),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[g,y]=(0,r.useState)([]),[f,b]=(0,r.useState)(null),[v,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{n&&(console.log("DEBUG - Visit data loaded:",n),i(e=>he(he({},e),{},{firstName:n.first_name||e.firstName,middleInitial:n.middle_initial||e.middleInitial,lastName:n.last_name||e.lastName,contactNumber:n.contact_number||e.contactNumber,secondContactNumber:n.second_contact_number||e.secondContactNumber,email:n.email_address||e.email,address:n.address||e.address,barangay:n.barangay||e.barangay,city:n.city||e.city,region:n.region||e.region,choosePlan:n.choose_plan||e.choosePlan,remarks:n.visit_remarks||e.remarks,assignedEmail:n.assigned_email||e.assignedEmail})))},[n]),(0,r.useEffect)(()=>{(async()=>{if(t)try{console.log("Loading regions...");let e=await lr();if(console.log("Location system regions:",e),!Array.isArray(e)||0===e.length){console.log("No data from location system, trying legacy service...");const t=await hr();console.log("Legacy regions service returned:",t),Array.isArray(t)&&t.length>0&&(e=t.map(e=>({id:e.id,name:e.name,type:"region",isActive:!0,createdAt:e.created_at||"",updatedAt:e.updated_at||""})),console.log("Converted legacy regions to Location format:",e))}Array.isArray(e)&&e.length>0?(x(e),console.log("Set regions state with:",e.length,"regions"),console.log("Sample region:",e[0])):(console.warn("No regions data from either service"),x([]))}catch(e){console.error("Error loading regions:",e),x([])}})()},[t]),(0,r.useEffect)(()=>{(async()=>{if(f)try{var e;console.log("Loading cities for region ID:",f);let t=await(async e=>nr(e))(f);if(console.log("Location system cities:",t),!Array.isArray(t)||0===t.length){console.log("No cities from location system, trying legacy cities service...");const e=await rr();if(console.log("Legacy cities service returned:",e),Array.isArray(e)&&e.length>0){t=e.filter(e=>e.region_id===f).map(e=>{var t;return{id:e.id,name:e.name,type:"city",parentId:e.region_id,isActive:null===(t=e.is_active)||void 0===t||t,createdAt:e.created_at||"",updatedAt:e.updated_at||""}}),console.log("Filtered and converted legacy cities for region:",t)}}p(t||[]),console.log("Set cities state with:",(null===(e=t)||void 0===e?void 0:e.length)||0,"cities"),y([]),j(null)}catch(t){console.error("Error loading cities:",t),p([])}else p([]),y([]),j(null)})()},[f]),(0,r.useEffect)(()=>{(async()=>{if(v)try{console.log("Loading barangays for city ID:",v);const e=await(async e=>nr(e))(v);y(e),console.log("Loaded barangays:",e)}catch(e){console.error("Error loading barangays:",e)}else y([])})()},[v]),(0,r.useEffect)(()=>{if(m.length>0&&l.region&&!f){console.log("Looking for region match:",l.region,"in regions:",m.map(e=>e.name));const e=m.find(e=>e.name.toLowerCase().trim()===l.region.toLowerCase().trim());console.log("Found matching region:",e),e?(console.log("Setting selectedRegionId to:",e.id),b(e.id)):(console.warn("No matching region found for:",l.region),console.log("Available regions:",m.map(e=>'"'.concat(e.name,'"'))))}},[m,l.region,f]),(0,r.useEffect)(()=>{if(h.length>0&&l.city&&!v){console.log("Looking for city match:",l.city,"in cities:",h.map(e=>e.name));const e=h.find(e=>e.name.toLowerCase().trim()===l.city.toLowerCase().trim());console.log("Found matching city:",e),e?(console.log("Setting selectedCityId to:",e.id),j(e.id)):(console.warn("No matching city found for:",l.city),console.log("Available cities:",h.map(e=>'"'.concat(e.name,'"'))))}},[h,l.city,v]),(0,r.useEffect)(()=>{t&&n&&(console.log("Resetting form data with visit data:",n),i({firstName:n.first_name||"",middleInitial:n.middle_initial||"",lastName:n.last_name||"",contactNumber:n.contact_number||"",secondContactNumber:n.second_contact_number||"",email:n.email_address||"",address:n.address||"",barangay:n.barangay||"",city:n.city||"",region:n.region||"",choosePlan:n.choose_plan||"SwitchConnect - P799",remarks:n.visit_remarks||"",assignedEmail:n.assigned_email||"",modifiedBy:"current_user@ampere.com"}),b(null),j(null))},[t,n]);const N=(e,t)=>{if(i(a=>he(he({},a),{},{[e]:t})),"region"===e){const e=m.find(e=>e.name===t);b(e?e.id:null),i(e=>he(he({},e),{},{city:"",barangay:""}))}else if("city"===e){const e=h.find(e=>e.name===t);j(e?e.id:null),i(e=>he(he({},e),{},{barangay:""}))}o[e]&&c(t=>he(he({},t),{},{[e]:""}))};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"".concat(n.first_name||""," ").concat(n.middle_initial||""," ").concat(n.last_name||"").trim()}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{console.log("Status update button clicked!",l);const e=(()=>{const e={};return l.assignedEmail.trim()||(e.assignedEmail="Assigned Email is required"),c(e),0===Object.keys(e).length})();if(console.log("Form validation result:",e),!e)return console.log("Form validation failed. Errors:",o),void alert("Please fill in all required fields before saving.");if(null===n||void 0===n||!n.id)return console.error("No visit ID available"),void alert("Missing visit ID. Cannot update status.");u(!0);try{const e={assigned_email:l.assignedEmail,visit_remarks:l.remarks?l.remarks.trim():null,updated_by_user_id:null};console.log("Final data being sent to API:",JSON.stringify(e,null,2));const t=await tr(n.id,e);if(console.log("Application visit updated successfully:",t),!t.success)throw new Error(t.message||"Failed to update application visit");console.log("Visit details updated successfully"),alert("Visit details updated successfully!\n\nCustomer: ".concat(l.firstName," ").concat(l.lastName)),c({});const r=he(he({},n),e);s(r),a()}catch(m){var t,r,i,d;console.error("Error updating application visit:",m);let e="Unknown error occurred";m instanceof Error?e=m.message:null!==(t=m.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.message?e=m.response.data.message:null!==(i=m.response)&&void 0!==i&&null!==(d=i.data)&&void 0!==d&&d.error?e=m.response.data.error:"string"===typeof m&&(e=m),alert("Failed to update visit details: ".concat(e))}finally{u(!1)}},disabled:d,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:d?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),(0,Mt.jsx)("input",{type:"text",value:l.firstName,onChange:e=>N("firstName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Middle Initial"}),(0,Mt.jsx)("input",{type:"text",value:l.middleInitial,onChange:e=>N("middleInitial",e.target.value),maxLength:1,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),(0,Mt.jsx)("input",{type:"text",value:l.lastName,onChange:e=>N("lastName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contact Number"}),(0,Mt.jsx)("input",{type:"text",value:l.contactNumber,onChange:e=>N("contactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Second Contact Number"}),(0,Mt.jsx)("input",{type:"text",value:l.secondContactNumber||"",onChange:e=>N("secondContactNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Applicant Email Address"}),(0,Mt.jsx)("input",{type:"email",value:l.email,onChange:e=>N("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address"}),(0,Mt.jsx)("input",{type:"text",value:l.address,onChange:e=>N("address",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Barangay"}),(0,Mt.jsx)("input",{type:"text",value:l.barangay,onChange:e=>N("barangay",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,Mt.jsx)("input",{type:"text",value:l.city,onChange:e=>N("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Region"}),(0,Mt.jsx)("input",{type:"text",value:l.region,onChange:e=>N("region",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Choose Plan"}),(0,Mt.jsxs)("select",{value:l.choosePlan,onChange:e=>N("choosePlan",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"SwitchConnect - P799",children:"SwitchConnect - P799"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P999",children:"SwitchConnect - P999"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P1299",children:"SwitchConnect - P1299"}),(0,Mt.jsx)("option",{value:"SwitchConnect - P1599",children:"SwitchConnect - P1599"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),(0,Mt.jsx)("textarea",{value:l.remarks,onChange:e=>N("remarks",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 resize-none"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Assigned Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("select",{value:l.assignedEmail,onChange:e=>N("assignedEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.assignedEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Assigned Email"}),(0,Mt.jsx)("option",{value:"tech1@ampere.com",children:"tech1@ampere.com"}),(0,Mt.jsx)("option",{value:"tech2@ampere.com",children:"tech2@ampere.com"}),(0,Mt.jsx)("option",{value:"tech3@ampere.com",children:"tech3@ampere.com"}),(0,Mt.jsx)("option",{value:"Office",children:"Office"})]}),o.assignedEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.assignedEmail})]})]})})]})}):null},Jr=e=>{var t,a;let{applicationVisit:s,onClose:n}=e;const[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[f,b]=(0,r.useState)(s);(0,r.useEffect)(()=>{b(s)},[s]),(0,r.useEffect)(()=>{(async()=>{if(s.application_id)try{c(!0);const e=await Hs(s.application_id);i(e)}catch(e){console.error("Error fetching application details:",e),u("Failed to load application data: ".concat(e.message))}finally{c(!1)}})()},[s.application_id]);const v=e=>{if(!e)return"Not scheduled";try{return new Date(e).toLocaleString()}catch(t){return e}},j=()=>f.full_name||"".concat(f.first_name||""," ").concat(f.middle_initial||""," ").concat(f.last_name||"").trim(),N=async e=>{try{c(!0),await tr(s.id,{visit_status:e,updated_by_user_id:null}),b(he(he({},f),{},{visit_status:e})),alert("Status updated to ".concat(e))}catch(t){u("Failed to update status: ".concat(t.message)),console.error("Status update error:",t)}finally{c(!1)}};return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-950 flex flex-col overflow-hidden border-l border-white border-opacity-30",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("h2",{className:"text-white font-medium",children:j()}),o&&(0,Mt.jsx)("div",{className:"ml-3 animate-pulse text-orange-500 text-sm",children:"Loading..."})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(ya,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",onClick:()=>{x(!0)},title:"Move to Job Order",children:(0,Mt.jsx)(Wr,{size:16})}),(0,Mt.jsxs)("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded-sm flex items-center",onClick:()=>{y(!0)},title:"Edit Visit Details",children:[(0,Mt.jsx)(fa,{size:16,className:"mr-1"}),(0,Mt.jsx)("span",{children:"Visit Status"})]}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"hover:text-white text-gray-400",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:n,className:"hover:text-white text-gray-400","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 py-4 border-b border-gray-700 flex items-center justify-center space-x-8",children:[(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center",onClick:()=>N("Scheduled"),disabled:o,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Vr,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Scheduled"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center",onClick:()=>N("Failed"),disabled:o,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(fr,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Failed"})]}),(0,Mt.jsxs)("button",{className:"flex flex-col items-center text-center",onClick:()=>N("In Progress"),disabled:o,children:[(0,Mt.jsx)("div",{className:"bg-orange-600 p-3 rounded-full",children:(0,Mt.jsx)(Bs,{className:"text-white",size:24})}),(0,Mt.jsx)("span",{className:"text-xs mt-1 text-gray-300",children:"Visit In Progress"})]})]}),d&&(0,Mt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-700 text-red-400 p-3 m-3 rounded",children:d}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"mx-auto py-1 px-4 bg-gray-950",children:(0,Mt.jsxs)("div",{className:"space-y-1",children:[(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Timestamp"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:v(f.created_at)||"Not available"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Referred By"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.referred_by||"Not specified"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Full Name"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:j()})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Contact Number"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[(null===l||void 0===l?void 0:l.mobile_number)||"Not provided",(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Second Contact Number"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[(null===l||void 0===l?void 0:l.secondary_mobile_number)||"Not provided",(null===l||void 0===l?void 0:l.secondary_mobile_number)&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ws,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(Ja,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Email Address"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[(null===l||void 0===l?void 0:l.email_address)||"Not provided",(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white ml-2",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Address"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.full_address||"Not provided"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Chosen Plan"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[(null===l||void 0===l?void 0:l.desired_plan)||"Not specified",(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(Zt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Landmark"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===l||void 0===l?void 0:l.landmark)||"Not provided"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit By"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.visit_by_user_id||"Not assigned"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit With"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.visit_with||"None"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit Type"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:"Initial Visit"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit Status"}),(0,Mt.jsx)("div",{className:"text-".concat("completed"===(null===(t=f.visit_status)||void 0===t?void 0:t.toLowerCase())?"green":"orange","-500 flex-1"),children:f.visit_status||"Scheduled"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Visit Notes"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.visit_remarks||"No notes"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Assigned Email"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex items-center",children:[f.assigned_email||"Not assigned",f.assigned_email&&(0,Mt.jsx)("button",{className:"ml-2 text-gray-400",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Application Status"}),(0,Mt.jsx)("div",{className:"text-".concat("approved"===(null===(a=f.application_status)||void 0===a?void 0:a.toLowerCase())?"green":"yellow","-500 flex-1"),children:f.application_status||(null===l||void 0===l?void 0:l.status)||"Pending"})]}),(0,Mt.jsxs)("div",{className:"flex border-b border-gray-800 py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:f.updated_by_user_email||"System"})]}),(0,Mt.jsxs)("div",{className:"flex py-2",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:v(f.updated_at)||"Not modified"})]})]})})}),(0,Mt.jsx)(Gs,{isOpen:m,title:"Confirm",message:"Are you sure you want to move this application to JO?",confirmText:"Move to JO",cancelText:"Cancel",onConfirm:()=>{x(!1),p(!0)},onCancel:()=>x(!1)}),(0,Mt.jsx)(er,{isOpen:h,onClose:()=>p(!1),onSave:e=>{console.log("Job Order saved successfully:",e),console.log("Application Visit ID:",s.id),p(!1)},applicationData:{id:f.application_id,referred_by:(null===l||void 0===l?void 0:l.referred_by)||f.referred_by,first_name:(null===l||void 0===l?void 0:l.first_name)||f.first_name,middle_initial:(null===l||void 0===l?void 0:l.middle_initial)||f.middle_initial,last_name:(null===l||void 0===l?void 0:l.last_name)||f.last_name,email_address:null===l||void 0===l?void 0:l.email_address,mobile_number:null===l||void 0===l?void 0:l.mobile_number,secondary_mobile_number:null===l||void 0===l?void 0:l.secondary_mobile_number,installation_address:null===l||void 0===l?void 0:l.installation_address,barangay:null===l||void 0===l?void 0:l.barangay,city:null===l||void 0===l?void 0:l.city,region:null===l||void 0===l?void 0:l.region,desired_plan:null===l||void 0===l?void 0:l.desired_plan,landmark:null===l||void 0===l?void 0:l.landmark}}),(0,Mt.jsx)(Hr,{isOpen:g,onClose:()=>y(!1),onSave:e=>{console.log("Visit details updated successfully:",e),b(he(he({},f),e)),y(!1)},visitData:{id:f.id,first_name:(null===l||void 0===l?void 0:l.first_name)||f.first_name||"",middle_initial:(null===l||void 0===l?void 0:l.middle_initial)||f.middle_initial||"",last_name:(null===l||void 0===l?void 0:l.last_name)||f.last_name||"",contact_number:(null===l||void 0===l?void 0:l.mobile_number)||"",second_contact_number:(null===l||void 0===l?void 0:l.secondary_mobile_number)||"",email_address:(null===l||void 0===l?void 0:l.email_address)||"",address:f.full_address||"",barangay:(null===l||void 0===l?void 0:l.barangay)||"",city:(null===l||void 0===l?void 0:l.city)||"",region:(null===l||void 0===l?void 0:l.region)||"",choose_plan:(null===l||void 0===l?void 0:l.desired_plan)||"",visit_remarks:f.visit_remarks||"",status_remarks:f.status_remarks||"",visit_notes:f.visit_remarks||"",assigned_email:f.assigned_email||"",visit_by:f.visit_by_user_id||"",visit_with:f.visit_with||"",visit_with_other:"",application_status:f.application_status||"",visit_status:f.visit_status||""}})]})},Gr=()=>{const[e,t]=(0,r.useState)("all"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),x=e=>{if(!e)return"Not scheduled";try{return new Date(e).toLocaleString()}catch(t){return e}};(0,r.useEffect)(()=>{(async()=>{try{d(!0),console.log("Fetching application visits...");const e=await(async()=>{try{const e=await Rt.get("/application-visits");return e.data&&e.data.data?e.data:{success:!1,data:[],message:"Invalid response format from API"}}catch(u){return console.error("Error fetching application visits:",u),{success:!1,data:[],message:u.message}}})();if(console.log("API Response:",e),!e.success)throw new Error(e.message||"Failed to fetch application visits");if(e.success&&Array.isArray(e.data)){console.log("Found ".concat(e.data.length," application visits")),e.data.length>0&&console.log("First item example:",e.data[0]);const t=e.data.map(e=>({id:e.id||"",application_id:e.application_id||"",timestamp:e.timestamp||e.created_at||"",assigned_email:e.assigned_email||"",visit_by_user_id:e.visit_by_user_id||"",visit_with:e.visit_with||"",visit_status:e.visit_status||"Scheduled",visit_remarks:e.visit_remarks||"",status_remarks:e.status_remarks||"",application_status:e.application_status||"Pending",full_name:e.full_name||"",full_address:e.full_address||"",referred_by:e.referred_by||"",updated_by_user_email:e.updated_by_user_email||"System",created_at:e.created_at||"",updated_at:e.updated_at||"",first_name:e.first_name||"",middle_initial:e.middle_initial||"",last_name:e.last_name||""}));o(t),m(null),console.log("Application visits data processed successfully",t)}else console.warn("No application visits returned from API or invalid response format",e),o([]),e.message&&m(e.message)}catch(e){console.error("Error fetching application visits:",e),m(e.message||"Failed to load application visits. Please try again."),o([])}finally{d(!1)}})()},[]);const h=[{id:"all",name:"All",count:i.length}],p=new Set;i.forEach(e=>{const t=e.full_address.split(","),a=t.length>3?t[3].trim():"";a&&p.add(a.toLowerCase())});Array.from(p).forEach(e=>{e&&h.push({id:e,name:e.charAt(0).toUpperCase()+e.slice(1),count:i.filter(t=>{const a=t.full_address.split(",");return(a.length>3?a[3].trim():"").toLowerCase()===e}).length})});const g=i.filter(t=>{const s=t.full_address.split(","),r=s.length>3?s[3].trim().toLowerCase():"",n="all"===e||r===e,l=""===a||t.full_name.toLowerCase().includes(a.toLowerCase())||t.full_address.toLowerCase().includes(a.toLowerCase())||(t.assigned_email||"").toLowerCase().includes(a.toLowerCase());return n&&l}),y=e=>{let{status:t,type:a}=e,s="";if("visit"===a)switch(t.toLowerCase()){case"completed":s="text-green-500";break;case"scheduled":s="text-yellow-500";break;case"pending":s="text-blue-500";break;case"cancelled":s="text-red-500";break;default:s="text-gray-400"}else switch(t.toLowerCase()){case"approved":case"done":s="text-green-500";break;case"pending":s="text-yellow-500";break;case"under review":case"scheduled":s="text-blue-500";break;case"rejected":case"failed":s="text-red-500";break;default:s="text-gray-400"}return(0,Mt.jsx)("span",{className:"".concat(s," capitalize"),children:t})};return c?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-orange-500 mb-3"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Loading application visits..."})]})}):u?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-950",children:(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-md p-6 max-w-lg",children:[(0,Mt.jsx)("h3",{className:"text-red-500 text-lg font-medium mb-2",children:"Error"}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-4",children:u}),(0,Mt.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded",children:"Retry"}),(0,Mt.jsx)("div",{className:"mt-4 p-4 bg-gray-900 rounded overflow-auto max-h-48",children:(0,Mt.jsx)("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:u.includes("SQLSTATE")?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("span",{className:"text-red-400",children:"Database Error:"}),(0,Mt.jsx)("br",{}),u.includes("Table")?"Table name mismatch - check the database schema":u,(0,Mt.jsx)("br",{}),(0,Mt.jsx)("br",{}),(0,Mt.jsx)("span",{className:"text-yellow-400",children:"Suggestion:"}),(0,Mt.jsx)("br",{}),"Verify that the table 'application_visits' exists in your database."]}):u})})]})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Application Visits"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:h.map(a=>(0,Mt.jsxs)("button",{onClick:()=>{t(a.id)},className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Va,{className:"h-4 w-4 mr-2"}),(0,Mt.jsx)("span",{className:"capitalize",children:a.name})]}),a.count>0&&(0,Mt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden ".concat("flex-1"),children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search application visits...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 flex items-center",children:[(0,Mt.jsx)("span",{className:"mr-2",children:"Filter"}),(0,Mt.jsx)($s,{className:"h-4 w-4"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-x-auto overflow-y-auto pb-4",children:(0,Mt.jsxs)("table",{className:"min-w-full divide-y divide-gray-700 text-sm",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 sticky top-0",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Timestamp"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Full Name"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Assigned Email"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Visit Status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Application Status"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status Remarks"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Referred By"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Full Address"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Visit By"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Visit With"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Visit With(Other)"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Visit Remarks"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Modified Date"}),(0,Mt.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider whitespace-nowrap",children:"Modified By"})]})}),(0,Mt.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:g.length>0?g.map(e=>(0,Mt.jsxs)("tr",{className:"hover:bg-gray-800 cursor-pointer ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(async e=>{try{if(e.application_status)l(e);else try{const t=await Hs(e.application_id),a=he(he({},e),{},{application_status:t.status||"Pending"});l(a)}catch(t){console.error("Error fetching application data:",t),l(e)}}catch(t){console.error("Error selecting visit:",t),m("Failed to select visit: ".concat(t.message||"Unknown error"))}})(e),children:[(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:x(e.timestamp)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.full_name}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.assigned_email||"Unassigned"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Mt.jsx)(y,{status:e.visit_status||"Scheduled",type:"visit"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Mt.jsx)(y,{status:e.application_status||"Pending",type:"application"})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate",children:e.status_remarks||"No remarks"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.referred_by||"None"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate",children:e.full_address||"No address"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.visit_by_user_id||"Unassigned"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.visit_with||"None"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:"N/A"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300 max-w-xs truncate",children:e.visit_remarks||"No remarks"}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:x(e.updated_at)}),(0,Mt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:e.updated_by_user_email})]},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-400",children:i.length>0?"No application visits found matching your filters":"No application visits found. Create your first visit by scheduling from the Applications page."})})})]})})})]})}),n&&(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)(Jr,{applicationVisit:n,onClose:()=>l(null)})})]})},$r=Jt("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Kr=e=>{var t,a,s;let{isOpen:n,onClose:l,onSave:i,initialLocationType:o}=e;const[c,d]=(0,r.useState)({regionId:null,cityId:null,barangayId:null}),[u,m]=(0,r.useState)({}),[x,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[_,E]=(0,r.useState)(!1),[P,A]=(0,r.useState)(!1),[L,T]=(0,r.useState)(!1),[D,z]=(0,r.useState)([]),[I,R]=(0,r.useState)([]),[M,O]=(0,r.useState)([]),[B,F]=(0,r.useState)([]),[U,q]=(0,r.useState)([]),[W,V]=(0,r.useState)([]),[H,J]=(0,r.useState)([]);(0,r.useEffect)(()=>{n&&G()},[n]);const G=async()=>{g(!0);try{const[e,t,a,s]=await Promise.all([ir(),rr(),or(),cr()]);console.log("Fetched regions:",e),console.log("Fetched cities:",t),console.log("Fetched barangays:",a),console.log("Fetched villages:",s),z(e),R(t),O(a),F(s)}catch(e){console.error("Error fetching location data:",e)}finally{g(!1)}};(0,r.useEffect)(()=>{if(c.regionId){const e=I.filter(e=>e.region_id===c.regionId);q(e),console.log("Filtered ".concat(e.length," cities for region ").concat(c.regionId))}else q([]);d(e=>he(he({},e),{},{cityId:null,barangayId:null}))},[c.regionId,I]),(0,r.useEffect)(()=>{if(c.cityId){const e=M.filter(e=>e.city_id===c.cityId);V(e),console.log("Filtered ".concat(e.length," barangays for city ").concat(c.cityId))}else V([]);d(e=>he(he({},e),{},{barangayId:null}))},[c.cityId,M]),(0,r.useEffect)(()=>{if(c.barangayId){const e=B.filter(e=>e.borough_id===c.barangayId||e.barangay_id===c.barangayId);J(e),console.log("Filtered ".concat(e.length," villages for barangay ").concat(c.barangayId))}else J([])},[c.barangayId,B]);const $=(e,t)=>{d(a=>he(he({},a),{},{[e]:t})),u[e]&&m(t=>he(he({},t),{},{[e]:""}))},K=()=>{d({regionId:null,cityId:null,barangayId:null}),m({}),C(!1),E(!1),A(!1),T(!1),f(""),v(""),N(""),k(""),l()};return n?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Add Location"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:K,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return c.regionId||S||(e.regionId="Region is required"),!c.cityId&&!_||c.regionId||S||(e.regionId="Region must be selected before adding a city"),!c.barangayId&&!P||c.cityId||_||(e.cityId="City must be selected before adding a barangay"),!L||c.barangayId||P||(e.barangayId="Barangay must be selected before adding a village"),m(e),0===Object.keys(e).length})()){h(!0);try{const e={region:{isNew:S,name:S?y:null,id:c.regionId},city:{isNew:_,name:_?b:null,id:c.cityId},barangay:{isNew:P,name:P?j:null,id:c.barangayId},village:{isNew:L,name:L?w:null,id:null}};if(e.village.isNew&&!e.barangay.isNew&&!e.barangay.id)return alert("Please select a barangay or create a new one before adding a village"),void h(!1);if((e.barangay.isNew||e.village.isNew)&&!e.city.isNew&&!e.city.id)return alert("Please select a city or create a new one before adding a barangay or village"),void h(!1);if((e.city.isNew||e.barangay.isNew||e.village.isNew)&&!e.region.isNew&&!e.region.id)return alert("Please select a region or create a new one before adding a city, barangay, or village"),void h(!1);if(e.region.isNew&&!e.region.name.trim())return alert("Please enter a region name"),void h(!1);if(e.city.isNew&&!e.city.name.trim())return alert("Please enter a city name"),void h(!1);if(e.barangay.isNew&&!e.barangay.name.trim())return alert("Please enter a barangay name"),void h(!1);if(e.village.isNew&&!e.village.name.trim())return alert("Please enter a village name"),void h(!1);console.log("Cascading location creation:",e);let t=e.region.id;if(e.region.isNew){console.log("Creating new region:",e.region.name);t=(await(async e=>{try{const t=await Rt.post("/regions",e);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create region")}catch(t){throw console.error("Error creating region:",t),t}})({name:e.region.name})).id,console.log("Region created with ID:",t)}let a=e.city.id;if(e.city.isNew&&t){console.log("Creating new city:",e.city.name,"with region_id:",t);a=(await(async e=>{try{const t=await Rt.post("/cities",e);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create city")}catch(t){throw console.error("Error creating city:",t),t}})({name:e.city.name,region_id:t})).id,console.log("City created with ID:",a)}let s=e.barangay.id;if(e.barangay.isNew&&a){console.log("Creating new barangay:",e.barangay.name,"with city_id:",a);s=(await(async e=>{try{const t=await Rt.post("/barangays",e);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create barangay")}catch(t){throw console.error("Error creating barangay:",t),t}})({name:e.barangay.name,city_id:a})).id,console.log("Barangay created with ID:",s)}if(e.village.isNew&&s){console.log("Creating new village:",e.village.name,"with barangay_id:",s);const t=await(async e=>{try{const t=await Rt.post("/villages",e);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create village")}catch(t){throw console.error("Error creating village:",t),t}})({name:e.village.name,barangay_id:s});console.log("Village created with ID:",t.id)}const r=[];e.region.isNew&&r.push("Region: ".concat(e.region.name)),e.city.isNew&&r.push("City: ".concat(e.city.name)),e.barangay.isNew&&r.push("Barangay: ".concat(e.barangay.name)),e.village.isNew&&r.push("Village: ".concat(e.village.name)),r.length>0&&alert("Successfully created:\n".concat(r.join("\n"))),i(e),h(!1),K()}catch(a){var e,t;console.error("Error creating location:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message||"Failed to create location. Please try again.";alert("Error: ".concat(s)),h(!1)}}},disabled:x,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:x?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:K,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:p?(0,Mt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),S?(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"Enter new region name",className:"w-full px-3 py-2 bg-gray-800 border border-orange-500 rounded text-white focus:outline-none focus:border-orange-500",autoFocus:!0}),(0,Mt.jsx)("button",{onClick:()=>{C(!1),f("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:"\u2715"})]}):(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:(null===(t=c.regionId)||void 0===t?void 0:t.toString())||"",onChange:e=>{var t;"add_new"===(t=e.target.value)?(C(!0),$("regionId",null)):(C(!1),$("regionId",parseInt(t)))},className:"w-full px-3 py-2 bg-gray-800 border ".concat(u.regionId?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Region"}),D.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.name},e.id)),(0,Mt.jsx)("option",{value:"add_new",className:"text-orange-400",children:"+ Add New Region"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),u.regionId&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.regionId})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["City",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),_?(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Enter new city name",className:"w-full px-3 py-2 bg-gray-800 border border-orange-500 rounded text-white focus:outline-none focus:border-orange-500",autoFocus:!0}),(0,Mt.jsx)("button",{onClick:()=>{E(!1),v("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:"\u2715"})]}):(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:(null===(a=c.cityId)||void 0===a?void 0:a.toString())||"",onChange:e=>{var t;"add_new"===(t=e.target.value)?(E(!0),$("cityId",null)):(E(!1),$("cityId",parseInt(t)))},disabled:!c.regionId&&!S,className:"w-full px-3 py-2 bg-gray-800 border ".concat(u.cityId?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,Mt.jsx)("option",{value:"",children:"Select City"}),U.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.name},e.id)),(0,Mt.jsx)("option",{value:"add_new",className:"text-orange-400",children:"+ Add New City"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),u.cityId&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.cityId})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),P?(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Enter new barangay name",className:"w-full px-3 py-2 bg-gray-800 border border-orange-500 rounded text-white focus:outline-none focus:border-orange-500",autoFocus:!0}),(0,Mt.jsx)("button",{onClick:()=>{A(!1),N("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:"\u2715"})]}):(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:(null===(s=c.barangayId)||void 0===s?void 0:s.toString())||"",onChange:e=>{var t;"add_new"===(t=e.target.value)?(A(!0),$("barangayId",null)):(A(!1),$("barangayId",parseInt(t)))},disabled:!c.cityId&&!_,className:"w-full px-3 py-2 bg-gray-800 border ".concat(u.barangayId?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,Mt.jsx)("option",{value:"",children:"Select Barangay"}),W.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.name},e.id)),(0,Mt.jsx)("option",{value:"add_new",className:"text-orange-400",children:"+ Add New Barangay"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),u.barangayId&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.barangayId})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Village"}),L?(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"Enter new village name",className:"w-full px-3 py-2 bg-gray-800 border border-orange-500 rounded text-white focus:outline-none focus:border-orange-500",autoFocus:!0}),(0,Mt.jsx)("button",{onClick:()=>{T(!1),k("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:"\u2715"})]}):(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:"",onChange:e=>{"add_new"===e.target.value&&T(!L)},disabled:!c.barangayId&&!P,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Mt.jsx)("option",{value:"",children:"Select Village"}),H.map(e=>(0,Mt.jsx)("option",{value:e.id,children:e.name},e.id)),(0,Mt.jsx)("option",{value:"add_new",className:"text-orange-400",children:"+ Add New Village"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]})]})})]})}):null},Qr=e=>{let{isOpen:t,location:a,allLocations:s=[],onClose:n,onEdit:l,onDelete:i,onSelectLocation:o}=e;const[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[p,g]=(0,r.useState)("");if((0,r.useEffect)(()=>{if(a&&t){if(d(a.name),console.log("=== EDIT LOCATION MODAL DEBUG ==="),console.log("Location data:",a),console.log("All locations count:",s.length),console.log("All locations:",s),"village"===a.type){if(console.log("--- Village Lookup ---"),console.log("Village boroughId:",a.boroughId),console.log("Village parentId:",a.parentId),a.boroughId||a.parentId){const e=a.boroughId||a.parentId;console.log("Looking for barangay with ID:",e);const t=s.find(t=>(console.log("Checking location: type=".concat(t.type,", id=").concat(t.id)),"borough"===t.type&&t.id===e));if(console.log("Found barangay:",t),t&&(m(t.name),console.log("Set barangay name to:",t.name),t.cityId)){console.log("Looking for city with ID:",t.cityId);const e=s.find(e=>"city"===e.type&&e.id===t.cityId);if(console.log("Found city:",e),e&&(h(e.name),console.log("Set city name to:",e.name),e.regionId)){console.log("Looking for region with ID:",e.regionId);const t=s.find(t=>"region"===t.type&&t.id===e.regionId);console.log("Found region:",t),t&&(g(t.name),console.log("Set region name to:",t.name))}}}if(!u&&a.parentName&&(console.log("Using parentName for barangay:",a.parentName),m(a.parentName)),!x&&a.cityId){console.log("Using direct cityId:",a.cityId);const e=s.find(e=>"city"===e.type&&e.id===a.cityId);e&&h(e.name)}if(!p&&a.regionId){console.log("Using direct regionId:",a.regionId);const e=s.find(e=>"region"===e.type&&e.id===a.regionId);e&&g(e.name)}}console.log("=== END DEBUG ===")}},[a,t,s]),!t||!a)return null;return(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 flex flex-col overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700 flex-shrink-0",children:[(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Edit ",(y=a.type,{city:"City",region:"Region",borough:"Barangay",village:"Village"}[y]||y)]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:()=>{const e=he(he({},a),{},{name:c});l(e)},className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors",children:"Save"}),(0,Mt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,Mt.jsxs)("div",{className:"max-w-3xl space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"})]}),"village"===a.type&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Barangay",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:u,disabled:!0,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-500 cursor-not-allowed"})]}),"village"===a.type&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["City",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:x,disabled:!0,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-500 cursor-not-allowed"})]}),"village"===a.type&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Region",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:p,disabled:!0,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-500 cursor-not-allowed"})]}),"village"!==a.type&&"region"!==a.type&&a.parentName&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["city"===a.type?"Region":"borough"===a.type?"City":"Parent",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:a.parentName,disabled:!0,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-500 cursor-not-allowed"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["id",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:a.id,disabled:!0,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-500 cursor-not-allowed"})]})]})})]})});var y},Yr=Jt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Xr=e=>{let{isOpen:t,location:a,onClose:s,onEdit:n,onDelete:l}=e;const[i,o]=(0,r.useState)({relatedApplications:!1,relatedServiceOrders:!1});if(!t||!a)return null;const c=e=>{o(t=>he(he({},t),{},{[e]:!t[e]}))};return(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"w-full max-w-2xl h-full bg-gray-900 flex flex-col overflow-hidden border-l border-gray-700 animate-slide-in",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-white font-semibold text-xl",children:a.name}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>{l(a)},className:"text-gray-400 hover:text-white p-2 rounded hover:bg-gray-700 transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:20})}),(0,Mt.jsxs)("button",{onClick:()=>{n(a)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded flex items-center space-x-2 transition-colors",children:[(0,Mt.jsx)(fa,{size:18}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white p-1 rounded",children:(0,Mt.jsx)(Is,{size:20})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white p-1 rounded",children:(0,Mt.jsx)(Rs,{size:20})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white p-1 rounded",children:(0,Mt.jsx)(Xt,{size:20})}),(0,Mt.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white p-1 rounded","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:22})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:[(0,Mt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Name"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Type"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:(d=a.type,{city:"City",region:"Region",borough:"Barangay",village:"Village"}[d]||d)})]}),a.parentName&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"city"===a.type?"Region":"borough"===a.type?"City":"village"===a.type?"Barangay":"Parent"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.parentName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"id"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.id})]}),"city"===a.type&&a.parentId&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Region ID"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.parentId})]}),"borough"===a.type&&(0,Mt.jsxs)(Mt.Fragment,{children:[a.cityId&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"City ID"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.cityId})]}),a.regionId&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Region ID"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.regionId})]})]}),"village"===a.type&&(0,Mt.jsxs)(Mt.Fragment,{children:[a.boroughId&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Barangay ID"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.boroughId})]}),a.cityId&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"City ID"}),(0,Mt.jsx)("div",{className:"text-white text-base",children:a.cityId})]})]})]}),(0,Mt.jsxs)("div",{className:"border-t border-gray-700",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("h3",{className:"text-white font-medium text-base",children:"Related Applications"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),(0,Mt.jsx)("button",{onClick:()=>c("relatedApplications"),className:"text-gray-400 hover:text-white transition-colors",children:i.relatedApplications?(0,Mt.jsx)(Yr,{size:20}):(0,Mt.jsx)($s,{size:20})})]}),i.relatedApplications&&(0,Mt.jsx)("div",{className:"bg-gray-900 p-4",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"text-gray-400 border-b border-gray-700",children:[(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Customer Name"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Address"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Status"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Date"})]})}),(0,Mt.jsx)("tbody",{children:(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:"No related applications found"})})})]})})})]}),(0,Mt.jsxs)("div",{className:"border-t border-gray-700",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("h3",{className:"text-white font-medium text-base",children:"Related Service Orders"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:"0"})]}),(0,Mt.jsx)("button",{onClick:()=>c("relatedServiceOrders"),className:"text-gray-400 hover:text-white transition-colors",children:i.relatedServiceOrders?(0,Mt.jsx)(Yr,{size:20}):(0,Mt.jsx)($s,{size:20})})]}),i.relatedServiceOrders&&(0,Mt.jsx)("div",{className:"bg-gray-900 p-4",children:(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"text-gray-400 border-b border-gray-700",children:[(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Service Type"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Customer"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Status"}),(0,Mt.jsx)("th",{className:"text-left py-2 px-2",children:"Date"})]})}),(0,Mt.jsx)("tbody",{children:(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:"No related service orders found"})})})]})})})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-t border-gray-700",children:(0,Mt.jsx)("button",{className:"w-full text-red-500 hover:text-red-400 text-sm font-medium transition-colors",children:"Expand"})})]})]})});var d},Zr=()=>{const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[y,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(!0),[j,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{w()},[]);const w=async()=>{v(!0),N(null);try{const[e,t,a,s]=await Promise.all([ir(),rr(),or(),cr()]);console.log("Fetched regions:",e),console.log("Fetched cities:",t),console.log("Fetched boroughs:",a),console.log("Fetched villages:",s),h(e),m(t),g(a),f(s)}catch(e){console.error("Error fetching location data:",e),N("Failed to load location data. Please try again.")}finally{v(!1)}},k=(0,r.useMemo)(()=>{const e=[];return u.forEach(t=>{var a;e.push({id:t.id,name:t.name,type:"city",parentId:t.region_id,parentName:null===(a=x.find(e=>e.id===t.region_id))||void 0===a?void 0:a.name})}),x.forEach(t=>{e.push({id:t.id,name:t.name,type:"region",regionId:t.id})}),p.forEach(t=>{const a=u.find(e=>e.id===t.city_id);x.find(e=>e.id===(null===a||void 0===a?void 0:a.region_id));e.push({id:t.id,name:t.name,type:"borough",parentId:t.city_id,parentName:null===a||void 0===a?void 0:a.name,cityId:t.city_id,regionId:null===a||void 0===a?void 0:a.region_id})}),y.forEach(t=>{const a=p.find(e=>e.id===t.borough_id),s=u.find(e=>e.id===(null===a||void 0===a?void 0:a.city_id));e.push({id:t.id,name:t.name,type:"village",parentId:t.borough_id,parentName:null===a||void 0===a?void 0:a.name,boroughId:t.borough_id,cityId:null===a||void 0===a?void 0:a.city_id,regionId:null===s||void 0===s?void 0:s.region_id})}),e},[u,x,p,y]),S=(0,r.useMemo)(()=>k.filter(e=>""===i||e.name.toLowerCase().includes(i.toLowerCase())||e.parentName&&e.parentName.toLowerCase().includes(i.toLowerCase())),[k,i]),C=async(e,t)=>{t.stopPropagation();const a="Are you sure you want to delete ".concat(e.name,"?");if(window.confirm(a))try{switch(console.log("Deleting location:",e),e.type){case"region":await dr(e.id,!1);break;case"city":await ur(e.id,!1);break;case"borough":await mr(e.id,!1);break;case"village":await xr(e.id,!1);break;default:throw new Error("Unknown location type: ".concat(e.type))}console.log("Location deleted successfully"),await w(),l(!1),s(!1),d(null)}catch(j){var r,n,i,o,c,u;if(console.error("Error deleting location:",j),422===(null===(r=j.response)||void 0===r?void 0:r.status)&&null!==(n=j.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.can_cascade){const a=j.response.data.data;let r="".concat(e.name," contains:\n\n");if("region"===a.type?(r+="- ".concat(a.city_count," ").concat(1===a.city_count?"city":"cities","\n"),r+="- ".concat(a.barangay_count," ").concat(1===a.barangay_count?"barangay":"barangays","\n"),r+="\nDeleting this region will also delete all cities and barangays."):"city"===a.type?(r+="- ".concat(a.barangay_count," ").concat(1===a.barangay_count?"barangay":"barangays","\n"),r+="\nDeleting this city will also delete all barangays."):"barangay"===a.type&&(r+="- ".concat(a.village_count," ").concat(1===a.village_count?"village":"villages","\n"),r+="\nDeleting this barangay will also delete all villages."),r+="\n\nDo you want to proceed?",window.confirm(r))try{switch(e.type){case"region":await dr(e.id,!0);break;case"city":await ur(e.id,!0);break;case"borough":await mr(e.id,!0);break;case"village":await xr(e.id,!0)}console.log("Location deleted successfully with cascade"),await w(),l(!1),s(!1),d(null)}catch(m){console.error("Error during cascade delete:",m),alert("Failed to delete location. Please try again.")}}else null!==(c=j.response)&&void 0!==c&&null!==(u=c.data)&&void 0!==u&&u.message?alert(j.response.data.message):alert("Failed to delete location. Please try again.")}},_=e=>({city:"City",region:"Region",borough:"Barangay",village:"Village"}[e]||e);return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden flex-1",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search locations...",value:i,onChange:e=>o(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{onClick:()=>t(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),(0,Mt.jsx)("span",{children:"Add"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:b?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading locations..."})]}):j?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:j}),(0,Mt.jsx)("button",{onClick:()=>w(),className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):S.length>0?(0,Mt.jsx)("div",{className:"space-y-0",children:S.map(e=>{return(0,Mt.jsx)("div",{onClick:()=>(e=>{d(e),l(!0)})(e),className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-white font-medium text-sm mb-1 uppercase",children:e.name}),(0,Mt.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.parentName&&(0,Mt.jsxs)("span",{children:[e.parentName," | "]}),(0,Mt.jsx)("span",{className:(t=e.type,{city:"text-blue-400",region:"text-green-400",borough:"text-purple-400",village:"text-yellow-400"}[t]||"text-gray-400"),children:_(e.type)})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[(0,Mt.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),d(e),s(!0)})(e,t),className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-gray-700 rounded transition-colors",title:"Edit location",children:(0,Mt.jsx)($r,{size:16})}),(0,Mt.jsx)("button",{onClick:t=>C(e,t),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded transition-colors",title:"Delete location",children:(0,Mt.jsx)(ya,{size:16})})]})]})},"".concat(e.type,"-").concat(e.id));var t})}):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No locations found matching your filters"})})})]})}),(0,Mt.jsx)(Kr,{isOpen:e,onClose:()=>t(!1),onSave:e=>{console.log("New location added:",e),w()}}),(0,Mt.jsx)(Xr,{isOpen:n,location:c,onClose:()=>{l(!1),d(null)},onEdit:e=>{l(!1),s(!0)},onDelete:e=>{l(!1),C(e,{stopPropagation:()=>{}})}}),(0,Mt.jsx)(Qr,{isOpen:a,location:c,allLocations:k,onClose:()=>{s(!1),d(null)},onEdit:async e=>{try{console.log("Updating location:",e),await w(),s(!1),d(null)}catch(j){console.error("Error updating location:",j),alert("Failed to update location. Please try again.")}},onDelete:e=>{C(e,{stopPropagation:()=>{}})},onSelectLocation:e=>{d(e)}})]})},en=Jt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),tn=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)({name:"",description:"",price:0}),[x,h]=(0,r.useState)(new Set),[p,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),b={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_API_URL||"http://localhost:8000/api";(0,r.useEffect)(()=>{v()},[]),(0,r.useEffect)(()=>{i&&setTimeout(()=>f(!0),10)},[i]);const v=async()=>{l(!0);try{const e=await fetch("".concat(b,"/plans"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error("HTTP error! status: ".concat(e.status,", message: ").concat(t.message||"Unknown error"))}const t=await e.json();t.success?s(t.data||[]):(console.error("API returned error:",t.message),s([]))}catch(e){console.error("Error loading plans:",e),s([])}finally{l(!1)}},j=()=>{f(!1),setTimeout(()=>{o(!1),d(null)},300)},N=()=>{m({name:"",description:"",price:0})},w=e?a.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description&&t.description.toLowerCase().includes(e.toLowerCase())):a;return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-950 relative",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"px-6 py-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Plan List"}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsxs)("button",{onClick:()=>{d(null),N(),o(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-2",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),"Add"]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)(ga,{className:"h-5 w-5"})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,Mt.jsx)("input",{type:"text",placeholder:"Search Plan List",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-gray-600 focus:outline-none"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-auto",children:n?(0,Mt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Mt.jsx)(en,{className:"h-8 w-8 animate-spin text-white"})}):w.length>0?(0,Mt.jsx)("div",{children:w.map(e=>{const t=void 0===e.is_active||e.is_active;return(0,Mt.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsx)("h3",{className:"text-white font-medium text-lg",children:e.name}),(0,Mt.jsx)("span",{className:"text-green-400 font-semibold",children:(s=e.price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(s))}),t&&(0,Mt.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-green-800 text-green-400",children:"Active"})]}),e.description&&(0,Mt.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e.description}),(0,Mt.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,Mt.jsxs)("span",{children:["Modified: ",(a=e.modified_date,a?new Date(a).toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A")]}),(0,Mt.jsxs)("span",{children:["By: ",e.modified_by||"System"]})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{d(e),m({name:e.name,description:e.description||"",price:e.price||0}),o(!0)})(e),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",title:"Edit",children:(0,Mt.jsx)($r,{className:"h-4 w-4"})}),(0,Mt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('\u26a0\ufe0f PERMANENT DELETE WARNING \u26a0\ufe0f\n\nAre you sure you want to permanently delete "'.concat(e.name,'"?\n\nThis will PERMANENTLY REMOVE the plan from the database and CANNOT BE UNDONE!\n\nClick OK to permanently delete, or Cancel to keep the plan.'))){h(t=>{const a=new Set(t);return a.add(e.id),a});try{const t=await fetch("".concat(b,"/plans/").concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();t.ok&&a.success?(await v(),alert("\u2705 Plan permanently deleted from database: "+(a.message||"Plan deleted successfully"))):alert("\u274c Failed to delete plan: "+(a.message||"Failed to delete plan"))}catch(t){console.error("Error deleting plan:",t),alert("Failed to delete plan: "+(t instanceof Error?t.message:"Unknown error"))}finally{h(t=>{const a=new Set(t);return a.delete(e.id),a})}}})(e),disabled:x.has(e.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:x.has(e.id)?"Permanently Deleting...":"Permanently Delete",children:x.has(e.id)?(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}):(0,Mt.jsx)(ya,{className:"h-4 w-4"})})]})]})},e.id);var a,s})}):(0,Mt.jsx)("div",{className:"text-center py-20 text-gray-500",children:"No plans found"})}),i&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black z-40 transition-opacity duration-300 ".concat(y?"bg-opacity-50":"bg-opacity-0"),onClick:j}),(0,Mt.jsxs)("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-gray-900 shadow-2xl z-50 flex flex-col transform transition-all duration-300 ease-out ".concat(y?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-800",children:[(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,Mt.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-600"}),"Plan List Form"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsx)("button",{onClick:j,className:"px-6 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600",children:"Cancel"}),(0,Mt.jsxs)("button",{onClick:async()=>{if(u.name.trim())if(u.price<0)alert("Price cannot be negative");else{g(!0);try{const e={name:u.name.trim(),description:u.description.trim(),price:u.price},t=c?"".concat(b,"/plans/").concat(c.id):"".concat(b,"/plans"),a=c?"PUT":"POST",s=await fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();if(s.ok&&r.success)await v(),j(),N(),alert(r.message||"Plan ".concat(c?"updated":"added"," successfully"));else if(r.errors){const e=Object.values(r.errors).flat().join("\n");alert("Validation errors:\n"+e)}else alert(r.message||"Failed to ".concat(c?"update":"add"," plan"))}catch(e){console.error("Error submitting form:",e),alert("Failed to ".concat(c?"update":"add"," plan: ").concat(e instanceof Error?e.message:"Unknown error"))}finally{g(!1)}}else alert("Plan name is required")},disabled:p,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[p&&(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}),"Save"]})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"animate-fade-in",children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Plan Name",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:u.name,onChange:e=>m(he(he({},u),{},{name:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter plan name"})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:100ms]",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Mt.jsx)("textarea",{value:u.description,onChange:e=>m(he(he({},u),{},{description:e.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none resize-none",placeholder:"Enter plan description"})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:200ms]",children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Price",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-stretch",children:[(0,Mt.jsx)("div",{className:"flex items-center px-4 bg-gray-800 border border-gray-700 rounded-l-lg border-r-0",children:(0,Mt.jsx)("span",{className:"text-gray-400 font-medium",children:"\u20b1"})}),(0,Mt.jsx)("input",{type:"number",value:u.price,onChange:e=>m(he(he({},u),{},{price:Number(e.target.value)||0})),className:"flex-1 px-4 py-3 bg-gray-800 text-white border border-gray-700 focus:border-red-500 focus:outline-none text-center border-l-0 border-r-0",step:"0.01",min:"0"}),(0,Mt.jsxs)("div",{className:"flex flex-col border-t border-b border-r border-gray-700 rounded-r-lg overflow-hidden bg-gray-800",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>{m(he(he({},u),{},{price:u.price+1}))},className:"flex-1 px-3 py-1.5 text-gray-400 hover:text-white hover:bg-gray-600 flex items-center justify-center border-b border-gray-700",children:(0,Mt.jsx)(pa,{className:"h-4 w-4"})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>{u.price>0&&m(he(he({},u),{},{price:u.price-1}))},className:"flex-1 px-3 py-1.5 text-gray-400 hover:text-white hover:bg-gray-600 flex items-center justify-center",children:(0,Mt.jsx)(Ks,{className:"h-4 w-4"})})]})]})]}),(0,Mt.jsx)("div",{className:"animate-fade-in [animation-delay:300ms]",children:(0,Mt.jsx)("div",{className:"p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:(0,Mt.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,Mt.jsx)("strong",{children:"Note:"})," Modified date and user information will be set automatically when the plan is created or updated."]})})})]})})]})]})]})},an=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)({brand:"",model:"",description:"",modifiedDate:(new Date).toISOString().slice(0,16),modifiedBy:"ravenampere0123@gmail.com"}),[x,h]=(0,r.useState)(new Set),[p,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),b={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_API_URL||"http://localhost:8000/api";(0,r.useEffect)(()=>{v()},[]),(0,r.useEffect)(()=>{i&&setTimeout(()=>f(!0),10)},[i]);const v=async()=>{l(!0);try{console.log("Loading routers from API:","".concat(b,"/router-models"));const e=await fetch("".concat(b,"/router-models"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("API Response status:",e.status),console.log("API Response headers:",e.headers),!e.ok){const t=await e.json().catch(()=>({}));throw console.error("API Error:",t),new Error("HTTP error! status: ".concat(e.status,", message: ").concat(t.message||"Unknown error"))}const t=await e.json();console.log("API Response data:",t),t.success?(console.log("Setting routers data:",t.data),s(t.data||[])):(console.error("API returned error:",t.message),s([]))}catch(e){console.error("Error loading router models:",e),s([])}finally{l(!1)}},j=()=>{f(!1),setTimeout(()=>{o(!1),d(null)},300)},N=()=>{m({brand:"",model:"",description:"",modifiedDate:(new Date).toISOString().slice(0,16),modifiedBy:"ravenampere0123@gmail.com"})},w=e?a.filter(t=>t.brand&&t.brand.toLowerCase().includes(e.toLowerCase())||t.Model&&t.Model.toLowerCase().includes(e.toLowerCase())||t.SN&&t.SN.toLowerCase().includes(e.toLowerCase())||t.description&&t.description.toLowerCase().includes(e.toLowerCase())):a;return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-950 relative",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"px-6 py-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Router Models"}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsxs)("button",{onClick:()=>{d(null),N(),o(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-2",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),"Add"]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)(ga,{className:"h-5 w-5"})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,Mt.jsx)("input",{type:"text",placeholder:"Search Router Models",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-gray-600 focus:outline-none"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-auto",children:n?(0,Mt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Mt.jsx)(en,{className:"h-8 w-8 animate-spin text-white"})}):w.length>0?(0,Mt.jsx)("div",{children:w.map(e=>{const t=void 0===e.is_active||e.is_active;return(0,Mt.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsxs)("h3",{className:"text-white font-medium text-lg",children:[e.brand||"Unknown Brand"," ",e.Model||"Unknown Model"]}),(0,Mt.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-800 text-blue-400",children:["SN: ",e.SN]}),t&&(0,Mt.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-green-800 text-green-400",children:"Active"})]}),e.description&&(0,Mt.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e.description}),(0,Mt.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,Mt.jsxs)("span",{children:["Modified: ",(a=e.modified_date,a?new Date(a).toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A")]}),(0,Mt.jsxs)("span",{children:["By: ",e.modified_by||"System"]})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{d(e),m({brand:e.brand||"",model:e.Model||"",description:e.description||"",modifiedDate:(new Date).toISOString().slice(0,16),modifiedBy:"ravenampere0123@gmail.com"}),o(!0)})(e),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",title:"Edit",children:(0,Mt.jsx)($r,{className:"h-4 w-4"})}),(0,Mt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('\u26a0\ufe0f PERMANENT DELETE WARNING \u26a0\ufe0f\n\nAre you sure you want to permanently delete router model "'.concat(e.brand," ").concat(e.Model,'"?\n\nThis will PERMANENTLY REMOVE the router model from the database and CANNOT BE UNDONE!\n\nClick OK to permanently delete, or Cancel to keep the router model.'))){h(t=>{const a=new Set(t);return a.add(e.SN),a});try{const t=await fetch("".concat(b,"/router-models/").concat(e.SN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();t.ok&&a.success?(await v(),alert("\u2705 Router model permanently deleted from database: "+(a.message||"Router model deleted successfully"))):alert("\u274c Failed to delete router model: "+(a.message||"Failed to delete router model"))}catch(t){console.error("Error deleting router model:",t),alert("Failed to delete router model: "+(t instanceof Error?t.message:"Unknown error"))}finally{h(t=>{const a=new Set(t);return a.delete(e.SN),a})}}})(e),disabled:x.has(e.SN),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:x.has(e.SN)?"Permanently Deleting...":"Permanently Delete",children:x.has(e.SN)?(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}):(0,Mt.jsx)(ya,{className:"h-4 w-4"})})]})]})},e.SN);var a})}):(0,Mt.jsx)("div",{className:"text-center py-20 text-gray-500",children:"No router models found"})}),i&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black z-40 transition-opacity duration-300 ".concat(y?"bg-opacity-50":"bg-opacity-0"),onClick:j}),(0,Mt.jsxs)("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-gray-900 shadow-2xl z-50 flex flex-col transform transition-all duration-300 ease-out ".concat(y?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-800",children:[(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,Mt.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-600"}),"Router Models Form"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsx)("button",{onClick:j,className:"px-6 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600",children:"Cancel"}),(0,Mt.jsxs)("button",{onClick:async()=>{if(u.brand.trim())if(u.model.trim()){g(!0);try{const e={brand:u.brand.trim(),model:u.model.trim(),description:u.description.trim()},t=c?"".concat(b,"/router-models/").concat(c.SN):"".concat(b,"/router-models"),a=c?"PUT":"POST",s=await fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();if(s.ok&&r.success)await v(),j(),N(),alert(r.message||"Router model ".concat(c?"updated":"added"," successfully"));else if(r.errors){const e=Object.values(r.errors).flat().join("\n");alert("Validation errors:\n"+e)}else alert(r.message||"Failed to ".concat(c?"update":"add"," router model"))}catch(e){console.error("Error submitting form:",e),alert("Failed to ".concat(c?"update":"add"," router model: ").concat(e instanceof Error?e.message:"Unknown error"))}finally{g(!1)}}else alert("Model is required");else alert("Brand is required")},disabled:p,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[p&&(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}),"Save"]})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"animate-fade-in",children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Brand",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:u.brand,onChange:e=>m(he(he({},u),{},{brand:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter router brand"})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:100ms]",children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Model",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:u.model,onChange:e=>m(he(he({},u),{},{model:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter router model"})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:200ms]",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Mt.jsx)("textarea",{value:u.description,onChange:e=>m(he(he({},u),{},{description:e.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none resize-none",placeholder:"Enter router description or specifications"})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:300ms]",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"email",value:u.modifiedBy,onChange:e=>m(he(he({},u),{},{modifiedBy:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter email address",readOnly:!0}),(0,Mt.jsx)(La,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500 pointer-events-none"})]})]}),(0,Mt.jsxs)("div",{className:"animate-fade-in [animation-delay:400ms]",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified Date"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"datetime-local",value:u.modifiedDate,onChange:e=>m(he(he({},u),{},{modifiedDate:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",readOnly:!0}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500 pointer-events-none"})]})]}),(0,Mt.jsx)("div",{className:"animate-fade-in [animation-delay:500ms]",children:(0,Mt.jsx)("div",{className:"p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:(0,Mt.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,Mt.jsx)("strong",{children:"Note:"})," Serial Number (SN) will be automatically generated based on brand and model. Modified date and user information will be set automatically when the router model is created or updated."]})})})]})})]})]})]})},sn=e=>{let{isOpen:t,onClose:a,onSave:s,lcpItem:n}=e;const[l,i]=(0,r.useState)({name:""}),[o,c]=(0,r.useState)({}),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[h]=(0,r.useState)("ravenampere0123@gmail.com");(0,r.useEffect)(()=>{i(n?{name:n.lcp_name}:{name:""});const e=new Date,t=p(e);x(t)},[n]);const p=e=>{const t=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();let r=e.getHours();const n=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),i=r>=12?"pm":"am";r%=12,r=r||12;const o=String(r).padStart(2,"0");return"".concat(t,"/").concat(a,"/").concat(s," ").concat(o,":").concat(n,":").concat(l," ").concat(i)},g=()=>{i({name:""}),c({}),a()};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})}),(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:n?n.lcp_name:"Add LCP"})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:g,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm border border-red-600",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return l.name.trim()||(e.name="LCP Name is required"),c(e),0===Object.keys(e).length})()){u(!0);try{await s(l),u(!1),g()}catch(a){var e,t;console.error("Error saving LCP:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message||"Failed to save LCP. Please try again.";alert("Error: ".concat(s)),u(!1)}}},disabled:d,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:d?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["LCP Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:l.name,onChange:e=>{return t=e.target.value,i({name:t}),void(o.name&&c(e=>he(he({},e),{},{name:""})));var t},placeholder:"Enter LCP name",className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.name?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-red-500"),autoFocus:!0}),o.name&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified Date"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:m,readOnly:!0,className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded text-gray-400 cursor-not-allowed"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-500",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsx)("div",{className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-400",children:h})]})]})]})}):null},rn=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(new Set),p={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_API_URL||"http://localhost:8000/api";(0,r.useEffect)(()=>{g()},[]);const g=async()=>{l(!0),m(null);try{const e=await fetch("".concat(p,"/lcp"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();t.success?s(t.data||[]):m(t.message||"Failed to load LCP items")}catch(u){console.error("Error loading LCP items:",u),m("Failed to load LCP items. Please try again.")}finally{l(!1)}},y=a.filter(t=>!e||t.lcp_name.toLowerCase().includes(e.toLowerCase()));return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden flex-1",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search LCP",value:e,onChange:e=>t(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{onClick:()=>{d(null),o(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),(0,Mt.jsx)("span",{children:"Add"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:n?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading LCP items..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:()=>g(),className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):y.length>0?(0,Mt.jsx)("div",{className:"space-y-0",children:y.map(e=>(0,Mt.jsx)("div",{className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Mt.jsx)("div",{className:"text-white font-medium text-sm mb-1 uppercase",children:e.lcp_name})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[(0,Mt.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),d(e),o(!0)})(e,t),className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-gray-700 rounded transition-colors",title:"Edit LCP",children:(0,Mt.jsx)($r,{size:16})}),(0,Mt.jsx)("button",{onClick:t=>(async(e,t)=>{if(t.stopPropagation(),window.confirm('\u26a0\ufe0f PERMANENT DELETE WARNING \u26a0\ufe0f\n\nAre you sure you want to permanently delete "'.concat(e.lcp_name,'"?\n\nThis action CANNOT BE UNDONE!\n\nClick OK to permanently delete, or Cancel to keep the item.'))){h(t=>{const a=new Set(t);return a.add(e.id),a});try{const t=await fetch("".concat(p,"/lcp/").concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();t.ok&&a.success?await g():alert("\u274c Failed to delete LCP: "+(a.message||"Unknown error"))}catch(u){console.error("Error deleting LCP:",u),alert("Failed to delete LCP: "+(u instanceof Error?u.message:"Unknown error"))}finally{h(t=>{const a=new Set(t);return a.delete(e.id),a})}}})(e,t),disabled:x.has(e.id),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:x.has(e.id)?"Deleting...":"Delete LCP",children:x.has(e.id)?(0,Mt.jsx)(en,{size:16,className:"animate-spin"}):(0,Mt.jsx)(ya,{size:16})})]})]})},e.id))}):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No LCP items found"})})})]})}),(0,Mt.jsx)(sn,{isOpen:i,onClose:()=>{o(!1),d(null)},onSave:async e=>{try{const t=c?"".concat(p,"/lcp/").concat(c.id):"".concat(p,"/lcp"),a=c?"PUT":"POST",s=await fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name.trim()})}),r=await s.json();if(!s.ok||!r.success){if(r.errors){const e=Object.values(r.errors).flat().join("\n");throw new Error("Validation errors:\n"+e)}throw new Error(r.message||"Failed to ".concat(c?"update":"add"," LCP"))}await g()}catch(u){throw console.error("Error submitting form:",u),u}},lcpItem:c})]})},nn=e=>{let{isOpen:t,onClose:a,onSave:s,napItem:n}=e;const[l,i]=(0,r.useState)({name:""}),[o,c]=(0,r.useState)({}),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[h]=(0,r.useState)("ravenampere0123@gmail.com");(0,r.useEffect)(()=>{i(n?{name:n.nap_name}:{name:""});const e=new Date,t=p(e);x(t)},[n]);const p=e=>{const t=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();let r=e.getHours();const n=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),i=r>=12?"pm":"am";r%=12,r=r||12;const o=String(r).padStart(2,"0");return"".concat(t,"/").concat(a,"/").concat(s," ").concat(o,":").concat(n,":").concat(l," ").concat(i)},g=()=>{i({name:""}),c({}),a()};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})}),(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:n?n.nap_name:"Add NAP"})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:g,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm border border-red-600",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return l.name.trim()||(e.name="NAP Name is required"),c(e),0===Object.keys(e).length})()){u(!0);try{await s(l),u(!1),g()}catch(a){var e,t;console.error("Error saving NAP:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message||"Failed to save NAP. Please try again.";alert("Error: ".concat(s)),u(!1)}}},disabled:d,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:d?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["NAP Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:l.name,onChange:e=>{return t=e.target.value,i({name:t}),void(o.name&&c(e=>he(he({},e),{},{name:""})));var t},placeholder:"Enter NAP name",className:"w-full px-3 py-2 bg-gray-800 border ".concat(o.name?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-red-500"),autoFocus:!0}),o.name&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified Date"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:m,readOnly:!0,className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded text-gray-400 cursor-not-allowed"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-500",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsx)("div",{className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-gray-400",children:h})]})]})]})}):null},ln=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(new Set),p={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_API_URL||"http://localhost:8000/api";(0,r.useEffect)(()=>{g()},[]);const g=async()=>{l(!0),m(null);try{const e=await fetch("".concat(p,"/nap"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();t.success?s(t.data||[]):m(t.message||"Failed to load NAP items")}catch(u){console.error("Error loading NAP items:",u),m("Failed to load NAP items. Please try again.")}finally{l(!1)}},y=a.filter(t=>!e||t.nap_name.toLowerCase().includes(e.toLowerCase()));return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 overflow-hidden flex-1",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search NAP",value:e,onChange:e=>t(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{onClick:()=>{d(null),o(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm transition-colors flex items-center space-x-1",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),(0,Mt.jsx)("span",{children:"Add"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:n?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading NAP items..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:()=>g(),className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):y.length>0?(0,Mt.jsx)("div",{className:"space-y-0",children:y.map(e=>(0,Mt.jsx)("div",{className:"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Mt.jsx)("div",{className:"text-white font-medium text-sm mb-1 uppercase",children:e.nap_name})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[(0,Mt.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),d(e),o(!0)})(e,t),className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-gray-700 rounded transition-colors",title:"Edit NAP",children:(0,Mt.jsx)($r,{size:16})}),(0,Mt.jsx)("button",{onClick:t=>(async(e,t)=>{if(t.stopPropagation(),window.confirm('\u26a0\ufe0f PERMANENT DELETE WARNING \u26a0\ufe0f\n\nAre you sure you want to permanently delete "'.concat(e.nap_name,'"?\n\nThis action CANNOT BE UNDONE!\n\nClick OK to permanently delete, or Cancel to keep the item.'))){h(t=>{const a=new Set(t);return a.add(e.id),a});try{const t=await fetch("".concat(p,"/nap/").concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();t.ok&&a.success?await g():alert("\u274c Failed to delete NAP: "+(a.message||"Unknown error"))}catch(u){console.error("Error deleting NAP:",u),alert("Failed to delete NAP: "+(u instanceof Error?u.message:"Unknown error"))}finally{h(t=>{const a=new Set(t);return a.delete(e.id),a})}}})(e,t),disabled:x.has(e.id),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:x.has(e.id)?"Deleting...":"Delete NAP",children:x.has(e.id)?(0,Mt.jsx)(en,{size:16,className:"animate-spin"}):(0,Mt.jsx)(ya,{size:16})})]})]})},e.id))}):(0,Mt.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No NAP items found"})})})]})}),(0,Mt.jsx)(nn,{isOpen:i,onClose:()=>{o(!1),d(null)},onSave:async e=>{try{const t=c?"".concat(p,"/nap/").concat(c.id):"".concat(p,"/nap"),a=c?"PUT":"POST",s=await fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name.trim()})}),r=await s.json();if(!s.ok||!r.success){if(r.errors){const e=Object.values(r.errors).flat().join("\n");throw new Error("Validation errors:\n"+e)}throw new Error(r.message||"Failed to ".concat(c?"update":"add"," NAP"))}await g()}catch(u){throw console.error("Error submitting form:",u),u}},napItem:c})]})},on=Jt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),cn=Jt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dn=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(1),[x,h]=(0,r.useState)(1),[p,g]=(0,r.useState)(0),[y,f]=(0,r.useState)({lcpnap:"",lcp_id:"",nap_id:"",port_total:8,image:null,image2:null,reading_image:null,street:"",barangay:"",city:"",region:"",coordinates:"",related_billing_details:"",modified_by:"ravenampere0123@gmail.com",modified_date:(new Date).toISOString().slice(0,16).replace("T"," ")+" pm"}),[b,v]=(0,r.useState)([]),[j,N]=(0,r.useState)([]),[w,k]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[_,E]=(0,r.useState)([]),[P,A]=(0,r.useState)(!1),[L,T]=(0,r.useState)(new Set),[D,z]=(0,r.useState)(!1),[I,R]=(0,r.useState)(!1),M={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:8000/api"}.REACT_APP_API_URL||"http://localhost:8000/api";(0,r.useEffect)(()=>{W(),O(),B(),F()},[u,e]),(0,r.useEffect)(()=>{i&&setTimeout(()=>R(!0),10)},[i]);const O=async()=>{try{const e=await fetch("".concat(M,"/locations/regions"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();t.success?v(t.data||[]):(console.error("Failed to load regions:",t.message),v([]))}catch(e){console.error("Error loading regions:",e),v([])}},B=async()=>{try{const e=await fetch("".concat(M,"/lcp"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();t.success?C(t.data||[]):(console.error("Failed to load LCP list:",t.message),C([]))}catch(e){console.error("Error loading LCP list:",e),C([])}},F=async()=>{try{const e=await fetch("".concat(M,"/nap"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();t.success?E(t.data||[]):(console.error("Failed to load NAP list:",t.message),E([]))}catch(e){console.error("Error loading NAP list:",e),E([])}},U=e=>{f(he(he({},y),{},{region:e,city:"",barangay:""})),N([]),k([]),e&&(async e=>{if(!e)return N([]),void k([]);A(!0);try{const t=await fetch("".concat(M,"/locations/regions/").concat(e,"/cities"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const a=await t.json();a.success?N(a.data||[]):(console.error("Failed to load cities:",a.message),N([]))}catch(t){console.error("Error loading cities:",t),N([])}finally{A(!1)}})(e)},q=e=>{f(he(he({},y),{},{city:e,barangay:""})),k([]),e&&(async e=>{if(e){A(!0);try{const t=await fetch("".concat(M,"/locations/cities/").concat(e,"/barangays"),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const a=await t.json();a.success?k(a.data||[]):(console.error("Failed to load barangays:",a.message),k([]))}catch(t){console.error("Error loading barangays:",t),k([])}finally{A(!1)}}else k([])})(e)},W=async()=>{l(!0);try{const r=new URLSearchParams(he({page:u.toString(),limit:10..toString()},e&&{search:e})),n=await fetch("".concat(M,"/lcp-nap-list?").concat(r),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error("HTTP error! status: ".concat(n.status,", message: ").concat(e.message||"Unknown error"))}const l=await n.json();var t,a;if(l.success)s(l.data||[]),h((null===(t=l.pagination)||void 0===t?void 0:t.total_pages)||1),g((null===(a=l.pagination)||void 0===a?void 0:a.total_items)||0);else console.error("API returned error:",l.message),s([])}catch(r){console.error("Error loading LCP NAP items:",r),s([])}finally{l(!1)}},V=()=>{R(!1),setTimeout(()=>{o(!1),d(null)},300)},H=()=>{f({lcpnap:"",lcp_id:"",nap_id:"",port_total:8,image:null,image2:null,reading_image:null,street:"",barangay:"",city:"",region:"",coordinates:"",related_billing_details:"",modified_by:"ravenampere0123@gmail.com",modified_date:(new Date).toISOString().slice(0,16).replace("T"," ")+" pm"}),N([]),k([])},J=(e,t)=>{const{files:a}=e.target;a&&a.length>0&&f(e=>he(he({},e),{},{[t]:a[0]}))},G=e=>{e>=1&&e<=x&&m(e)};return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-950 relative",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Mt.jsxs)("div",{className:"px-6 py-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"LCP NAP List"}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsxs)("button",{onClick:()=>{d(null),H(),o(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-2",children:[(0,Mt.jsx)(pa,{className:"h-4 w-4"}),"Add"]}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)(ga,{className:"h-5 w-5"})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:(0,Mt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,Mt.jsx)("input",{type:"text",placeholder:"Search LCP NAP List",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-gray-600 focus:outline-none"})]})]})}),(0,Mt.jsxs)("div",{className:"flex-1",children:[n?(0,Mt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Mt.jsx)(en,{className:"h-8 w-8 animate-spin text-white"})}):a.length>0?(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{className:"bg-gray-800 border-b border-gray-700",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"LCPNAP"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"LCP"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"NAP"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"PORT TOTAL"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Image"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Modified By"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Modified Date"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Image 2"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Reading Image"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Street"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Location"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Related Billing Details"}),(0,Mt.jsx)("th",{className:"px-6 py-4 text-left text-white font-medium",children:"Actions"})]})}),(0,Mt.jsx)("tbody",{children:a.map(e=>{return(0,Mt.jsxs)("tr",{className:"bg-gray-900 border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-6 py-4 text-white font-medium",children:e.lcpnap}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-300",children:e.lcp}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-300",children:e.nap}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-300",children:e.port_total}),(0,Mt.jsx)("td",{className:"px-6 py-4",children:e.image?(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)(on,{className:"h-4 w-4 text-green-400"}),(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm",children:"View"})]}):(0,Mt.jsx)("span",{className:"text-gray-500 text-sm",children:"No image"})}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:e.modified_by||"System"}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:(t=e.modified_date,t?new Date(t).toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A")}),(0,Mt.jsx)("td",{className:"px-6 py-4",children:e.image2?(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)(on,{className:"h-4 w-4 text-green-400"}),(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm",children:"View"})]}):(0,Mt.jsx)("span",{className:"text-gray-500 text-sm",children:"No image"})}),(0,Mt.jsx)("td",{className:"px-6 py-4",children:e.reading_image?(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)(cn,{className:"h-4 w-4 text-green-400"}),(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm",children:"View"})]}):(0,Mt.jsx)("span",{className:"text-gray-500 text-sm",children:"No image"})}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-300",children:e.street||"N/A"}),(0,Mt.jsx)("td",{className:"px-6 py-4",children:(0,Mt.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,Mt.jsx)("div",{children:e.barangay||"N/A"}),(0,Mt.jsx)("div",{className:"text-gray-500",children:e.city||"N/A"}),(0,Mt.jsx)("div",{className:"text-gray-500",children:e.region||"N/A"})]})}),(0,Mt.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm max-w-xs",children:(0,Mt.jsx)("div",{className:"truncate",children:e.related_billing_details||"N/A"})}),(0,Mt.jsx)("td",{className:"px-6 py-4",children:(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{var t,a;d(e),f({lcpnap:e.lcpnap,lcp_id:(null===(t=e.lcp_id)||void 0===t?void 0:t.toString())||"",nap_id:(null===(a=e.nap_id)||void 0===a?void 0:a.toString())||"",port_total:e.port_total,image:null,image2:null,reading_image:null,street:e.street||"",barangay:e.barangay||"",city:e.city||"",region:e.region||"",coordinates:"",related_billing_details:e.related_billing_details||"",modified_by:"ravenampere0123@gmail.com",modified_date:(new Date).toISOString().slice(0,16).replace("T"," ")+" pm"}),o(!0)})(e),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",title:"Edit",children:(0,Mt.jsx)($r,{className:"h-4 w-4"})}),(0,Mt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('\u26a0\ufe0f PERMANENT DELETE WARNING \u26a0\ufe0f\n\nAre you sure you want to permanently delete LCP NAP "'.concat(e.lcpnap,'"?\n\nThis will PERMANENTLY REMOVE the item from the database and CANNOT BE UNDONE!\n\nClick OK to permanently delete, or Cancel to keep the item.'))){T(t=>{const a=new Set(t);return a.add(e.id),a});try{const t=await fetch("".concat(M,"/lcp-nap-list/").concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();t.ok&&a.success?(await W(),alert("\u2705 LCP NAP item permanently deleted from database: "+(a.message||"Item deleted successfully"))):alert("\u274c Failed to delete LCP NAP item: "+(a.message||"Failed to delete item"))}catch(t){console.error("Error deleting LCP NAP item:",t),alert("Failed to delete LCP NAP item: "+(t instanceof Error?t.message:"Unknown error"))}finally{T(t=>{const a=new Set(t);return a.delete(e.id),a})}}})(e),disabled:L.has(e.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:L.has(e.id)?"Deleting...":"Delete",children:L.has(e.id)?(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}):(0,Mt.jsx)(ya,{className:"h-4 w-4"})})]})})]},e.id);var t})})]})}):(0,Mt.jsx)("div",{className:"text-center py-20 text-gray-500",children:"No LCP NAP items found"}),x>1&&(()=>{const e=[];let t=Math.max(1,u-Math.floor(2.5)),a=Math.min(x,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push((0,Mt.jsx)("button",{onClick:()=>G(s),className:"px-3 py-2 text-sm rounded ".concat(s===u?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"),children:s},s));return(0,Mt.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-900 border-t border-gray-800",children:[(0,Mt.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",10*(u-1)+1," to ",Math.min(10*u,p)," of ",p," results"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>G(u-1),disabled:1===u,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Mt.jsx)(Yt,{className:"h-4 w-4"})}),t>1&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("button",{onClick:()=>G(1),className:"px-3 py-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:"1"}),t>2&&(0,Mt.jsx)("span",{className:"text-gray-500",children:"..."})]}),e,a<x&&(0,Mt.jsxs)(Mt.Fragment,{children:[a<x-1&&(0,Mt.jsx)("span",{className:"text-gray-500",children:"..."}),(0,Mt.jsx)("button",{onClick:()=>G(x),className:"px-3 py-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:x})]}),(0,Mt.jsx)("button",{onClick:()=>G(u+1),disabled:u===x,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Mt.jsx)(Kt,{className:"h-4 w-4"})})]})]})})()]}),i&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black z-40 transition-opacity duration-300 ".concat(I?"bg-opacity-50":"bg-opacity-0"),onClick:V}),(0,Mt.jsxs)("div",{className:"fixed right-0 top-0 h-full w-[600px] bg-gray-900 shadow-2xl z-50 flex flex-col transform transition-all duration-300 ease-out ".concat(I?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-800",children:[(0,Mt.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:V,className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),"LCP NAP Location Form"]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsx)("button",{onClick:V,className:"px-6 py-2 text-red-400 hover:text-red-300 rounded-lg border border-red-600 hover:border-red-500",children:"Cancel"}),(0,Mt.jsxs)("button",{onClick:async()=>{if(y.lcpnap.trim())if(y.lcp_id)if(y.nap_id){z(!0);try{const e=new FormData;e.append("lcpnap",y.lcpnap.trim()),e.append("lcp_id",y.lcp_id.toString()),e.append("nap_id",y.nap_id.toString()),e.append("port_total",y.port_total.toString()),e.append("street",y.street.trim()),e.append("barangay",y.barangay.trim()),e.append("city",y.city.trim()),e.append("region",y.region.trim()),e.append("coordinates",y.coordinates.trim()),e.append("related_billing_details",y.related_billing_details.trim()),y.image&&e.append("image",y.image),y.image2&&e.append("image2",y.image2),y.reading_image&&e.append("reading_image",y.reading_image);const t=c?"".concat(M,"/lcp-nap-list/").concat(c.id):"".concat(M,"/lcp-nap-list"),a=c?"PUT":"POST",s=await fetch(t,{method:a,headers:{Accept:"application/json"},body:e}),r=await s.json();if(s.ok&&r.success)await W(),V(),H(),alert(r.message||"LCP NAP item ".concat(c?"updated":"added"," successfully"));else if(r.errors){const e=Object.values(r.errors).flat().join("\n");alert("Validation errors:\n"+e)}else alert(r.message||"Failed to ".concat(c?"update":"add"," LCP NAP item"))}catch(e){console.error("Error submitting form:",e),alert("Failed to ".concat(c?"update":"add"," LCP NAP item: ").concat(e instanceof Error?e.message:"Unknown error"))}finally{z(!1)}}else alert("NAP is required");else alert("LCP is required");else alert("LCP NAP is required")},disabled:D,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[D&&(0,Mt.jsx)(en,{className:"h-4 w-4 animate-spin"}),"Save"]})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Reading Image",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"w-full h-32 bg-gray-800 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center relative",children:[(0,Mt.jsx)("input",{type:"file",onChange:e=>J(e,"reading_image"),accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),y.reading_image?(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("svg",{className:"w-8 h-8 mx-auto text-green-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Mt.jsx)("p",{className:"text-sm text-green-400",children:y.reading_image.name})]}):(0,Mt.jsxs)("svg",{className:"w-12 h-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Street"}),(0,Mt.jsx)("input",{type:"text",value:y.street,onChange:e=>f(he(he({},y),{},{street:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter street"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Barangay"}),(0,Mt.jsxs)("select",{value:y.barangay,onChange:e=>{return t=e.target.value,void f(he(he({},y),{},{barangay:t}));var t},className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none appearance-none",disabled:!y.city||P,children:[(0,Mt.jsx)("option",{value:"",children:"Select Barangay"}),w.map(e=>(0,Mt.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]}),!y.city&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please select a city first."}),y.city&&0===w.length&&!P&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No barangays available for selected city."}),P&&(0,Mt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Loading..."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,Mt.jsxs)("select",{value:y.city,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none appearance-none",disabled:!y.region||P,children:[(0,Mt.jsx)("option",{value:"",children:"Select City"}),j.map(e=>(0,Mt.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]}),!y.region&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please select a region first."}),y.region&&0===j.length&&!P&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No cities available for selected region."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Region"}),(0,Mt.jsxs)("select",{value:y.region,onChange:e=>U(e.target.value),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none appearance-none",disabled:P,children:[(0,Mt.jsx)("option",{value:"",children:"Select Region"}),b.map(e=>(0,Mt.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]}),0===b.length&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No regions available. Please add regions in Location List."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["LCP",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("select",{value:y.lcp_id,onChange:e=>f(he(he({},y),{},{lcp_id:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none appearance-none",children:[(0,Mt.jsx)("option",{value:"",children:"Select LCP"}),S.map(e=>(0,Mt.jsx)("option",{value:e.id.toString(),children:e.lcp_name},e.id))]}),0===S.length&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No LCP entries available. Please add LCP entries in the LCP management section."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["NAP",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("select",{value:y.nap_id,onChange:e=>f(he(he({},y),{},{nap_id:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none appearance-none",children:[(0,Mt.jsx)("option",{value:"",children:"Select NAP"}),_.map(e=>(0,Mt.jsx)("option",{value:e.id.toString(),children:e.nap_name},e.id))]}),0===_.length&&(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No NAP entries available. Please add NAP entries in the NAP management section."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["PORT TOTAL",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex gap-2",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>f(he(he({},y),{},{port_total:8})),className:"flex-1 px-6 py-4 rounded-lg border text-center font-medium ".concat(8===y.port_total?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700 hover:text-white"),children:"8"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>f(he(he({},y),{},{port_total:16})),className:"flex-1 px-6 py-4 rounded-lg border text-center font-medium ".concat(16===y.port_total?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700 hover:text-white"),children:"16"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>f(he(he({},y),{},{port_total:32})),className:"flex-1 px-6 py-4 rounded-lg border text-center font-medium ".concat(32===y.port_total?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700 hover:text-white"),children:"32"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["LCPNAP",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:y.lcpnap,onChange:e=>f(he(he({},y),{},{lcpnap:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter LCPNAP"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Coordinates",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:y.coordinates,onChange:e=>f(he(he({},y),{},{coordinates:e.target.value})),className:"w-full px-4 py-3 pr-12 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:outline-none",placeholder:"Enter coordinates"}),(0,Mt.jsxs)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Image",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"w-full h-32 bg-gray-800 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center relative",children:[(0,Mt.jsx)("input",{type:"file",onChange:e=>J(e,"image"),accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),y.image?(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("svg",{className:"w-8 h-8 mx-auto text-green-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Mt.jsx)("p",{className:"text-sm text-green-400",children:y.image.name})]}):(0,Mt.jsxs)("svg",{className:"w-12 h-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Image 2",(0,Mt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Mt.jsxs)("div",{className:"w-full h-32 bg-gray-800 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center relative",children:[(0,Mt.jsx)("input",{type:"file",onChange:e=>J(e,"image2"),accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),y.image2?(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("svg",{className:"w-8 h-8 mx-auto text-green-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Mt.jsx)("p",{className:"text-sm text-green-400",children:y.image2.name})]}):(0,Mt.jsxs)("svg",{className:"w-12 h-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsx)("div",{className:"px-4 py-3 bg-gray-800 text-gray-400 rounded-lg border border-gray-700",children:y.modified_by})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified Date"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:y.modified_date,readOnly:!0,className:"w-full px-4 py-3 pr-12 bg-gray-800 text-gray-400 rounded-lg border border-gray-700"}),(0,Mt.jsx)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})]})})]})]})]})},un=e=>{let{isOpen:t,onClose:a,onSave:s,editData:n,initialCategory:l=""}=e;const[i,o]=(0,r.useState)({itemName:"",itemDescription:"",supplier:"",quantityAlert:0,image:null,modifiedBy:"ravenampere0123@gmail.com",modifiedDate:(new Date).toISOString().slice(0,16),userEmail:"ravenampere0123@gmail.com",category:"",totalStockAvailable:0,totalStockIn:0}),[c,d]=(0,r.useState)({}),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)([]);if((0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:8000/api/inventory-categories"),t=await e.json();if(t.success){const e=t.data.map(e=>e.name);h(e)}}catch(e){console.error("Error fetching categories:",e)}})()},[]),(0,r.useEffect)(()=>{o(n?{itemName:n.itemName||"",itemDescription:n.itemDescription||"",supplier:n.supplier||"",quantityAlert:n.quantityAlert||0,image:n.image||null,modifiedBy:n.modifiedBy||"ravenampere0123@gmail.com",modifiedDate:n.modifiedDate||(new Date).toISOString().slice(0,16),userEmail:n.userEmail||"ravenampere0123@gmail.com",category:n.category||"",totalStockAvailable:n.totalStockAvailable||0,totalStockIn:n.totalStockIn||0}:{itemName:"",itemDescription:"",supplier:"",quantityAlert:0,image:null,modifiedBy:"ravenampere0123@gmail.com",modifiedDate:(new Date).toISOString().slice(0,16),userEmail:"ravenampere0123@gmail.com",category:l,totalStockAvailable:0,totalStockIn:0}),d({})},[n,l]),!t)return null;const p=(e,t)=>{o(a=>he(he({},a),{},{[e]:t})),c[e]&&d(t=>he(he({},t),{},{[e]:""}))},g=(e,t)=>{o(a=>he(he({},a),{},{[e]:t?a[e]+1:Math.max(0,a[e]-1)}))};return(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:n?"Edit Inventory Item":"Add Inventory Item"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{d({}),a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return i.itemName.trim()||(e.itemName="Item Name is required"),i.itemDescription.trim()||(e.itemDescription="Item Description is required"),i.userEmail.trim()||(e.userEmail="User Email is required"),i.modifiedDate.trim()||(e.modifiedDate="Modified Date is required"),d(e),0===Object.keys(e).length})()){m(!0);try{await s(i)}catch(e){console.error("Error saving inventory item:",e)}finally{m(!1)}}},disabled:u,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:u?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Updating...":"Saving..."]}):n?"Update":"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Item Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:i.itemName,onChange:e=>p("itemName",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(c.itemName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500"),placeholder:"Enter item name"}),c.itemName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.itemName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Item Description",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("textarea",{value:i.itemDescription,onChange:e=>p("itemDescription",e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border ".concat(c.itemDescription?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 resize-none"),placeholder:"Enter item description"}),c.itemDescription&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.itemDescription})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Quantity Alert",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("input",{type:"number",value:i.quantityAlert,onChange:e=>p("quantityAlert",parseInt(e.target.value)||0),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none",min:"0"}),(0,Mt.jsxs)("div",{className:"flex",children:[(0,Mt.jsx)("button",{type:"button",onClick:()=>g("quantityAlert",!1),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(Ks,{size:16})}),(0,Mt.jsx)("button",{type:"button",onClick:()=>g("quantityAlert",!0),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:(0,Mt.jsx)(pa,{size:16})})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&p("image",a)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),(0,Mt.jsx)("div",{className:"w-full h-24 bg-gray-800 border-2 border-dashed border-gray-700 rounded flex items-center justify-center hover:border-gray-600 transition-colors",children:(0,Mt.jsx)(Nr,{className:"text-gray-400",size:24})}),i.image&&(0,Mt.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Selected: ",i.image.name]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsx)("div",{className:"px-3 py-2 bg-gray-900 border border-gray-700 rounded text-gray-400",children:i.modifiedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"datetime-local",value:i.modifiedDate,onChange:e=>p("modifiedDate",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(c.modifiedDate?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),c.modifiedDate&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.modifiedDate})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["User Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:i.userEmail,onChange:e=>p("userEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(c.userEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500"),placeholder:"Enter user email"}),c.userEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.userEmail})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Mt.jsxs)("select",{value:i.category,onChange:e=>p("category",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500",children:[(0,Mt.jsx)("option",{value:"",children:"Select category"}),x.map(e=>(0,Mt.jsx)("option",{value:e,children:e},e))]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Total Stock Available"}),(0,Mt.jsx)("input",{type:"number",value:i.totalStockAvailable,onChange:e=>p("totalStockAvailable",parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500",min:"0",placeholder:"0"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Total Stock IN"}),(0,Mt.jsx)("input",{type:"number",value:i.totalStockIn,onChange:e=>p("totalStockIn",parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500",min:"0",placeholder:"0"})]})]})]})})},mn=Jt("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),xn=Jt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hn=e=>{let{item:t,inventoryLogs:a=[{id:"1",date:"2023-11-27T14:07:58",itemQuantity:4,requestedBy:"None",requestedWith:"None"}],borrowedLogs:s=[],jobOrders:n=[],serviceOrders:l=[],defectiveLogs:i=[],totalStockIn:o=4,totalStockAvailable:c=4,onEdit:d,onDelete:u,onClose:m}=e;const[x,h]=(0,r.useState)({inventoryLogs:!0,borrowedLogs:!1,jobOrders:!1,serviceOrders:!1,defectiveLogs:!1}),[p,g]=(0,r.useState)(!1),y=e=>{h(t=>he(he({},t),{},{[e]:!t[e]}))},f=e=>new Date(e).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),b=()=>{d&&d(t)},v=()=>{u&&window.confirm('Are you sure you want to delete "'.concat(t.item_name,'"?'))&&u(t)},j=()=>{g(!0)},N=()=>{g(!1)};return p?(0,Mt.jsxs)("div",{className:"fixed right-0 bottom-0 bg-gray-900 text-white z-40 flex flex-col",style:{left:"256px",top:"64px"},children:[" ",(0,Mt.jsx)("div",{className:"bg-gray-800 px-6 py-2 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center text-sm text-gray-300",children:[(0,Mt.jsx)("span",{children:"Inventory Category List"}),(0,Mt.jsx)(Kt,{size:16,className:"mx-2"}),(0,Mt.jsx)("span",{children:t.category||"EVENT"}),(0,Mt.jsx)(Kt,{size:16,className:"mx-2"}),(0,Mt.jsx)("span",{className:"text-white",children:t.item_name})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Mt.jsx)("button",{onClick:v,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(mn,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(xn,{size:18})}),(0,Mt.jsx)("button",{onClick:b,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:(0,Mt.jsx)("span",{children:"Edit"})}),(0,Mt.jsx)("button",{onClick:N,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Back to side panel view",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{onClick:N,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Collapse to side panel view",children:(0,Mt.jsx)(Xt,{size:18})})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsxs)("div",{className:"flex h-full",children:[(0,Mt.jsx)("div",{className:"w-1/2 p-6",children:(0,Mt.jsx)("div",{className:"bg-gray-800 w-full h-80 flex items-center justify-center border border-gray-700 rounded",children:(0,Mt.jsx)(wa,{size:64,className:"text-gray-600"})})}),(0,Mt.jsx)("div",{className:"w-1/2 p-6 overflow-y-auto",children:(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Category"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.category||"EVENT"})]})}),(0,Mt.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Item Name"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.item_name})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Quantity Alert"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.quantity_alert||10})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Item Description"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.item_description||t.item_name})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Stock IN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:o})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Stock Available"}),(0,Mt.jsx)("span",{className:"text-green-400 font-bold text-lg",children:c})]})]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium text-lg",children:"Related Inventory Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:a.length})]})}),a.length>0?(0,Mt.jsxs)("div",{className:"divide-y divide-gray-700",children:[a.map(e=>(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-750 transition-colors group",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"text-white font-medium",children:["Log Entry #",e.id]}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:f(e.date)})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white rounded transition-colors",title:"View Details",children:(0,Mt.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-400 rounded transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:16})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white rounded transition-colors",title:"Edit",children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]},e.id)),(0,Mt.jsxs)("div",{className:"px-6 py-3 bg-gray-750 border-t border-gray-700 flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-red-500 text-sm cursor-pointer hover:underline",children:"Expand"}),(0,Mt.jsx)("button",{className:"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700 transition-colors",children:"Add Item"})]})]}):(0,Mt.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium text-lg",children:"Related Borrowed Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:s.length})]})}),(0,Mt.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium text-lg",children:"Related Job Orders"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:n.length})]})}),(0,Mt.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium text-lg",children:"Related Service Orders"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:l.length})]})}),(0,Mt.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium text-lg",children:"Related Defective Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded",children:i.length})]})}),(0,Mt.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:"No items"})]})]})})]})})]}):(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 px-4 py-2",children:[(0,Mt.jsx)("div",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-sm uppercase font-medium mr-3",children:t.category||"EVENT"}),(0,Mt.jsx)("div",{className:"flex-1 text-center",children:(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white",children:t.item_name})}),(0,Mt.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-white transition-colors ml-3",children:(0,Mt.jsx)(Qt,{size:20})})]}),(0,Mt.jsx)("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Mt.jsx)("button",{onClick:v,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 rounded transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(mn,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(xn,{size:18})}),(0,Mt.jsx)("button",{onClick:b,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:(0,Mt.jsx)("span",{children:"Edit"})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{onClick:j,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Expand to full view",children:(0,Mt.jsx)(Xt,{size:18})})]})}),(0,Mt.jsx)("div",{className:"bg-gray-800 h-64 flex items-center justify-center border-b border-gray-700",children:(0,Mt.jsx)("div",{className:"text-center",children:(0,Mt.jsx)(wa,{size:48,className:"text-gray-600 mx-auto mb-2"})})}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Category"}),(0,Mt.jsx)("div",{className:"flex items-center",children:(0,Mt.jsx)("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-sm uppercase font-medium",children:t.category||"EVENT"})})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Item Name"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.item_name})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Quantity Alert"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.quantity_alert||10})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Item Description"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.item_description||t.item_name})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Stock IN"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:o})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Stock Available"}),(0,Mt.jsx)("span",{className:"text-green-400 font-bold text-lg",children:c})]})]}),(0,Mt.jsxs)("div",{className:"border-t border-gray-700",children:[(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>y("inventoryLogs"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Inventory Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded min-w-[20px] text-center",children:a.length})]}),(0,Mt.jsx)("div",{className:"flex items-center space-x-2",children:x.inventoryLogs?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})})]}),x.inventoryLogs&&(0,Mt.jsx)("div",{className:"bg-gray-800",children:a.length>0?(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-6 py-3 bg-gray-700 text-sm font-medium text-gray-300",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:["Date ",(0,Mt.jsx)($s,{size:14,className:"ml-1"})]}),(0,Mt.jsx)("div",{className:"text-center",children:"Item Quantity"}),(0,Mt.jsx)("div",{className:"text-center",children:"Requested By"}),(0,Mt.jsx)("div",{className:"text-center",children:"Requested With"})]}),a.map(e=>(0,Mt.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-6 py-3 border-b border-gray-700 last:border-b-0",children:[(0,Mt.jsx)("div",{className:"text-white text-sm",children:f(e.date)}),(0,Mt.jsx)("div",{className:"text-white text-sm text-center",children:e.itemQuantity}),(0,Mt.jsx)("div",{className:"text-white text-sm text-center",children:e.requestedBy}),(0,Mt.jsx)("div",{className:"text-white text-sm text-center",children:e.requestedWith})]},e.id)),(0,Mt.jsxs)("div",{className:"px-6 py-2 flex items-center justify-between bg-gray-750",children:[(0,Mt.jsx)("button",{className:"p-1 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Yt,{size:16})}),(0,Mt.jsx)("div",{className:"flex-1 h-1 bg-gray-600 rounded mx-4",children:(0,Mt.jsx)("div",{className:"h-full bg-gray-500 rounded",style:{width:"50%"}})}),(0,Mt.jsx)("button",{className:"p-1 text-gray-400 hover:text-white",children:(0,Mt.jsx)(Kt,{size:16})})]}),(0,Mt.jsx)("div",{className:"px-6 py-2 text-right",children:(0,Mt.jsx)("button",{onClick:j,className:"text-red-500 text-sm cursor-pointer hover:underline bg-transparent border-none",children:"Expand"})})]}):(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items"})})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>y("borrowedLogs"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Borrowed Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded min-w-[20px] text-center",children:s.length})]}),x.borrowedLogs?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),x.borrowedLogs&&(0,Mt.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>y("jobOrders"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Job Orders"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded min-w-[20px] text-center",children:n.length})]}),x.jobOrders?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),x.jobOrders&&(0,Mt.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{className:"border-b border-gray-700",children:[(0,Mt.jsxs)("button",{onClick:()=>y("serviceOrders"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Service Orders"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded min-w-[20px] text-center",children:l.length})]}),x.serviceOrders?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),x.serviceOrders&&(0,Mt.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No items"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("button",{onClick:()=>y("defectiveLogs"),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-800 transition-colors",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:"Related Defective Logs"}),(0,Mt.jsx)("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded min-w-[20px] text-center",children:i.length})]}),x.defectiveLogs?(0,Mt.jsx)($s,{size:20,className:"text-gray-400"}):(0,Mt.jsx)(Kt,{size:20,className:"text-gray-400"})]}),x.defectiveLogs&&(0,Mt.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No items"})]})]})]})]})},pn="http://localhost:8000/api",gn=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[y,f]=(0,r.useState)([]),[b,v]=(0,r.useState)([]);(0,r.useEffect)(()=>{j(),N()},[]),(0,r.useEffect)(()=>{if(b.length>0){const e=[{id:"all",name:"ALL",count:c.length},...b.map(e=>{const t=e.name.toLowerCase().replace(/\s+/g,"-"),a=c.filter(e=>(e.category||"").toLowerCase().replace(/\s+/g,"-")===t).length;return{id:t,name:e.name,count:a}})];f(e)}},[c,b]);const j=async()=>{try{m(!0),h(null);const e=await fetch("".concat(pn,"/inventory")),t=await e.json();t.success?d(t.data||[]):(h(t.message||"Failed to fetch inventory data"),console.error("API Error:",t))}catch(x){console.error("Error fetching inventory:",x),h("Failed to connect to server")}finally{m(!1)}},N=async()=>{try{const e=await fetch("".concat(pn,"/inventory-categories")),t=await e.json();t.success?v(t.data||[]):console.error("Failed to fetch categories:",t.message)}catch(x){console.error("Error fetching categories:",x)}},w=""===e?[]:c.filter(t=>{const s=(t.category||"").toLowerCase().replace(/\s+/g,"-"),r="all"===e||s===e,n=""===a||t.item_name.toLowerCase().includes(a.toLowerCase())||t.item_description&&t.item_description.toLowerCase().includes(a.toLowerCase());return r&&n}),k=e=>{o(e)},S=e=>{g(e),l(!0)},C=async e=>{try{const t=await fetch("".concat(pn,"/inventory/").concat(encodeURIComponent(e.item_name)),{method:"DELETE"}),a=await t.json();a.success?(alert("Inventory item deleted successfully!"),(null===i||void 0===i?void 0:i.item_name)===e.item_name&&o(null),await j()):(alert("Failed to delete inventory item: "+a.message),console.error("Delete Error:",a))}catch(x){console.error("Error deleting inventory item:",x),alert("Failed to delete inventory item: Network error")}};return u?(0,Mt.jsx)("div",{className:"bg-gray-950 h-full flex items-center justify-center",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),(0,Mt.jsx)("div",{className:"text-white text-lg",children:"Loading inventory..."})]})}):x?(0,Mt.jsx)("div",{className:"bg-gray-950 h-full flex items-center justify-center",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)(wa,{className:"h-12 w-12 text-red-500 mb-4 mx-auto"}),(0,Mt.jsx)("div",{className:"text-white text-lg mb-2",children:"Error Loading Inventory"}),(0,Mt.jsx)("div",{className:"text-gray-400 mb-4",children:x}),(0,Mt.jsx)("button",{onClick:j,className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Retry"})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center",children:[(0,Mt.jsx)(Ya,{className:"mr-2",size:20}),"Inventory"]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:y.map(a=>(0,Mt.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.id?"bg-orange-500 bg-opacity-20 text-orange-400 border-r-2 border-orange-500":"text-gray-300"),children:[(0,Mt.jsx)("span",{className:"uppercase font-medium",children:a.name}),(0,Mt.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e===a.id?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.count})]},a.id))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search inventory...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{className:"bg-orange-600 text-white px-4 py-2 rounded text-sm flex items-center space-x-2 hover:bg-orange-700 transition-colors",onClick:()=>{g(null),l(!0)},children:[(0,Mt.jsx)(pa,{size:16}),(0,Mt.jsx)("span",{children:"Add Item"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-700",children:w.length>0?w.map((e,t)=>(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-800 transition-colors cursor-pointer group ".concat((null===i||void 0===i?void 0:i.item_name)===e.item_name?"bg-gray-800 border-r-2 border-orange-500":""),onClick:()=>k(e),children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("div",{className:"text-white font-medium text-base",children:e.item_name}),e.modified_date&&(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:new Date(e.modified_date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white rounded transition-colors",title:"View Details",onClick:t=>{t.stopPropagation(),k(e)},children:(0,Mt.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-400 rounded transition-colors",title:"Delete",onClick:t=>{t.stopPropagation(),C(e)},children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white rounded transition-colors",title:"Edit",onClick:t=>{t.stopPropagation(),S(e)},children:(0,Mt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]},e.item_name+t)):(0,Mt.jsxs)("div",{className:"p-12 text-center text-gray-400",children:[(0,Mt.jsx)(Ya,{size:48,className:"mx-auto mb-4 text-gray-600"}),(0,Mt.jsx)("div",{className:"text-lg mb-2",children:""===e?"Select a category to view items":"No items found"}),(0,Mt.jsx)("div",{className:"text-sm",children:""===e?"Choose a category from the sidebar to see inventory items":0===c.length?"Start by adding some inventory items":"Try adjusting your search or category filter"})]})})})]})}),i&&(0,Mt.jsx)("div",{className:"w-full max-w-2xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:(0,Mt.jsx)(hn,{item:i,inventoryLogs:[],borrowedLogs:[],jobOrders:[],serviceOrders:[],defectiveLogs:[],totalStockIn:0,totalStockAvailable:0,onEdit:S,onDelete:C,onClose:()=>{o(null)}})}),(0,Mt.jsx)(un,{isOpen:n,onClose:()=>{l(!1),g(null)},onSave:async e=>{try{console.log("Saving inventory item:",e);const t=null!==p,a=t?"".concat(pn,"/inventory/").concat(encodeURIComponent(p.item_name)):"".concat(pn,"/inventory"),s=t?"PUT":"POST",r=await fetch(a,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:e.itemName,item_description:e.itemDescription,supplier:e.supplier,quantity_alert:e.quantityAlert,category:e.category,item_id:null,image:""})}),n=await r.json();if(n.success){alert(t?"Inventory item updated successfully!":"Inventory item added successfully!"),l(!1),g(null),await j(),await N()}else alert("Failed to save inventory item: "+n.message),console.error("Save Error:",n)}catch(x){console.error("Error saving inventory item:",x),alert("Failed to save inventory item: Network error")}},initialCategory:(()=>{if("all"===e||""===e)return"";const t=y.find(t=>t.id===e);return t?t.name:""})(),editData:p?{itemName:p.item_name,itemDescription:p.item_description||"",supplier:p.supplier||"",quantityAlert:p.quantity_alert||0,image:null,modifiedBy:p.modified_by||"ravenampere0123@gmail.com",modifiedDate:p.modified_date||(new Date).toISOString().slice(0,16),userEmail:p.user_email||"ravenampere0123@gmail.com",category:p.category||"",totalStockAvailable:0,totalStockIn:0}:null})]})},yn=e=>{let{expenseRecord:t}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white",children:t.date}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(ya,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-white bg-orange-600 hover:bg-orange-700 rounded transition-colors",children:(0,Mt.jsx)(fa,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Date"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.date})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Expenses ID"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.expensesId})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.provider}),(0,Mt.jsx)(Zt,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Description"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.description})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Amount"}),(0,Mt.jsxs)("span",{className:"text-white font-medium text-lg",children:["\u20b1",t.amount.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Processed By"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.processedBy}),(0,Mt.jsx)(Zt,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified By"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.modifiedBy}),(0,Mt.jsx)(Zt,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Modified Date"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.modifiedDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"User Email"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.userEmail}),(0,Mt.jsx)(ea,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Payee"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.payee})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Category"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.category}),(0,Mt.jsx)(Zt,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Invoice No."}),(0,Mt.jsx)("span",{className:"text-red-400 font-medium",children:t.invoiceNo})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Received Date"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.receivedDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"Supplier"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.supplier}),(0,Mt.jsx)(Zt,{size:16,className:"text-gray-400"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("span",{className:"text-gray-400 text-sm",children:"City"}),(0,Mt.jsx)("span",{className:"text-white font-medium",children:t.city})]})]})]})},fn=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)([]),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{o(!0);s([{id:"1",expensesId:"20240426104031000",date:"4/17/2024",amount:14e4,payee:"John Smith Construction",category:"Materials",description:"Concrete Pole 40pcs",invoiceNo:"MRF229",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/26/2024 10:40:31 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/17/2024",supplier:"John Smith Construction",city:"All"},{id:"2",expensesId:"20240426103730000",date:"4/16/2024",amount:906356.89,payee:"ABC TECH SOLUTIONS...",category:"Modem",description:"Fullpayment for 2000pcs modem",invoiceNo:"MRF223",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/26/2024 10:37:30 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/16/2024",supplier:"ABC TECH SOLUTIONS...",city:"All"},{id:"3",expensesId:"20240426103423000",date:"4/15/2024",amount:11491,payee:"Sales Team & Installation",category:"Commission",description:"Sales Agent & Installer Commis...",invoiceNo:"MRF225",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/26/2024 10:34:23 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/15/2024",supplier:"Sales Team & Installation",city:"All"},{id:"4",expensesId:"20240425082911000",date:"4/15/2024",amount:16311,payee:"Online Store Inc",category:"Materials",description:"Payment for Stainless Strap, Bu...",invoiceNo:"MRF226",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/25/2024 8:29:11 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/15/2024",supplier:"Online Store Inc",city:"All"},{id:"5",expensesId:"20240425082731000",date:"4/15/2024",amount:159357.52,payee:"Metro Networks Inc",category:"Data Center",description:"Payment for Metro Data Center...",invoiceNo:"MRF224",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/25/2024 8:27:31 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/15/2024",supplier:"Metro Networks Inc",city:"All"},{id:"6",expensesId:"20240425082347000",date:"4/9/2024",amount:1e5,payee:"Robert Johnson",category:"Consultation /Professional fee",description:"Consultation fee for the month o...",invoiceNo:"MRF221",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/25/2024 8:23:47 AM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/9/2024",supplier:"Robert Johnson",city:"All"},{id:"7",expensesId:"20240424053621000",date:"4/9/2024",amount:21400,payee:"GLOBAL TELECOMMUNICATIO...",category:"Materials",description:"Payment for Grounding Rod, Ma...",invoiceNo:"MRF222",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:36:21 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/9/2024",supplier:"GLOBAL TELECOMMUNICATIO...",city:"All"},{id:"8",expensesId:"20240424053451000",date:"4/9/2024",amount:92120,payee:"MIKE RODRIGUEZ",category:"Contractor",description:"BRCC Cable Laying & Fixing ; 80 ...",invoiceNo:"MRF220",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:34:51 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/9/2024",supplier:"MIKE RODRIGUEZ",city:"All"},{id:"9",expensesId:"20240424051813000",date:"4/8/2024",amount:140180.64,payee:"PRIME TELECOM",category:"Services",description:"Payment for the Month of March...",invoiceNo:"MRF215",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:18:13 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/8/2024",supplier:"PRIME TELECOM",city:"All"},{id:"10",expensesId:"20240424051607000",date:"4/8/2024",amount:241500,payee:"FIBER NETWORK SOLUTIONS...",category:"Cables",description:"Cable Mini Figure 12 & 24 cores",invoiceNo:"MRF216",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:16:07 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/8/2024",supplier:"FIBER NETWORK SOLUTIONS...",city:"All"},{id:"11",expensesId:"20240424051505000",date:"4/8/2024",amount:101075,payee:"TECH CABLE DESIGN & SERVI...",category:"AutoCad",description:"Payment for Cad Operator for M...",invoiceNo:"MRF217",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:15:05 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/8/2024",supplier:"TECH CABLE DESIGN & SERVI...",city:"All"},{id:"12",expensesId:"20240424051322000",date:"4/8/2024",amount:18995,payee:"SMART COMMUNICATIONS INC",category:"Utilities",description:"Payment for the Month of March...",invoiceNo:"MRF219",provider:"SWITCH",processedBy:"Jane Doe",modifiedBy:"Jane Doe",modifiedDate:"4/24/2024 5:13:22 PM",userEmail:"jane.doe@switchfiber.ph",receivedDate:"4/8/2024",supplier:"SMART COMMUNICATIONS INC",city:"All"}]),d(null)}catch(e){console.error("Failed to fetch expense data:",e),d("Failed to load expense records. Please try again."),s([])}finally{o(!1)}})()},[]);const u=a.filter(t=>""===e||t.payee.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||t.invoiceNo.toLowerCase().includes(e.toLowerCase()));return(0,Mt.jsxs)("div",{className:"bg-slate-900 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"".concat(n?"flex-1":"w-full"," flex flex-col overflow-hidden"),children:[(0,Mt.jsx)("div",{className:"bg-slate-800 p-4 border-b border-slate-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search expense records...",value:e,onChange:e=>t(e.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded pl-10 pr-4 py-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-3.5 h-4 w-4 text-slate-400"})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:i?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-slate-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-slate-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-slate-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading expense records..."})]}):c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:c}),(0,Mt.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"border-b border-slate-700 bg-slate-800",children:[(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-28 whitespace-nowrap",children:"Date"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-32 whitespace-nowrap",children:"Amount"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-56 whitespace-nowrap",children:"Payee"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-40 whitespace-nowrap",children:"Category"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-64 whitespace-nowrap",children:"Description"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-32 whitespace-nowrap",children:"Invoice No."}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-28 whitespace-nowrap",children:"Provider"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-24 whitespace-nowrap",children:"Photo"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-40 whitespace-nowrap",children:"Processed By"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-36 whitespace-nowrap",children:"Modified By"}),(0,Mt.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium min-w-40 whitespace-nowrap",children:"Modified Date"})]})}),(0,Mt.jsx)("tbody",{children:u.length>0?u.map(e=>(0,Mt.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-slate-800":""),onClick:()=>(e=>{l(e)})(e),children:[(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.date}),(0,Mt.jsxs)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:["\u20b1",e.amount.toLocaleString("en-US",{minimumFractionDigits:2})]}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",title:e.payee,children:e.payee}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.category}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",title:e.description,children:e.description}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-red-400 whitespace-nowrap",children:e.invoiceNo}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.provider}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.photo?(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300",children:(0,Mt.jsx)(cn,{size:16})}):(0,Mt.jsx)("span",{className:"text-slate-500",children:"-"})}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.processedBy}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.modifiedBy}),(0,Mt.jsx)("td",{className:"py-3 px-4 text-white whitespace-nowrap",children:e.modifiedDate})]},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:11,className:"px-4 py-12 text-center text-slate-400",children:"No expense records found matching your search"})})})]})})})})]}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-slate-900 border-l border-slate-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-slate-400 hover:text-white transition-colors bg-slate-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(yn,{expenseRecord:n})]})]})},bn=e=>{let{isOpen:t,onClose:a,onSave:s}=e;const[n,l]=(0,r.useState)({id:"20250923095124000",date:"23/09/2025",provider:"",totalAmount:0,processedBy:"",modifiedBy:"ravenampere0123@gmail.com",modifiedDate:"23/09/2025 09:51:24 am",userEmail:"ravenampere0123@gmail.com",barangay:"All",city:"All"}),[i,o]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),u=(e,t)=>{l(a=>he(he({},a),{},{[e]:t})),i[e]&&o(t=>he(he({},t),{},{[e]:""}))};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Daily Expenses Form"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return n.id.trim()||(e.id="ID is required"),n.date.trim()||(e.date="Date is required"),n.provider.trim()||(e.provider="Provider is required"),n.totalAmount<=0&&(e.totalAmount="Total Amount must be greater than 0"),n.processedBy.trim()||(e.processedBy="Processed By is required"),n.userEmail.trim()||(e.userEmail="User Email is required"),o(e),0===Object.keys(e).length})()){d(!0);try{console.log("Saving Daily Expenses Form data:",n),s(n),a()}catch(e){console.error("Error saving daily expenses form:",e)}finally{d(!1)}}},disabled:c,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:c?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["ID",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:n.id,onChange:e=>u("id",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.id?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),i.id&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.id})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:n.date,onChange:e=>u("date",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.date?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500"),placeholder:"23/09/2025"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.date&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.date})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Provider",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.provider,onChange:e=>u("provider",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.provider?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"SWITCH",children:"SWITCH"}),(0,Mt.jsx)("option",{value:"Globe Telecom",children:"Globe Telecom"}),(0,Mt.jsx)("option",{value:"PLDT",children:"PLDT"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.provider&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.provider})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Total Amount",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded",children:[(0,Mt.jsx)("span",{className:"px-3 text-gray-400",children:"\u20b1"}),(0,Mt.jsx)("input",{type:"number",step:"0.01",min:"0",value:n.totalAmount,onChange:e=>u("totalAmount",parseFloat(e.target.value)||0),className:"flex-1 px-3 py-2 bg-transparent text-white focus:outline-none",placeholder:"0.00"})]}),i.totalAmount&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.totalAmount})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Processed By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.processedBy,onChange:e=>u("processedBy",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.processedBy?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500 appearance-none"),children:[(0,Mt.jsx)("option",{value:""}),(0,Mt.jsx)("option",{value:"Jane Doe",children:"Jane Doe"}),(0,Mt.jsx)("option",{value:"John Smith",children:"John Smith"}),(0,Mt.jsx)("option",{value:"Mike Johnson",children:"Mike Johnson"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.processedBy&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.processedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified By",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("div",{className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",children:n.modifiedBy})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Modified Date",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:n.modifiedDate,onChange:e=>u("modifiedDate",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500"}),(0,Mt.jsx)(Ua,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["User Email",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"email",value:n.userEmail,onChange:e=>u("userEmail",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.userEmail?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-orange-500")}),i.userEmail&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.userEmail})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Barangay"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.barangay,onChange:e=>u("barangay",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"All",children:"All"}),(0,Mt.jsx)("option",{value:"Barangay 1",children:"Barangay 1"}),(0,Mt.jsx)("option",{value:"Barangay 2",children:"Barangay 2"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsxs)("select",{value:n.city,onChange:e=>u("city",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-orange-500 appearance-none",children:[(0,Mt.jsx)("option",{value:"All",children:"All"}),(0,Mt.jsx)("option",{value:"Angono",children:"Angono"}),(0,Mt.jsx)("option",{value:"Binangonan",children:"Binangonan"}),(0,Mt.jsx)("option",{value:"Cardona",children:"Cardona"})]}),(0,Mt.jsx)($s,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]})]})]})})]})}):null},vn=()=>{const[e,t]=(0,r.useState)(!1);return(0,Mt.jsxs)("div",{className:"bg-gray-900 h-full flex flex-col overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-6 py-3 border-b border-gray-700 flex items-center justify-between flex-shrink-0",children:[(0,Mt.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Daily Expenses"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("button",{onClick:()=>{t(!0)},className:"flex items-center px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded transition-colors",children:[(0,Mt.jsx)(pa,{size:18,className:"mr-2"}),"Add Expense"]}),(0,Mt.jsx)("button",{className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:(0,Mt.jsx)(ga,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Mt.jsx)("div",{className:"text-center text-gray-400",children:(0,Mt.jsx)("p",{className:"text-lg",children:"No items"})})}),(0,Mt.jsx)(bn,{isOpen:e,onClose:()=>t(!1),onSave:e=>{console.log("Saving expense:",e),t(!1)}})]})},jn=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(null),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)("all"),[u,m]=(0,r.useState)(1),[x,h]=(0,r.useState)(1),[p,g]=(0,r.useState)(!1),y={info:"text-blue-400 bg-blue-900",warning:"text-yellow-400 bg-yellow-900",error:"text-red-400 bg-red-900",debug:"text-gray-400 bg-gray-700"},f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l(!0);try{const a={page:e,per_page:20,search:i||void 0,level:"all"!==c?c:void 0},s=await fs(a);s.success&&s.data&&(t(s.data),s.pagination&&(m(s.pagination.current_page),h(s.pagination.last_page)))}catch(a){console.error("Failed to load logs:",a)}finally{l(!1)}};(0,r.useEffect)(()=>{f(),(async()=>{try{const e=await bs(7);e.success&&e.data&&s(e.data)}catch(e){console.error("Failed to load stats:",e)}})()},[]),(0,r.useEffect)(()=>{const e=setTimeout(()=>{1===u||m(1),f(1)},500);return()=>clearTimeout(e)},[i,c]);const b=e=>{m(e),f(e)};return(0,Mt.jsx)("div",{className:"bg-gray-950 text-white",children:(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Activity Logs"}),(0,Mt.jsx)("p",{className:"text-gray-400 text-sm",children:"Monitor system activities and user actions"})]}),a&&(0,Mt.jsxs)("div",{className:"mb-6",children:[(0,Mt.jsx)("button",{onClick:()=>g(!p),className:"text-blue-400 hover:text-blue-300 text-sm mb-4",children:p?"Hide Statistics":"Show Statistics (Last 7 Days)"}),p&&(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"text-2xl font-semibold text-white",children:a.total_logs}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:"Total Activities"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"text-2xl font-semibold text-red-400",children:a.by_level.error}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:"Errors"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"text-2xl font-semibold text-yellow-400",children:a.by_level.warning}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:"Warnings"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[(0,Mt.jsx)("div",{className:"text-2xl font-semibold text-blue-400",children:a.by_level.info}),(0,Mt.jsx)("div",{className:"text-gray-400 text-sm",children:"Info"})]})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-8 gap-4",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search logs by message, action, or user...",value:i,onChange:e=>o(e.target.value),className:"px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 flex-1 max-w-md"}),(0,Mt.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-3 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:border-gray-400",children:[(0,Mt.jsx)("option",{value:"all",children:"All Levels"}),(0,Mt.jsx)("option",{value:"info",children:"Info"}),(0,Mt.jsx)("option",{value:"warning",children:"Warning"}),(0,Mt.jsx)("option",{value:"error",children:"Error"}),(0,Mt.jsx)("option",{value:"debug",children:"Debug"})]}),(0,Mt.jsx)("button",{onClick:async()=>{try{const e=await vs({format:"json",level:"all"!==c?c:void 0,days:30}),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="activity_logs_".concat((new Date).toISOString().split("T")[0],".json"),s.click(),window.URL.revokeObjectURL(a)}catch(e){console.error("Failed to export logs:",e)}},className:"px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm font-medium",children:"Export Logs"})]}),(0,Mt.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:n?(0,Mt.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Loading logs..."}):(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"overflow-x-auto",children:(0,Mt.jsxs)("table",{className:"w-full",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsxs)("tr",{className:"bg-gray-700",children:[(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Time"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Level"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Action"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"User"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"Message"}),(0,Mt.jsx)("th",{className:"px-4 py-4 text-left text-sm font-medium text-gray-300 border-b border-gray-600",children:"IP"})]})}),(0,Mt.jsx)("tbody",{children:0===e.length?(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No logs found"})}):e.map(e=>{return(0,Mt.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:(a=e.created_at,new Date(a).toLocaleString())}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm",children:(0,Mt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(y[e.level]),children:e.level.toUpperCase()})}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white",children:(t=e.action,t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white",children:e.user?e.user.username:"System"}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-white max-w-md truncate",children:e.message}),(0,Mt.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.ip_address||"-"})]},e.log_id);var t,a})})]})}),x>1&&(0,Mt.jsx)("div",{className:"p-4 bg-gray-800 border-t border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",u," of ",x]}),(0,Mt.jsxs)("div",{className:"flex gap-2",children:[(0,Mt.jsx)("button",{onClick:()=>b(u-1),disabled:1===u,className:"px-3 py-1 text-sm bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Previous"}),(0,Mt.jsx)("button",{onClick:()=>b(u+1),disabled:u===x,className:"px-3 py-1 text-sm bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Next"})]})]})})]})})]})})},Nn=e=>{var t;let{salesAgent:a,onClose:s,onEdit:n,onDelete:l}=e;const[i,o]=(0,r.useState)(!1),c=()=>{a.email&&window.open("mailto:".concat(a.email),"_blank")};return(0,Mt.jsxs)("div",{className:"w-full h-full bg-gray-900 flex flex-col overflow-hidden border-l border-gray-700",style:{transition:"none"},children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("div",{children:(0,Mt.jsx)("h2",{className:"text-white font-medium",children:a.name})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>{l&&l(a)},className:"text-gray-400 hover:text-red-400 p-1 rounded",title:"Delete sales agent",children:(0,Mt.jsx)(ya,{size:18,className:"text-gray-400"})}),(0,Mt.jsxs)("button",{onClick:()=>{n&&n(a)},className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded-sm flex items-center",children:[(0,Mt.jsx)(fa,{size:14,className:"mr-1"}),(0,Mt.jsx)("span",{children:"Edit"})]}),(0,Mt.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-white p-1",title:"Send message",children:(0,Mt.jsx)(Ja,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Is,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Rs,{size:16})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)(Xt,{size:16})}),(0,Mt.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white","aria-label":"Close",children:(0,Mt.jsx)(Qt,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Mt.jsx)("div",{className:"mx-auto py-1 px-4",children:(0,Mt.jsxs)("div",{className:"space-y-0",children:[(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"NAME"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:a.name})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"CONTACT NO."}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center",children:[(0,Mt.jsx)("span",{children:a.mobile_number||"9107650861"}),(0,Mt.jsx)("button",{onClick:()=>{a.mobile_number&&window.open("tel:".concat(a.mobile_number),"_blank")},className:"text-gray-400 hover:text-white ml-2",title:"Call",children:(0,Mt.jsx)(Ws,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"EMAIL"}),(0,Mt.jsxs)("div",{className:"text-white flex-1 flex justify-between items-center",children:[(0,Mt.jsx)("span",{children:a.email||"keanu1323@gmail.com"}),(0,Mt.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-white ml-2",title:"Send email",children:(0,Mt.jsx)(ea,{size:16})})]})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"LOCATION"}),(0,Mt.jsx)("div",{className:"text-white flex-1",children:(null===(t=a.territory)||void 0===t?void 0:t.split(",").map((e,t)=>(0,Mt.jsx)("div",{children:e.trim()},t)))||(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{children:"302 Antiporda St."}),(0,Mt.jsx)("div",{children:"Filapila Binangnan, Rizal"})]})})]}),(0,Mt.jsxs)("div",{className:"flex py-3 border-b border-gray-800",children:[(0,Mt.jsx)("div",{className:"w-40 text-gray-400 text-sm",children:"ID NUMBER"}),(0,Mt.jsxs)("div",{className:"text-white flex-1",children:[(0,Mt.jsx)("div",{children:"National ID"}),(0,Mt.jsx)("div",{className:"text-sm text-gray-300",children:"3962-7641-2990-8524"})]})]})]})}),(0,Mt.jsx)("div",{className:"px-4 mt-4",children:(0,Mt.jsxs)("div",{className:"bg-gray-900 rounded-none",children:[(0,Mt.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("h3",{className:"text-white font-normal text-base",children:"Related Billing Details"}),(0,Mt.jsx)("div",{className:"ml-2 px-2 py-0.5 bg-[#1C2230] text-white text-xs rounded",children:5})]}),(0,Mt.jsx)("button",{onClick:()=>o(!i),className:"text-gray-400",children:(0,Mt.jsx)($s,{size:16,className:i?"rotate-180":""})})]}),(0,Mt.jsx)("div",{className:"w-full",children:(0,Mt.jsxs)("table",{className:"w-full text-sm border-spacing-0",children:[(0,Mt.jsx)("thead",{className:"border-b border-gray-700",children:(0,Mt.jsxs)("tr",{children:[(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"Full Name"}),(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"_ComputedAddress"}),(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"LCP"}),(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"NAP"}),(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"PORT"}),(0,Mt.jsx)("th",{className:"px-4 py-2.5 text-left font-normal text-gray-400",children:"Status"})]})}),(0,Mt.jsxs)("tbody",{children:[(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-gray-500"}),"Suzette B Carpio"]})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"0003 Sta. Ursula Vill Subd St., Ba..."}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"Inactive"})]}),(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-green-500"}),"Mark John P Vizcarra"]})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"014 Camias St. Dalig, Batingan..."}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"LCP 007"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"NAP 001"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"PORT 006"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-green-500",children:"Online"})]}),(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-green-500"}),"Gilbert S Llatanda"]})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"55 Bilog St., Batingan, Binangon..."}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"LCP 075"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"NAP 008"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"PORT 004"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-green-500",children:"Online"})]}),(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-gray-500"}),"Mariam S Rimas"]})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"Upper Banaihaw St Sitio Wawa, L..."}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"Inactive"})]}),(0,Mt.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,Mt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-green-500"}),"Maricris T. Cayanan"]})}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"0002 Liwanag St., Libid, Binangon..."}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"LCP 046"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"NAP 006"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-gray-300",children:"PORT 001"}),(0,Mt.jsx)("td",{className:"px-4 py-3 text-green-500",children:"Online"})]})]})]})}),(0,Mt.jsx)("div",{className:"flex justify-end p-2",children:(0,Mt.jsx)("button",{onClick:()=>o(!i),className:"text-[#e66c45] text-sm font-normal mr-2",children:"Expand"})})]})})]})]})},wn=e=>{let{isOpen:t,onClose:a,onSave:s}=e;const[n,l]=(0,r.useState)({name:"",contactNo:"",email:"",location:"",idNumber:"",status:""}),[i,o]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),u=(e,t)=>{l(a=>he(he({},a),{},{[e]:t})),i[e]&&o(t=>he(he({},t),{},{[e]:""}))};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out overflow-y-auto",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("div",{className:"flex items-center",children:(0,Mt.jsx)("h2",{className:"text-base font-normal text-white",children:"Sales Agent List Form"})}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>{a()},className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded-sm text-sm",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return n.name.trim()||(e.name="Name is required"),o(e),0===Object.keys(e).length})()){d(!0);try{console.log("Saving Sales Agent Form data:",n),s(n),a()}catch(e){console.error("Error saving sales agent form:",e)}finally{d(!1)}}},disabled:c,className:"px-4 py-1.5 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-sm text-sm flex items-center",children:c?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"}),(0,Mt.jsx)("button",{onClick:a,className:"text-white mr-3",children:(0,Mt.jsx)(Qt,{size:20})})]})]}),(0,Mt.jsxs)("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-xs text-gray-300 mb-1",children:["NAME",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:n.name,onChange:e=>u("name",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border ".concat(i.name?"border-red-500":"border-gray-700"," rounded-sm text-white focus:outline-none focus:border-orange-500")}),i.name&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.name})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"CONTACT NO."}),(0,Mt.jsx)("input",{type:"text",value:n.contactNo,onChange:e=>u("contactNo",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-sm text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"EMAIL"}),(0,Mt.jsx)("input",{type:"email",value:n.email,onChange:e=>u("email",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-sm text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"LOCATION"}),(0,Mt.jsx)("input",{type:"text",value:n.location,onChange:e=>u("location",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-sm text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"ID NUMBER"}),(0,Mt.jsx)("input",{type:"text",value:n.idNumber,onChange:e=>u("idNumber",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-sm text-white focus:outline-none focus:border-orange-500"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"STATUS"}),(0,Mt.jsx)("input",{type:"text",value:n.status,onChange:e=>u("status",e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-sm text-white focus:outline-none focus:border-orange-500"})]})]})]})}):null},kn=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),x=[{id:1,name:"Keanu C. Nido",email:"keanu.nido@example.com",mobile_number:"9107650861",territory:"302 Antiporda St. Filapila Binangnan, Rizal",created_at:"2024-01-01",updated_at:"2024-01-01"},{id:2,name:"Norwina A. Armas",email:"norwina.armas@example.com",mobile_number:"9124567890",territory:"Dalig, Batingan, Rizal",created_at:"2024-01-02",updated_at:"2024-01-02"},{id:3,name:"Jeffrey A. Basa",email:"jeffrey.basa@example.com",mobile_number:"9123456789",territory:"Bilog St., Batingan, Binangon",created_at:"2024-01-03",updated_at:"2024-01-03"}];(0,r.useEffect)(()=>{t(x)},[]);const h=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())),p=e=>{console.log("Edit agent:",e),d(null)},g=[c?"flex-1":"w-full","bg-gray-950","text-white","h-full","flex","flex-col"].join(" ");return(0,Mt.jsxs)("div",{className:"h-full flex bg-gray-950",style:{transition:"none"},children:[(0,Mt.jsxs)("div",{className:g,children:[(0,Mt.jsx)("div",{className:"py-2.5 px-6 border-b border-gray-700 flex-shrink-0 bg-gray-900",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("h1",{className:"text-xl font-medium text-white",children:"Sales Agent List"}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsxs)("button",{onClick:()=>{m(!0)},className:"px-3 py-1.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Mt.jsx)(pa,{className:"w-3.5 h-3.5"}),"Add"]}),(0,Mt.jsx)("button",{onClick:()=>{console.log("Open filter options")},className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm font-medium flex items-center gap-2",children:(0,Mt.jsx)(ga,{className:"w-3.5 h-3.5"})})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:a?(0,Mt.jsx)("div",{className:"text-center py-8",children:(0,Mt.jsx)("p",{className:"text-gray-400",children:"Loading sales agents..."})}):(0,Mt.jsx)("div",{children:0===h.length?(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No sales agents found"}):h.map((e,t)=>{const a=["flex","items-center","justify-between","py-4","px-6","hover:bg-gray-700","transition-colors","cursor-pointer",t<h.length-1?"border-b border-gray-700":"",(null===c||void 0===c?void 0:c.id)===e.id?"bg-gray-800":""].filter(Boolean).join(" ");return(0,Mt.jsxs)("div",{className:a,onClick:()=>(e=>{d(e)})(e),children:[(0,Mt.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mt.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{o(e)})(e)},className:"p-2 text-gray-400 hover:text-orange-400 hover:bg-orange-900 rounded transition-colors",title:"Delete sales agent",children:(0,Mt.jsx)(ya,{className:"w-4 h-4"})}),(0,Mt.jsx)("button",{onClick:t=>{t.stopPropagation(),p(e)},className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-900 rounded transition-colors",title:"Edit sales agent",children:(0,Mt.jsx)(fa,{className:"w-4 h-4"})}),(0,Mt.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{console.log("Email agent:",e),e.email&&window.open("mailto:".concat(e.email),"_blank")})(e)},className:"p-2 text-gray-400 hover:text-green-400 hover:bg-green-900 rounded transition-colors",title:"Email sales agent",children:(0,Mt.jsx)(ea,{className:"w-4 h-4"})})]})]},e.id)})})})]}),c&&(0,Mt.jsx)("div",{className:"w-1/2 h-full",style:{transition:"none"},children:(0,Mt.jsx)(Nn,{salesAgent:c,onClose:()=>{d(null)},onEdit:p,onDelete:e=>{o(e),d(null)}})}),i&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-gray-900 p-6 rounded border border-gray-700 max-w-md w-full mx-4",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Confirm Delete Sales Agent"}),(0,Mt.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete sales agent "',i.name,'"? This action cannot be undone.']}),(0,Mt.jsxs)("div",{className:"flex gap-4",children:[(0,Mt.jsx)("button",{onClick:()=>{o(null)},className:"px-4 py-2 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:()=>{i&&(t(e=>e.filter(e=>e.id!==i.id)),o(null))},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete Sales Agent"})]})]})}),(0,Mt.jsx)(wn,{isOpen:u,onClose:()=>m(!1),onSave:a=>{const s={id:e.length+1,name:a.name,email:a.email,mobile_number:a.contactNo,territory:a.location,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};t([...e,s]),m(!1)}})]})},Sn=e=>{var t,a,s,r,n,l,i;let{soaRecord:o}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsxs)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:[o.accountNo," | ",o.fullName," | ",o.address.split(",")[0]]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(ea,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Vs,{size:18})}),(0,Mt.jsx)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors",children:"Edit"}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-800",children:(0,Mt.jsxs)("div",{className:"px-5 py-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Statement No."}),(0,Mt.jsx)("span",{className:"text-white",children:o.statementNo||"2509180"+o.id})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white",children:o.fullName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Statement Date"}),(0,Mt.jsx)("span",{className:"text-white",children:o.statementDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Account No."}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsxs)("span",{className:"text-red-500",children:[o.accountNo," | ",o.fullName," | ",o.address]}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Date Installed"}),(0,Mt.jsx)("span",{className:"text-white",children:o.dateInstalled})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white",children:o.contactNumber})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white",children:o.emailAddress})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Plan"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:o.plan}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:o.provider||"SWITCH"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Balance from Previous Bill"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(t=o.balanceFromPreviousBill)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Payment Received from Previous Bill"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",o.paymentReceived||"0"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Remaining Balance from Previous Bill"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(a=o.remainingBalance)||void 0===a?void 0:a.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Monthly Service Fee"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(s=o.monthlyServiceFee)||void 0===s?void 0:s.toFixed(2))||"624.11"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Others and Basic Charges"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(r=o.otherCharges)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"VAT"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(n=o.vat)||void 0===n?void 0:n.toFixed(2))||"74.89"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"DUE DATE"}),(0,Mt.jsx)("span",{className:"text-white",children:o.dueDate||"9/30/2025"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"AMOUNT DUE"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(l=o.amountDue)||void 0===l?void 0:l.toFixed(2))||"699.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"TOTAL AMOUNT DUE"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(i=o.totalAmountDue)||void 0===i?void 0:i.toFixed(2))||"699.00"]})]}),o.deliveryStatus&&(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Delivery Status"}),(0,Mt.jsx)("span",{className:"text-white",children:o.deliveryStatus})]})]})})})]})},Cn=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(1),p=[{key:"statementDate",label:"Statement Date",width:"min-w-36"},{key:"accountNo",label:"Account No.",width:"min-w-32"},{key:"dateInstalled",label:"Date Installed",width:"min-w-32"},{key:"fullName",label:"Full Name",width:"min-w-40"},{key:"contactNumber",label:"Contact Number",width:"min-w-36"},{key:"emailAddress",label:"Email Address",width:"min-w-48"},{key:"address",label:"Address",width:"min-w-56"},{key:"plan",label:"Plan",width:"min-w-32"},{key:"provider",label:"Provider",width:"min-w-28"},{key:"balanceFromPreviousBill",label:"Balance from Previous Bill",width:"min-w-40"},{key:"statementNo",label:"Statement No.",width:"min-w-32"},{key:"paymentReceived",label:"Payment Received",width:"min-w-36"},{key:"remainingBalance",label:"Remaining Balance",width:"min-w-36"},{key:"monthlyServiceFee",label:"Monthly Service Fee",width:"min-w-36"},{key:"otherCharges",label:"Others and Basic Charges",width:"min-w-40"},{key:"vat",label:"VAT",width:"min-w-24"},{key:"dueDate",label:"DUE DATE",width:"min-w-28"},{key:"amountDue",label:"AMOUNT",width:"min-w-28"},{key:"totalAmountDue",label:"TOTAL AMOUNT DUE",width:"min-w-36"},{key:"deliveryStatus",label:"Delivery Status",width:"min-w-32"},{key:"deliveryDate",label:"Delivery Date",width:"min-w-32"},{key:"deliveredBy",label:"Delivered By",width:"min-w-32"},{key:"deliveryRemarks",label:"Delivery Remarks",width:"min-w-40"},{key:"deliveryProof",label:"Delivery Proof",width:"min-w-32"},{key:"modifiedBy",label:"Modified By",width:"min-w-32"},{key:"modifiedDate",label:"Modified Date",width:"min-w-32"},{key:"printLink",label:"Print Link",width:"min-w-28"},{key:"barangay",label:"Barangay",width:"min-w-32"},{key:"city",label:"City",width:"min-w-32"},{key:"region",label:"Region",width:"min-w-32"}];(0,r.useEffect)(()=>{(async()=>{try{d(!0);const e=[{id:"1782",statementDate:"9/23/2025",accountNo:"202306870",dateInstalled:"6/18/2025",fullName:"Violeta A Espinolilla",contactNumber:"9701304853",emailAddress:"violetaarabit@gmail.com",address:"0225 Ilang Ilang St",plan:"SwitchLite - P699",provider:"SWITCH",balanceFromPreviousBill:0,statementNo:"SOA-9809",paymentReceived:699,remainingBalance:0,monthlyServiceFee:699,otherCharges:0,vat:83.88,dueDate:"10/15/2025",amountDue:782.88,totalAmountDue:782.88,deliveryStatus:"Delivered",deliveryDate:"9/25/2025",deliveredBy:"Juan Santos",deliveryRemarks:"Left at door",deliveryProof:"View",modifiedBy:"admin",modifiedDate:"9/23/2025",printLink:"Print",barangay:"Ilang Ilang",city:"Quezon City",region:"Metro Manila"},{id:"5475",statementDate:"8/23/2025",accountNo:"202306869",dateInstalled:"6/18/2025",fullName:"Maybelle B Molilla",contactNumber:"9850873214",emailAddress:"jmaybzm@gmail.com",address:"0426 San Juan Ext St",plan:"SwitchConnect - P799",provider:"SWITCH",balanceFromPreviousBill:0,statementNo:"SOA-9810",paymentReceived:799,remainingBalance:0,monthlyServiceFee:799,otherCharges:0,vat:95.88,dueDate:"9/15/2025",amountDue:894.88,totalAmountDue:894.88,deliveryStatus:"Delivered",deliveryDate:"8/25/2025",deliveredBy:"Marco Polo",deliveryRemarks:"Handed to recipient",deliveryProof:"View",modifiedBy:"admin",modifiedDate:"8/23/2025",printLink:"Print",barangay:"San Juan",city:"Quezon City",region:"Metro Manila"},{id:"5226",statementDate:"7/23/2025",accountNo:"202306868",dateInstalled:"6/18/2025",fullName:"Jonell P Enriquez",contactNumber:"9052592462",emailAddress:"jajarojas089@gmail.com",address:"51 National Rd",plan:"SwitchNet - P999",provider:"SWITCH",balanceFromPreviousBill:0,statementNo:"SOA-9811",paymentReceived:999,remainingBalance:0,monthlyServiceFee:999,otherCharges:0,vat:119.88,dueDate:"8/15/2025",amountDue:1118.88,totalAmountDue:1118.88,deliveryStatus:"Delivered",deliveryDate:"7/25/2025",deliveredBy:"Pedro Penduko",deliveryRemarks:"Placed in mailbox",deliveryProof:"View",modifiedBy:"admin",modifiedDate:"7/23/2025",printLink:"Print",barangay:"National",city:"Manila",region:"Metro Manila"}],t=[];for(let a=0;a<10;a++){const s=e[a%e.length];t.push(he(he({},s),{},{id:"".concat(a+9e3),accountNo:"2023068".concat(70+a),fullName:"Customer ".concat(a+1),emailAddress:"customer".concat(a+1,"@example.com")}))}o([...e,...t]),m(null)}catch(e){console.error("Failed to fetch SOA records:",e),m("Failed to load SOA records. Please try again."),o([])}finally{d(!1)}})()},[]);const g=i.filter(t=>{const s="All"===e||t.statementDate===e,r=""===a||t.fullName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.accountNo.includes(a);return s&&r}),y=async()=>{d(!0),setTimeout(()=>{d(!1)},1e3)},f=(e,t)=>{switch(t){case"statementDate":return e.statementDate||"-";case"accountNo":return(0,Mt.jsx)("span",{className:"text-red-400",children:e.accountNo});case"dateInstalled":return e.dateInstalled||"-";case"fullName":return e.fullName;case"contactNumber":return e.contactNumber||"-";case"emailAddress":return e.emailAddress||"-";case"address":return(0,Mt.jsx)("span",{title:e.address,children:e.address});case"plan":return e.plan||"-";case"provider":return e.provider||"-";case"balanceFromPreviousBill":return void 0!==e.balanceFromPreviousBill?"\u20b1 ".concat(e.balanceFromPreviousBill.toFixed(2)):"-";case"statementNo":return e.statementNo||"-";case"paymentReceived":return void 0!==e.paymentReceived?"\u20b1 ".concat(e.paymentReceived.toFixed(2)):"-";case"remainingBalance":return void 0!==e.remainingBalance?"\u20b1 ".concat(e.remainingBalance.toFixed(2)):"-";case"monthlyServiceFee":return void 0!==e.monthlyServiceFee?"\u20b1 ".concat(e.monthlyServiceFee.toFixed(2)):"-";case"otherCharges":return void 0!==e.otherCharges?"\u20b1 ".concat(e.otherCharges.toFixed(2)):"-";case"vat":return void 0!==e.vat?"\u20b1 ".concat(e.vat.toFixed(2)):"-";case"dueDate":return e.dueDate||"-";case"amountDue":return void 0!==e.amountDue?"\u20b1 ".concat(e.amountDue.toFixed(2)):"-";case"totalAmountDue":return void 0!==e.totalAmountDue?"\u20b1 ".concat(e.totalAmountDue.toFixed(2)):"-";case"deliveryStatus":return e.deliveryStatus||"-";case"deliveryDate":return e.deliveryDate||"-";case"deliveredBy":return e.deliveredBy||"-";case"deliveryRemarks":return e.deliveryRemarks||"-";case"deliveryProof":return e.deliveryProof?(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300",children:e.deliveryProof}):"-";case"modifiedBy":return e.modifiedBy||"-";case"modifiedDate":return e.modifiedDate||"-";case"printLink":return e.printLink?(0,Mt.jsx)("button",{className:"text-blue-400 hover:text-blue-300",children:e.printLink}):"-";case"barangay":return e.barangay||"-";case"city":return e.city||"-";case"region":return e.region||"-";default:return"-"}};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"SOA"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""},{date:"9/23/2025",id:"1782"},{date:"8/23/2025",id:"5475"},{date:"7/23/2025",id:"5226"},{date:"6/23/2025",id:"9005"},{date:"5/23/2025",id:"4711"},{date:"4/23/2025",id:"4474"},{date:"3/23/2025",id:"4211"},{date:"2/23/2025",id:"3023"},{date:"1/23/2025",id:"3549"}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"All"===a.date?"bg-orange-500 bg-opacity-20 text-orange-400 flex items-center":"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:"All"===a.date?(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]}):(0,Mt.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,Mt.jsx)("span",{className:"flex items-center",children:a.date}),(0,Mt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat(e===a.date?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.id})]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search SOA records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:y,disabled:c,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:c?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading SOA records..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:y,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"overflow-x-auto overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsx)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:p.map((e,t)=>(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 ".concat(e.width," whitespace-nowrap ").concat(t<p.length-1?"border-r border-gray-700":""),children:e.label},e.key))})}),(0,Mt.jsx)("tbody",{children:g.length>0?g.map(e=>(0,Mt.jsx)("tr",{className:"border-b border-gray-800 hover:bg-gray-900 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:p.map((t,a)=>(0,Mt.jsx)("td",{className:"py-4 px-3 text-white whitespace-nowrap ".concat(a<p.length-1?"border-r border-gray-800":""),children:f(e,t.key)},t.key))},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:p.length,className:"px-4 py-12 text-center text-gray-400",children:"No SOA records found matching your filters"})})})]})})})})]})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(Sn,{soaRecord:n})]})]})},_n=Jt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),En=e=>{var t,a,s,r;let{invoiceRecord:n}=e;return(0,Mt.jsxs)("div",{className:"bg-gray-900 text-white h-full flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-b border-gray-700",children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold text-white truncate pr-4 min-w-0 flex-1",children:n.invoiceNo||"2508182"+n.id}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(_n,{size:18})}),(0,Mt.jsx)("button",{className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm transition-colors flex items-center space-x-1",children:(0,Mt.jsx)("span",{children:"Apply Stag..."})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Yt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Kt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Xt,{size:18})}),(0,Mt.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:(0,Mt.jsx)(Qt,{size:18})})]})]}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Mt.jsx)("div",{className:"divide-y divide-gray-800",children:(0,Mt.jsxs)("div",{className:"px-5 py-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Invoice No."}),(0,Mt.jsx)("span",{className:"text-white",children:n.invoiceNo||"2508182"+n.id})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Account No."}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsxs)("span",{className:"text-red-500",children:[n.accountNo," | ",n.fullName," | ",n.address]}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Full Name"}),(0,Mt.jsx)("span",{className:"text-white",children:n.fullName})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Invoice Date"}),(0,Mt.jsx)("span",{className:"text-white",children:n.invoiceDate})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Contact Number"}),(0,Mt.jsx)("span",{className:"text-white",children:n.contactNumber})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Email Address"}),(0,Mt.jsx)("span",{className:"text-white",children:n.emailAddress})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Plan"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:n.plan}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Provider"}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("span",{className:"text-white",children:n.provider||"SWITCH"}),(0,Mt.jsx)(Zt,{size:16,className:"ml-2 text-gray-500"})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Remarks"}),(0,Mt.jsx)("span",{className:"text-white",children:n.remarks||"System Generated"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Invoice Balance"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(t=n.invoiceBalance)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Invoice Status"}),(0,Mt.jsx)("span",{className:"".concat("Unpaid"===n.invoiceStatus?"text-red-500":"text-green-500"),children:n.invoiceStatus||"Unpaid"})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Others and Basic Charges"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(a=n.otherCharges)||void 0===a?void 0:a.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Total Amount"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(s=n.totalAmountDue)||void 0===s?void 0:s.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Invoice Payment"}),(0,Mt.jsxs)("span",{className:"text-white",children:["\u20b1",(null===(r=n.invoicePayment)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Mt.jsx)("span",{className:"text-gray-400",children:"Due Date"}),(0,Mt.jsx)("span",{className:"text-white",children:n.dueDate||"9/30/2025"})]})]})})}),(0,Mt.jsxs)("div",{className:"mt-auto border-t border-gray-800",children:[(0,Mt.jsx)("div",{className:"px-5 py-3 flex justify-between items-center bg-gray-850 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("h2",{className:"text-white font-medium",children:"Related Staggered Payments"}),(0,Mt.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded-full",children:n.staggeredPaymentsCount||0})]})}),(0,Mt.jsx)("div",{className:"px-5 py-16 text-center text-gray-500",children:"No items"})]})]})},Pn=()=>{const[e,t]=(0,r.useState)("All"),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(1),p=[{key:"invoiceDate",label:"Invoice Date",width:"min-w-36"},{key:"invoiceStatus",label:"Invoice Status",width:"min-w-36"},{key:"accountNo",label:"Account No.",width:"min-w-32"},{key:"invoiceBalance",label:"Invoice Balance",width:"min-w-36"},{key:"otherCharges",label:"Others and Basic Charges",width:"min-w-44"},{key:"totalAmountDue",label:"Total Amount",width:"min-w-32"},{key:"dueDate",label:"Due Date",width:"min-w-32"},{key:"invoicePayment",label:"Invoice Payment",width:"min-w-36"},{key:"paymentMethod",label:"Payment Method",width:"min-w-36"},{key:"dateProcessed",label:"Date Processed",width:"min-w-36"},{key:"processedBy",label:"Processed By",width:"min-w-32"}];(0,r.useEffect)(()=>{(async()=>{try{d(!0);const e=[{id:"1782",invoiceDate:"9/23/2025",invoiceStatus:"Paid",accountNo:"202306870",fullName:"Violeta A Espinolilla",contactNumber:"9701304853",emailAddress:"violetaarabit@gmail.com",address:"0225 Ilang Ilang St, Bilibiran, Binangonan, Rizal",plan:"SwitchLite - P699",provider:"SWITCH",invoiceNo:"25081821782",invoiceBalance:0,otherCharges:0,totalAmountDue:2609.6,dueDate:"10/15/2025",invoicePayment:2609.6,paymentMethod:"Credit Card",dateProcessed:"9/28/2025",processedBy:"admin",dateInstalled:"6/18/2025",balanceFromPreviousBill:0,vat:83.88,remarks:"System Generated",staggeredPaymentsCount:0},{id:"5475",invoiceDate:"8/23/2025",invoiceStatus:"Unpaid",accountNo:"202307911",fullName:"Winilyn R Luklukan",contactNumber:"9707551528",emailAddress:"luklukanwinilyn@gmail.com",address:"Tabing Dagat, Bilibiran, Binangonan, Rizal",plan:"SwitchLite - P699",provider:"SWITCH",invoiceNo:"25081825475",invoiceBalance:699,otherCharges:0,totalAmountDue:2609.6,dueDate:"8/30/2025",invoicePayment:0,paymentMethod:"N/A",dateInstalled:"6/18/2025",vat:95.88,remarks:"System Generated",staggeredPaymentsCount:0},{id:"5226",invoiceDate:"7/23/2025",invoiceStatus:"Partial",accountNo:"202306868",fullName:"Jonell P Enriquez",contactNumber:"9052592462",emailAddress:"jajarojas089@gmail.com",address:"51 National Rd, Bilibiran, Binangonan, Rizal",plan:"SwitchNet - P999",provider:"SWITCH",invoiceNo:"25081825226",invoiceBalance:518.88,otherCharges:119.88,totalAmountDue:2609.6,dueDate:"8/15/2025",invoicePayment:600,paymentMethod:"GCash",dateProcessed:"8/10/2025",processedBy:"agent001",dateInstalled:"6/18/2025",vat:119.88,remarks:"System Generated",staggeredPaymentsCount:0}],t=[];for(let a=0;a<10;a++){const s=e[a%e.length],r=a%3===0?"Paid":a%3===1?"Unpaid":"Partial",n="Paid"===r?s.totalAmountDue||0:"Partial"===r?(s.totalAmountDue||0)/2:0;t.push(he(he({},s),{},{id:"".concat(a+9e3),accountNo:"2023068".concat(70+a),fullName:"Customer ".concat(a+1),emailAddress:"customer".concat(a+1,"@example.com"),invoiceStatus:r,invoicePayment:n,invoiceBalance:(s.totalAmountDue||0)-n,paymentMethod:"Unpaid"===r?"N/A":a%2===0?"GCash":"Credit Card",dateProcessed:"Unpaid"===r?void 0:"9/".concat(10+a,"/2025"),processedBy:"Unpaid"===r?void 0:"agent"+(a%5+1).toString().padStart(3,"0"),remarks:"System Generated",staggeredPaymentsCount:a%5===0?2:0}))}o([...e,...t]),m(null)}catch(e){console.error("Failed to fetch Invoice records:",e),m("Failed to load Invoice records. Please try again."),o([])}finally{d(!1)}})()},[]);const g=i.filter(t=>{const s="All"===e||t.invoiceDate===e,r=""===a||t.fullName.toLowerCase().includes(a.toLowerCase())||t.address.toLowerCase().includes(a.toLowerCase())||t.accountNo.includes(a)||t.invoiceNo&&t.invoiceNo.toLowerCase().includes(a.toLowerCase())||t.invoiceStatus&&t.invoiceStatus.toLowerCase().includes(a.toLowerCase())||t.paymentMethod&&t.paymentMethod.toLowerCase().includes(a.toLowerCase())||t.processedBy&&t.processedBy.toLowerCase().includes(a.toLowerCase());return s&&r}),y=async()=>{d(!0),setTimeout(()=>{d(!1)},1e3)},f=(e,t)=>{switch(t){case"invoiceDate":return e.invoiceDate||"-";case"invoiceStatus":return(0,Mt.jsx)("span",{className:"".concat("Unpaid"===e.invoiceStatus?"text-red-500":"Paid"===e.invoiceStatus?"text-green-500":"text-yellow-500"),children:e.invoiceStatus||"Unpaid"});case"accountNo":return(0,Mt.jsx)("span",{className:"text-red-400",children:e.accountNo});case"invoiceBalance":return void 0!==e.invoiceBalance?"\u20b1 ".concat(e.invoiceBalance.toFixed(2)):"-";case"otherCharges":return void 0!==e.otherCharges?"\u20b1 ".concat(e.otherCharges.toFixed(2)):"-";case"totalAmountDue":return void 0!==e.totalAmountDue?"\u20b1 ".concat(e.totalAmountDue.toFixed(2)):"-";case"dueDate":return e.dueDate||"-";case"invoicePayment":return void 0!==e.invoicePayment?"\u20b1 ".concat(e.invoicePayment.toFixed(2)):"-";case"paymentMethod":return e.paymentMethod||"N/A";case"dateProcessed":return e.dateProcessed||"Pending";case"processedBy":return e.processedBy||"-";default:return"-"}};return(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"w-64 bg-gray-900 border-r border-gray-700 flex-shrink-0 flex flex-col",children:[(0,Mt.jsx)("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Mt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Invoice"})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:[{date:"All",id:""},{date:"9/23/2025",id:"1782"},{date:"8/23/2025",id:"5475"},{date:"7/23/2025",id:"5226"},{date:"6/23/2025",id:"9005"},{date:"5/23/2025",id:"4711"},{date:"4/23/2025",id:"4474"},{date:"3/23/2025",id:"4211"},{date:"2/23/2025",id:"3023"},{date:"1/23/2025",id:"3549"}].map((a,s)=>(0,Mt.jsx)("button",{onClick:()=>t(a.date),className:"w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-800 ".concat(e===a.date?"All"===a.date?"bg-orange-500 bg-opacity-20 text-orange-400 flex items-center":"bg-orange-500 bg-opacity-20 text-orange-400":"text-gray-300"),children:"All"===a.date?(0,Mt.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,Mt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Mt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Mt.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),a.date]}):(0,Mt.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,Mt.jsx)("span",{className:"flex items-center",children:a.date}),(0,Mt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat(e===a.date?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"),children:a.id})]})},s))})]}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-900 overflow-hidden",children:(0,Mt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 p-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsx)("div",{className:"flex flex-col space-y-3",children:(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"relative flex-1",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search Invoice records...",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsx)("button",{onClick:y,disabled:c,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 text-white px-4 py-2 rounded text-sm transition-colors",children:c?"Loading...":"Refresh"})]})})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:c?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-gray-400",children:[(0,Mt.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,Mt.jsx)("div",{className:"h-4 w-1/3 bg-gray-700 rounded mb-4"}),(0,Mt.jsx)("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),(0,Mt.jsx)("p",{className:"mt-4",children:"Loading Invoice records..."})]}):u?(0,Mt.jsxs)("div",{className:"px-4 py-12 text-center text-red-400",children:[(0,Mt.jsx)("p",{children:u}),(0,Mt.jsx)("button",{onClick:y,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Retry"})]}):(0,Mt.jsx)("div",{className:"overflow-x-auto overflow-y-hidden",children:(0,Mt.jsxs)("table",{className:"w-max min-w-full text-sm border-separate border-spacing-0",children:[(0,Mt.jsx)("thead",{children:(0,Mt.jsx)("tr",{className:"border-b border-gray-700 bg-gray-800 sticky top-0 z-10",children:p.map((e,t)=>(0,Mt.jsx)("th",{className:"text-left py-3 px-3 text-gray-400 font-normal bg-gray-800 ".concat(e.width," whitespace-nowrap ").concat(t<p.length-1?"border-r border-gray-700":""),children:e.label},e.key))})}),(0,Mt.jsx)("tbody",{children:g.length>0?g.map(e=>(0,Mt.jsx)("tr",{className:"border-b border-gray-800 hover:bg-gray-900 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-gray-800":""),onClick:()=>(e=>{l(e)})(e),children:p.map((t,a)=>(0,Mt.jsx)("td",{className:"py-4 px-3 text-white whitespace-nowrap ".concat(a<p.length-1?"border-r border-gray-800":""),children:f(e,t.key)},t.key))},e.id)):(0,Mt.jsx)("tr",{children:(0,Mt.jsx)("td",{colSpan:p.length,className:"px-4 py-12 text-center text-gray-400",children:"No Invoice records found matching your filters"})})})]})})})})]})}),n&&(0,Mt.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-l border-gray-700 flex-shrink-0 relative",children:[(0,Mt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Mt.jsx)("button",{onClick:()=>{l(null)},className:"text-gray-400 hover:text-white transition-colors bg-gray-800 rounded p-1",children:(0,Mt.jsx)(Qt,{size:20})})}),(0,Mt.jsx)(En,{invoiceRecord:n})]})]})},An=e=>{let{isOpen:t,onClose:a,onSave:s}=e;const[n,l]=(0,r.useState)(""),[i,o]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),[u]=(0,r.useState)("ravenampere0123@gmail.com"),[m,x]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=(new Date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});x(e)},[]);const h=()=>{l(""),o({}),a()};return t?(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:(0,Mt.jsxs)("div",{className:"h-full w-full max-w-2xl bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0 overflow-hidden flex flex-col",children:[(0,Mt.jsxs)("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Mt.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:(0,Mt.jsx)(Qt,{size:24})}),(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Inventory Category Form"})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsx)("button",{onClick:h,className:"px-6 py-2 border border-red-600 text-red-600 hover:bg-red-600 hover:text-white rounded text-sm transition-colors",children:"Cancel"}),(0,Mt.jsx)("button",{onClick:async()=>{if((()=>{const e={};return n.trim()||(e.categoryName="Category name is required"),o(e),0===Object.keys(e).length})()){d(!0);try{console.log("Creating new inventory category:",n),s({name:n.trim(),modified_by:u}),d(!1),h()}catch(a){var e,t;console.error("Error creating inventory category:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message||"Failed to create inventory category. Please try again.";alert("Error: ".concat(s)),d(!1)}}},disabled:c,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded text-sm flex items-center",children:c?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"})]})]}),(0,Mt.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Category Name",(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("input",{type:"text",value:n,onChange:e=>{l(e.target.value),i.categoryName&&o(e=>he(he({},e),{},{categoryName:""}))},placeholder:"",className:"w-full px-4 py-3 bg-gray-900 border ".concat(i.categoryName?"border-red-500":"border-gray-700"," rounded text-white focus:outline-none focus:border-red-500"),autoFocus:!0}),i.categoryName&&(0,Mt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i.categoryName})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified By"}),(0,Mt.jsx)("div",{className:"inline-block px-4 py-2 bg-gray-800 border border-gray-700 rounded-full text-white text-sm",children:u})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Modified Date"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)("input",{type:"text",value:m,readOnly:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded text-gray-400 focus:outline-none cursor-default"}),(0,Mt.jsx)(Ua,{className:"absolute right-4 top-3.5 text-gray-500",size:20})]})]})]})]})}):null},Ln=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{l(!0),o(null);const e=await(async()=>{try{const e=await Rt.get("/inventory-categories");console.log("Raw inventory categories response:",e),console.log("Inventory categories response.data:",e.data);const t=e.data;if(Array.isArray(t))return console.log("Successfully retrieved ".concat(t.length," inventory categories from direct array")),t;if(t.success&&Array.isArray(t.data)){const e=t.data;return console.log("Successfully retrieved ".concat(e.length," inventory categories from wrapped response")),e}return console.log("Using empty categories array as fallback. Data type:",typeof t,"Is array:",Array.isArray(t)),[]}catch(i){return console.error("Error fetching inventory categories:",i),console.error("Error details:",i.response?i.response.data:"No response data"),[]}})();t(e)}catch(i){console.error("Error fetching inventory categories:",i),o("Failed to fetch inventory categories")}finally{l(!1)}},m=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())),x=async e=>{if(window.confirm('Are you sure you want to delete the category "'.concat(e.name,'"?')))try{await(async e=>{try{await Rt.delete("/inventory-categories/".concat(e))}catch(i){throw console.error("Error deleting inventory category:",i),i}})(e.id),t(t=>t.filter(t=>t.id!==e.id)),console.log("Category deleted:",e)}catch(i){console.error("Error deleting category:",i),alert("Failed to delete category. Please try again.")}},h=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}catch(t){return"N/A"}};return n?(0,Mt.jsx)("div",{className:"bg-gray-950 h-full flex items-center justify-center",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),(0,Mt.jsx)("div",{className:"text-white text-lg",children:"Loading categories..."})]})}):i?(0,Mt.jsx)("div",{className:"bg-gray-950 h-full flex items-center justify-center",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"text-white text-lg mb-2",children:"Error Loading Categories"}),(0,Mt.jsx)("div",{className:"text-gray-400 mb-4",children:i}),(0,Mt.jsx)("button",{onClick:u,className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Retry"})]})}):(0,Mt.jsxs)("div",{className:"bg-gray-950 h-full flex flex-col",children:[(0,Mt.jsx)("div",{className:"bg-gray-900 px-6 py-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Inventory Category List"}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),(0,Mt.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,Mt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})}),(0,Mt.jsx)("div",{className:"bg-gray-900 px-6 py-4 border-b border-gray-700 flex-shrink-0",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Mt.jsx)("input",{type:"text",placeholder:"Search Inventory Category List",value:a,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 text-white border border-gray-600 rounded pl-10 pr-4 py-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),(0,Mt.jsx)(Gt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,Mt.jsxs)("button",{onClick:()=>d(!0),className:"bg-orange-600 text-white px-4 py-2 rounded text-sm flex items-center space-x-2 hover:bg-orange-700 transition-colors ml-4",children:[(0,Mt.jsx)(pa,{size:16}),(0,Mt.jsx)("span",{children:"Add"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto",children:m.length>0?(0,Mt.jsx)("div",{className:"divide-y divide-gray-700",children:m.map(e=>(0,Mt.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-800 transition-colors group",children:[(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsx)("div",{className:"text-white font-medium text-lg",children:e.name}),(e.modified_date||e.updated_at)&&(0,Mt.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:h(e.modified_date||e.updated_at||"")})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>(e=>{console.log("View category:",e)})(e),className:"p-2 text-gray-400 hover:text-blue-400 rounded transition-colors",title:"View",children:(0,Mt.jsx)(cn,{size:16})}),(0,Mt.jsx)("button",{onClick:()=>(e=>{console.log("Edit category:",e)})(e),className:"p-2 text-gray-400 hover:text-green-400 rounded transition-colors",title:"Edit",children:(0,Mt.jsx)(fa,{size:16})}),(0,Mt.jsx)("button",{onClick:()=>x(e),className:"p-2 text-gray-400 hover:text-red-400 rounded transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:16})})]})]},e.id))}):(0,Mt.jsxs)("div",{className:"p-12 text-center text-gray-400",children:[(0,Mt.jsx)("div",{className:"text-lg mb-2",children:"No categories found"}),(0,Mt.jsx)("div",{className:"text-sm",children:0===e.length?"Start by adding some inventory categories":"Try adjusting your search filter"})]})}),(0,Mt.jsx)(An,{isOpen:c,onClose:()=>d(!1),onSave:async e=>{try{const a=await(async e=>{try{const t=await Rt.post("/inventory-categories",e);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create inventory category")}catch(i){throw console.error("Error creating inventory category:",i),i}})(e);t(e=>[a,...e]),console.log("Category added:",a)}catch(i){console.error("Error adding category:",i),alert("Failed to add category. Please try again.")}}})]})},Tn=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n()},[]);const n=async()=>{s(!0);try{t([])}catch(e){console.error("Error fetching SOA records:",e)}finally{s(!1)}},l=()=>{console.log("Add SOA clicked")},i=e=>{switch(e){case"Generated":return"bg-blue-500 bg-opacity-20 text-blue-400";case"Sent":return"bg-green-500 bg-opacity-20 text-green-400";case"Pending":return"bg-yellow-500 bg-opacity-20 text-yellow-400";default:return"bg-gray-500 bg-opacity-20 text-gray-400"}};return a?(0,Mt.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-900",children:(0,Mt.jsx)("div",{className:"text-white",children:"Loading..."})}):(0,Mt.jsxs)("div",{className:"h-full bg-gray-900 text-white",children:[(0,Mt.jsx)("div",{className:"bg-gray-800 px-6 py-4 border-b border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("div",{className:"flex items-center space-x-3",children:(0,Mt.jsx)("h1",{className:"text-xl font-semibold",children:"SOA Generation"})}),e.length>0&&(0,Mt.jsxs)("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded transition-colors",children:[(0,Mt.jsx)(pa,{size:18}),(0,Mt.jsx)("span",{children:"Generate SOA"})]})]})}),(0,Mt.jsx)("div",{className:"p-6 ".concat(0===e.length?"flex items-center justify-center":"overflow-y-auto"),style:{height:"calc(100vh - 80px)"},children:0===e.length?(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"mb-6",children:(0,Mt.jsx)(Va,{className:"h-24 w-24 text-gray-600 mx-auto"})}),(0,Mt.jsx)("h2",{className:"text-2xl font-semibold text-gray-300 mb-2",children:"No SOA Records"}),(0,Mt.jsx)("p",{className:"text-gray-500 mb-8",children:"Get started by generating your first Statement of Account"}),(0,Mt.jsxs)("button",{onClick:l,className:"flex items-center space-x-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded transition-colors mx-auto",children:[(0,Mt.jsx)(pa,{size:20}),(0,Mt.jsx)("span",{children:"Generate SOA"})]})]}):(0,Mt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(e=>(0,Mt.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700 hover:border-orange-500 transition-colors overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-750 px-4 py-3 border-b border-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Account No."}),(0,Mt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(i(e.status)),children:e.status})]}),(0,Mt.jsx)("div",{className:"text-lg font-semibold text-white mt-1",children:e.accountNo})]}),(0,Mt.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(La,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Customer"}),(0,Mt.jsx)("div",{className:"text-sm font-medium text-white truncate",children:e.customerName})]})]}),(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(ea,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Email"}),(0,Mt.jsx)("div",{className:"text-sm font-medium text-white truncate",children:e.email})]})]}),(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(Ws,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Phone"}),(0,Mt.jsx)("div",{className:"text-sm font-medium text-white truncate",children:e.phone})]})]}),(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(Ra,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Address"}),(0,Mt.jsx)("div",{className:"text-sm font-medium text-white truncate",children:e.address})]})]}),(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(Ua,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Billing Period"}),(0,Mt.jsx)("div",{className:"text-sm font-medium text-white",children:e.billingPeriod})]})]}),(0,Mt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Mt.jsx)(Ma,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsx)("div",{className:"text-sm text-gray-400",children:"Total Amount"}),(0,Mt.jsxs)("div",{className:"text-lg font-semibold text-orange-500",children:["\u20b1",e.totalAmount.toFixed(2)]})]})]}),(0,Mt.jsxs)("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-700",children:["Generated: ",e.generatedDate]})]}),(0,Mt.jsxs)("div",{className:"bg-gray-750 px-4 py-3 border-t border-gray-700 flex items-center justify-between",children:[(0,Mt.jsx)("button",{onClick:()=>{return t=e.id,void console.log("View SOA:",t);var t},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors",title:"View",children:(0,Mt.jsx)(cn,{size:18})}),(0,Mt.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Download SOA:",t);var t},className:"p-2 text-green-400 hover:text-green-300 hover:bg-gray-700 rounded transition-colors",title:"Download",children:(0,Mt.jsx)(_n,{size:18})}),(0,Mt.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Delete SOA:",t);var t},className:"p-2 text-red-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors",title:"Delete",children:(0,Mt.jsx)(ya,{size:18})})]})]},e.id))})})]})},Dn=e=>{let{onLogout:t}=e;const[a,s]=(0,r.useState)("dashboard"),[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)("");(0,r.useEffect)(()=>{console.log("Active section changed to:",a)},[a]);return(0,Mt.jsxs)("div",{className:"h-screen bg-gray-950 flex flex-col overflow-hidden",children:[(0,Mt.jsx)("div",{className:"flex-shrink-0",children:(0,Mt.jsx)(es,{onSearch:e=>{o(e)},onToggleSidebar:()=>{l(!n)}})}),(0,Mt.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Mt.jsx)("div",{className:"flex-shrink-0",children:(0,Mt.jsx)(Za,{activeSection:a,onSectionChange:s,onLogout:t,isCollapsed:n})}),(0,Mt.jsx)("div",{className:"flex-1 bg-gray-950 overflow-hidden",children:(0,Mt.jsx)("div",{className:"h-full overflow-y-auto",children:(()=>{switch(a){case"customer-map":return(0,Mt.jsx)("div",{className:"p-6 text-white",children:"Customer Map - Coming Soon"});case"sales-agent-list":return(0,Mt.jsx)(kn,{});case"soa":return(0,Mt.jsx)(Cn,{});case"invoice":return(0,Mt.jsx)(Pn,{});case"overdue":return(0,Mt.jsx)(ca,{});case"dc-notice":return(0,Mt.jsx)($t,{});case"discounts":return(0,Mt.jsx)(na,{});case"advanced-payment":case"advance-payment":return(0,Mt.jsx)(oa,{});case"staggered-payment":return console.log("Loading StaggeredPayment component"),(0,Mt.jsx)(da,{});case"staggered-installation":return console.log("Loading StaggeredInstallation component"),(0,Mt.jsx)(xa,{});case"mass-rebate":return console.log("Loading MassRebate component"),(0,Mt.jsx)(ha,{});case"sms-blast":return console.log("Loading SMS Blast component"),(0,Mt.jsx)(va,{});case"sms-blast-logs":return console.log("Loading SMS Blast Logs component"),(0,Mt.jsx)(ja,{});case"disconnected-logs":return console.log("Loading Disconnected Logs component"),(0,Mt.jsx)(Sa,{});case"reconnection-logs":return console.log("Loading Reconnection Logs component"),(0,Mt.jsx)(_a,{});case"user-management":return(0,Mt.jsx)(Cs,{});case"organization-management":return(0,Mt.jsx)(Ps,{});case"group-management":return(0,Mt.jsx)(Ts,{});case"application-management":return(0,Mt.jsx)(yr,{});case"billing":return(0,Mt.jsx)(Pr,{});case"transaction-list":return(0,Mt.jsx)(Lr,{});case"transactions-pending-list":return(0,Mt.jsx)(Dr,{});case"payment-portal":return(0,Mt.jsx)(Ir,{});case"job-order":return(0,Mt.jsx)(Fr,{});case"service-order":return(0,Mt.jsx)(qr,{});case"application-visit":return(0,Mt.jsx)(Gr,{});case"location-list":return(0,Mt.jsx)(Zr,{});case"plan-list":return(0,Mt.jsx)(tn,{});case"router-models":return(0,Mt.jsx)(an,{});case"lcp":return(0,Mt.jsx)(rn,{});case"nap":return(0,Mt.jsx)(ln,{});case"lcp-nap-list":return(0,Mt.jsx)(dn,{});case"inventory":return(0,Mt.jsx)(gn,{});case"inventory-category-list":return(0,Mt.jsx)(Ln,{});case"expenses-log":return(0,Mt.jsx)(fn,{});case"daily-expenses":return(0,Mt.jsx)(vn,{});case"logs":return(0,Mt.jsx)(jn,{});case"soa-generation":return(0,Mt.jsx)(Tn,{});default:return(0,Mt.jsx)(ns,{})}})()})})]})]})};const zn=function(){const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(()=>{const e=localStorage.getItem("authData");if(e)try{JSON.parse(e);t(!0)}catch(a){console.error("Error parsing auth data:",a),localStorage.removeItem("authData")}s(!1)})()},[]);const n=()=>{localStorage.removeItem("authData"),t(!1)};return a?(0,Mt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#282c34",color:"#61dafb",fontSize:"18px"},children:"Loading..."}):e?(0,Mt.jsx)(Dn,{onLogout:n}):(0,Mt.jsx)(Ot,{onLogin:async e=>{localStorage.setItem("authData",JSON.stringify(e)),t(!0)}})},In=e=>{e&&e instanceof Function&&a.e(453).then(a.bind(a,453)).then(t=>{let{getCLS:a,getFID:s,getFCP:r,getLCP:n,getTTFB:l}=t;a(e),s(e),r(e),n(e),l(e)})};n.createRoot(document.getElementById("root")).render((0,Mt.jsx)(r.StrictMode,{children:(0,Mt.jsx)(zn,{})})),In()})();
//# sourceMappingURL=main.11bbc57d.js.map